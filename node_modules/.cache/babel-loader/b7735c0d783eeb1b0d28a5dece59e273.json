{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SendContext = void 0;\n\nconst networkParams_1 = require(\"../../networkParams\");\n\nconst strictChecker_1 = require(\"../strictChecker\");\n\nconst errors_1 = require(\"../../errors\");\n\nconst systemWrapper_1 = require(\"./systemWrapper\");\n/**\n * Stores contextual information which is needed when preparing a transaction.\n */\n\n\nclass SendContext {\n  constructor(provider) {\n    this.sender_ = null;\n    this.provider_ = provider;\n    this.gas_ = null;\n    this.logger_ = null;\n    this.value_ = null;\n    this.checker = new strictChecker_1.StrictChecker();\n  }\n\n  provider(provider) {\n    this.provider_ = provider;\n    return this;\n  }\n\n  sender(sender) {\n    this.sender_ = sender;\n    return this;\n  }\n\n  gas(gas) {\n    this.gas_ = new networkParams_1.GasLimit(gas);\n    return this;\n  }\n\n  autoGas(baseGas) {\n    return this.gas(systemWrapper_1.getGasFromValue(baseGas, this.value_));\n  }\n\n  logger(logger) {\n    this.logger_ = logger;\n    return this;\n  }\n\n  value(value) {\n    this.value_ = value;\n    return this;\n  }\n\n  getAndResetValue() {\n    let value = this.value_;\n    this.value_ = null;\n    return value;\n  }\n\n  getSender() {\n    if (this.sender_) {\n      return this.sender_;\n    }\n\n    throw new errors_1.Err(\"sender not set\");\n  }\n\n  getSenderOptional() {\n    return this.sender_;\n  }\n\n  getProvider() {\n    return this.provider_;\n  }\n\n  getGasLimit() {\n    if (this.gas_) {\n      return this.gas_;\n    }\n\n    throw new errors_1.Err(\"gas limit not set\");\n  }\n\n  getLogger() {\n    return this.logger_;\n  }\n\n}\n\nexports.SendContext = SendContext;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA;;AAIA;;AACA;AAEA;;;;;AAGA,MAAaA,WAAb,CAAwB;AAQpBC,cAAYC,QAAZ,EAA+B;AAC3B,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,SAAL,GAAiBF,QAAjB;AACA,SAAKG,IAAL,GAAY,IAAZ;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,MAAL,GAAc,IAAd;AACA,SAAKC,OAAL,GAAe,IAAIC,6BAAJ,EAAf;AACH;;AAEDP,UAAQ,CAACA,QAAD,EAAoB;AACxB,SAAKE,SAAL,GAAiBF,QAAjB;AACA,WAAO,IAAP;AACH;;AAEDQ,QAAM,CAACA,MAAD,EAAmB;AACrB,SAAKP,OAAL,GAAeO,MAAf;AACA,WAAO,IAAP;AACH;;AAEDC,KAAG,CAACA,GAAD,EAAY;AACX,SAAKN,IAAL,GAAY,IAAIO,wBAAJ,CAAaD,GAAb,CAAZ;AACA,WAAO,IAAP;AACH;;AAEDE,SAAO,CAACC,OAAD,EAAgB;AACnB,WAAO,KAAKH,GAAL,CAASI,gCAAgBD,OAAhB,EAAyB,KAAKP,MAA9B,CAAT,CAAP;AACH;;AAEDS,QAAM,CAACA,MAAD,EAA8B;AAChC,SAAKV,OAAL,GAAeU,MAAf;AACA,WAAO,IAAP;AACH;;AAEDC,OAAK,CAACA,KAAD,EAAe;AAChB,SAAKV,MAAL,GAAcU,KAAd;AACA,WAAO,IAAP;AACH;;AAEDC,kBAAgB;AACZ,QAAID,KAAK,GAAG,KAAKV,MAAjB;AACA,SAAKA,MAAL,GAAc,IAAd;AACA,WAAOU,KAAP;AACH;;AAEDE,WAAS;AACL,QAAI,KAAKhB,OAAT,EAAkB;AACd,aAAO,KAAKA,OAAZ;AACH;;AACD,UAAM,IAAIiB,YAAJ,CAAQ,gBAAR,CAAN;AACH;;AAEDC,mBAAiB;AACb,WAAO,KAAKlB,OAAZ;AACH;;AAEDmB,aAAW;AACP,WAAO,KAAKlB,SAAZ;AACH;;AAEDmB,aAAW;AACP,QAAI,KAAKlB,IAAT,EAAe;AACX,aAAO,KAAKA,IAAZ;AACH;;AACD,UAAM,IAAIe,YAAJ,CAAQ,mBAAR,CAAN;AACH;;AAEDI,WAAS;AACL,WAAO,KAAKlB,OAAZ;AACH;;AA5EmB;;AAAxBmB","names":["SendContext","constructor","provider","sender_","provider_","gas_","logger_","value_","checker","strictChecker_1","sender","gas","networkParams_1","autoGas","baseGas","systemWrapper_1","logger","value","getAndResetValue","getSender","errors_1","getSenderOptional","getProvider","getGasLimit","getLogger","exports"],"sourceRoot":"","sources":["../../../src/smartcontracts/wrapper/sendContext.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}