{"ast":null,"code":"import { invariant as e } from \"@onflow/util-invariant\";\nimport { SUBSCRIBE as t, UNSUBSCRIBE as n, spawn as r, send as o, subscriber as i } from \"@onflow/util-actor\";\nimport { Transaction as a, SendTransactionRequest as u, AccessAPI as c, GetTransactionRequest as s, ExecuteScriptAtBlockIDRequest as l, ExecuteScriptAtBlockHeightRequest as f, ExecuteScriptAtLatestBlockRequest as d, GetAccountAtBlockHeightRequest as m, GetAccountAtLatestBlockRequest as g, GetEventsForHeightRangeRequest as p, GetEventsForBlockIDsRequest as h, GetBlockByIDRequest as v, GetBlockByHeightRequest as y, GetLatestBlockRequest as b, GetBlockHeaderByIDRequest as k, GetBlockHeaderByHeightRequest as I, GetLatestBlockHeaderRequest as S, GetCollectionByIDRequest as P, PingRequest as w } from \"@onflow/protobuf\";\nimport { sansPrefix as B, withPrefix as A } from \"@onflow/util-address\";\nimport { grpc as E } from \"@improbable-eng/grpc-web\";\nimport { NodeHttpTransport as T } from \"@improbable-eng/grpc-web-node-http-transport\";\nimport { encode as N } from \"@onflow/rlp\";\nimport { template as x } from \"@onflow/util-template\";\nexport { template as cadence, template as cdc } from \"@onflow/util-template\";\n\nfunction O() {\n  return (O = Object.assign || function (e) {\n    for (var t = 1; t < arguments.length; t++) {\n      var n = arguments[t];\n\n      for (var r in n) Object.prototype.hasOwnProperty.call(n, r) && (e[r] = n[r]);\n    }\n\n    return e;\n  }).apply(this, arguments);\n}\n\nfunction _(e) {\n  return (_ = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) {\n    return e.__proto__ || Object.getPrototypeOf(e);\n  })(e);\n}\n\nfunction j(e, t) {\n  return (j = Object.setPrototypeOf || function (e, t) {\n    return e.__proto__ = t, e;\n  })(e, t);\n}\n\nfunction L() {\n  if (\"undefined\" == typeof Reflect || !Reflect.construct) return !1;\n  if (Reflect.construct.sham) return !1;\n  if (\"function\" == typeof Proxy) return !0;\n\n  try {\n    return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;\n  } catch (e) {\n    return !1;\n  }\n}\n\nfunction G(e, t, n) {\n  return (G = L() ? Reflect.construct : function (e, t, n) {\n    var r = [null];\n    r.push.apply(r, t);\n    var o = new (Function.bind.apply(e, r))();\n    return n && j(o, n.prototype), o;\n  }).apply(null, arguments);\n}\n\nfunction C(e) {\n  var t = \"function\" == typeof Map ? new Map() : void 0;\n  return (C = function (e) {\n    if (null === e || -1 === Function.toString.call(e).indexOf(\"[native code]\")) return e;\n    if (\"function\" != typeof e) throw new TypeError(\"Super expression must either be null or a function\");\n\n    if (void 0 !== t) {\n      if (t.has(e)) return t.get(e);\n      t.set(e, n);\n    }\n\n    function n() {\n      return G(e, arguments, _(this).constructor);\n    }\n\n    return n.prototype = Object.create(e.prototype, {\n      constructor: {\n        value: n,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    }), j(n, e);\n  })(e);\n}\n\nfunction U(e, t) {\n  (null == t || t > e.length) && (t = e.length);\n\n  for (var n = 0, r = new Array(t); n < t; n++) r[n] = e[n];\n\n  return r;\n}\n\nvar D,\n    R = '{\\n  \"tag\":\"UNKNOWN\",\\n  \"assigns\":{},\\n  \"status\":\"OK\",\\n  \"reason\":null,\\n  \"accounts\":{},\\n  \"params\":{},\\n  \"arguments\":{},\\n  \"message\": {\\n    \"cadence\":null,\\n    \"refBlock\":null,\\n    \"computeLimit\":null,\\n    \"proposer\":null,\\n    \"payer\":null,\\n    \"authorizations\":[],\\n    \"params\":[],\\n    \"arguments\":[]\\n  },\\n  \"proposer\":null,\\n  \"authorizations\":[],\\n  \"payer\":null,\\n  \"events\": {\\n    \"eventType\":null,\\n    \"start\":null,\\n    \"end\":null,\\n    \"blockIds\":[]\\n  },\\n  \"transaction\": {\\n    \"id\":null\\n  },\\n  \"block\": {\\n    \"id\":null,\\n    \"height\":null,\\n    \"isSealed\":null\\n  },\\n  \"account\": {\\n    \"addr\":null\\n  },\\n  \"collection\": {\\n    \"id\":null\\n  }\\n}',\n    K = new Set(Object.keys(JSON.parse(R))),\n    F = function () {\n  return JSON.parse(R);\n},\n    H = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\"),\n    z = function () {\n  return H[~~(Math.random() * H.length)];\n},\n    q = function () {\n  return Array.from({\n    length: 10\n  }, z).join(\"\");\n},\n    J = function (e) {\n  return Array.isArray(e);\n},\n    M = function (e) {\n  return null == e;\n},\n    W = function (e) {\n  return e.status = \"OK\", e;\n},\n    Y = function (e, t) {\n  return e.status = \"BAD\", e.reason = t, e;\n},\n    V = function (e) {\n  return function (t) {\n    return t.tag = e, W(t);\n  };\n},\n    $ = function (t, n) {\n  return void 0 === n && (n = {}), function (r) {\n    var o;\n    e(\"function\" == typeof t || \"object\" == typeof t, \"prepAccount must be passed an authorization function or an account object\"), e(null != n.role, \"Account must have a role\");\n    var i = JSON.parse('{\\n  \"kind\":\"ACCOUNT\",\\n  \"tempId\":null,\\n  \"addr\":null,\\n  \"keyId\":null,\\n  \"sequenceNum\":null,\\n  \"signature\":null,\\n  \"signingFunction\":null,\\n  \"resolve\":null,\\n  \"role\": {\\n    \"proposer\":false,\\n    \"authorizer\":false,\\n    \"payer\":false,\\n    \"param\":false\\n  }\\n}'),\n        a = n.role,\n        u = q();\n    return r.accounts[u] = O({}, i, {\n      tempId: u\n    }, t = \"function\" == typeof t ? {\n      resolve: t\n    } : t, {\n      role: O({}, i.role, \"object\" == typeof t.role ? t.role : {}, (o = {}, o[a] = !0, o))\n    }), \"authorizer\" === a ? r.authorizations.push(u) : r[a] = u, r;\n  };\n},\n    X = function (e) {\n  return function (t) {\n    var n = q();\n    return t.message.arguments.push(n), t.arguments[n] = JSON.parse('{\\n  \"kind\":\"ARGUMENT\",\\n  \"tempId\":null,\\n  \"value\":null,\\n  \"asArgument\":null,\\n  \"xform\":null,\\n  \"resolve\": null\\n}'), t.arguments[n].tempId = n, t.arguments[n].value = e.value, t.arguments[n].asArgument = e.asArgument, t.arguments[n].xform = e.xform, t.arguments[n].resolve = e.resolve, W(t);\n  };\n},\n    Q = V(\"SCRIPT\"),\n    Z = V(\"TRANSACTION\"),\n    ee = V(\"GET_TRANSACTION_STATUS\"),\n    te = V(\"GET_TRANSACTION\"),\n    ne = V(\"GET_ACCOUNT\"),\n    re = V(\"GET_EVENTS\"),\n    oe = V(\"GET_LATEST_BLOCK\"),\n    ie = V(\"GET_BLOCK_BY_ID\"),\n    ae = V(\"GET_BLOCK_BY_HEIGHT\"),\n    ue = V(\"PING\"),\n    ce = V(\"GET_BLOCK\"),\n    se = V(\"GET_BLOCK_HEADER\"),\n    le = V(\"GET_COLLECTION\"),\n    fe = function (e) {\n  return function (t) {\n    return t.tag === e;\n  };\n},\n    de = fe(\"UNKNOWN\"),\n    me = fe(\"SCRIPT\"),\n    ge = fe(\"TRANSACTION\"),\n    pe = fe(\"GET_TRANSACTION_STATUS\"),\n    he = fe(\"GET_TRANSACTION\"),\n    ve = fe(\"GET_ACCOUNT\"),\n    ye = fe(\"GET_EVENTS\"),\n    be = fe(\"GET_LATEST_BLOCK\"),\n    ke = fe(\"GET_BLOCK_BY_ID\"),\n    Ie = fe(\"GET_BLOCK_BY_HEIGHT\"),\n    Se = fe(\"PING\"),\n    Pe = fe(\"GET_BLOCK\"),\n    we = fe(\"GET_BLOCK_HEADER\"),\n    Be = fe(\"GET_COLLECTION\"),\n    Ae = function (e) {\n  return \"OK\" === e.status;\n},\n    Ee = function (e) {\n  return \"BAD\" === e.status;\n},\n    Te = function (e) {\n  return e.reason;\n},\n    Ne = function e(t, n) {\n  void 0 === n && (n = []);\n\n  try {\n    return Promise.resolve(function (r, o) {\n      try {\n        var i = Promise.resolve(t).then(function (r) {\n          if (t = function (e) {\n            for (var t = 0, n = Object.keys(e); t < n.length; t++) {\n              var r = n[t];\n              if (!K.has(r)) throw new Error('\"' + r + '\" is an invalid root level Interaction property.');\n            }\n\n            return e;\n          }(r), Ee(t)) throw new Error(\"Interaction Error: \" + t.reason);\n          if (!n.length) return t;\n          var o = n[0],\n              i = n.slice(1);\n          return Promise.resolve(o).then(function (n) {\n            if (\"function\" == typeof n) return e(n(t), i);\n            if (M(n) || !n) return e(t, i);\n            if (function (e) {\n              if (null === (t = e) || \"object\" != typeof t || M(e) || function (e) {\n                return \"number\" == typeof e;\n              }(e)) return !1;\n\n              for (var t, n, r = function (e, t) {\n                var n;\n\n                if (\"undefined\" == typeof Symbol || null == e[Symbol.iterator]) {\n                  if (Array.isArray(e) || (n = function (e, t) {\n                    if (e) {\n                      if (\"string\" == typeof e) return U(e, void 0);\n                      var n = Object.prototype.toString.call(e).slice(8, -1);\n                      return \"Object\" === n && e.constructor && (n = e.constructor.name), \"Map\" === n || \"Set\" === n ? Array.from(e) : \"Arguments\" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n) ? U(e, void 0) : void 0;\n                    }\n                  }(e))) {\n                    n && (e = n);\n                    var r = 0;\n                    return function () {\n                      return r >= e.length ? {\n                        done: !0\n                      } : {\n                        done: !1,\n                        value: e[r++]\n                      };\n                    };\n                  }\n\n                  throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n                }\n\n                return (n = e[Symbol.iterator]()).next.bind(n);\n              }(K); !(n = r()).done;) if (!e.hasOwnProperty(n.value)) return !1;\n\n              return !0;\n            }(n)) return e(n, i);\n            throw new Error(\"Invalid Interaction Composition\");\n          });\n        });\n      } catch (e) {\n        return o(e);\n      }\n\n      return i && i.then ? i.then(void 0, o) : i;\n    }(0, function (e) {\n      throw e;\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    xe = function e() {\n  var t = [].slice.call(arguments),\n      n = t[0],\n      r = t[1];\n  return J(n) && null == r ? function (t) {\n    return e(t, n);\n  } : Ne(n, r);\n},\n    Oe = function (e) {\n  return e;\n},\n    _e = function (e, t, n) {\n  return null == e.assigns[t] ? n : e.assigns[t];\n},\n    je = function (e, t) {\n  return function (n) {\n    return n.assigns[e] = t, W(n);\n  };\n},\n    Le = function (e, t) {\n  return void 0 === t && (t = Oe), function (n) {\n    return n.assigns[e] = t(n.assigns[e], n), W(n);\n  };\n},\n    Ge = function (e) {\n  return function (t) {\n    return delete t.assigns[e], W(t);\n  };\n};\n\nfunction Ce(e) {\n  return void 0 === e && (e = []), xe(F(), e);\n}\n\nvar Ue = \"config\",\n    De = \"PUT_CONFIG\",\n    Re = \"GET_CONFIG\",\n    Ke = \"CONFIG/UPDATED\",\n    Fe = function (e) {\n  return e;\n},\n    He = ((D = {})[De] = function (e, t, n) {\n  var r = n.key,\n      o = n.value;\n  if (null == r) throw new Error(\"Missing 'key' for config/put.\");\n  e.put(r, o), e.broadcast(Ke, e.all());\n}, D[Re] = function (e, t, n) {\n  var r = n.key,\n      o = n.fallback;\n  if (null == r) throw new Error(\"Missing 'key' for config/get\");\n  t.reply(e.get(r, o));\n}, D.UPDATE_CONFIG = function (e, t, n) {\n  var r = n.key,\n      o = n.fn;\n  if (null == r) throw new Error(\"Missing 'key' for config/update\");\n  e.update(r, o || Fe), e.broadcast(Ke, e.all());\n}, D.DELETE_CONFIG = function (e, t, n) {\n  var r = n.key;\n  if (null == r) throw new Error(\"Missing 'key' for config/delete\");\n  e.delete(r), e.broadcast(Ke, e.all());\n}, D.WHERE_CONFIG = function (e, t, n) {\n  var r = n.pattern;\n  if (null == r) throw new Error(\"Missing 'pattern' for config/where\");\n  t.reply(e.where(r));\n}, D[t] = function (e, t) {\n  e.subscribe(t.from), e.send(t.from, Ke, e.all());\n}, D[n] = function (e, t) {\n  e.unsubscribe(t.from);\n}, D);\n\nfunction ze(e, t) {\n  return o(Ue, De, {\n    key: e,\n    value: t\n  }), Ve();\n}\n\nfunction qe(e, t) {\n  return o(Ue, Re, {\n    key: e,\n    fallback: t\n  }, {\n    expectReply: !0,\n    timeout: 10\n  });\n}\n\nfunction Je(e, t) {\n  return void 0 === t && (t = Fe), o(Ue, \"UPDATE_CONFIG\", {\n    key: e,\n    fn: t\n  }), Ve();\n}\n\nfunction Me(e) {\n  return o(Ue, \"DELETE_CONFIG\", {\n    key: e\n  }), Ve();\n}\n\nfunction We(e) {\n  return o(Ue, \"WHERE_CONFIG\", {\n    pattern: e\n  }, {\n    expectReply: !0,\n    timeout: 10\n  });\n}\n\nfunction Ye(e) {\n  return i(Ue, function () {\n    return r(He, Ue);\n  }, e);\n}\n\nfunction Ve(e) {\n  return null != e && \"object\" == typeof e && Object.keys(e).map(function (t) {\n    return ze(t, e[t]);\n  }), {\n    put: ze,\n    get: qe,\n    update: Je,\n    delete: Me,\n    where: We,\n    subscribe: Ye\n  };\n}\n\nr(He, Ue);\n\nvar $e = function () {\n  return JSON.parse('{\\n    \"tag\":null,\\n    \"transaction\":null,\\n    \"transactionStatus\":null,\\n    \"transactionId\":null,\\n    \"encodedData\":null,\\n    \"events\":null,\\n    \"account\":null,\\n    \"block\":null,\\n    \"blockHeader\":null,\\n    \"latestBlock\":null,\\n    \"collection\":null\\n}');\n},\n    Xe = function (e, t, n) {\n  try {\n    return Promise.resolve(Ve().get(\"grpc.metadata\", {})).then(function (r) {\n      return new Promise(function (o, i) {\n        E.unary(t, {\n          request: n,\n          host: e,\n          metadata: new E.Metadata(r),\n          onEnd: function (e) {\n            var t = e.statusMessage;\n            e.status === E.Code.OK ? o(e.message) : i(new Error(t));\n          }\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nE.setDefaultTransport(T());\n\nvar Qe = function (e) {\n  return Buffer.from(e, \"hex\");\n},\n    Ze = function (e) {\n  return Buffer.from(e.padStart(16, 0), \"hex\");\n},\n    et = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    tt = function (e) {\n  return Buffer.from(JSON.stringify(e), \"utf8\");\n},\n    nt = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    rt = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    ot = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    it = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    at = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    ut = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    ct = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    st = function (e) {\n  return Buffer.from(e).toString(\"hex\");\n},\n    lt = function (e, t) {\n  void 0 === t && (t = {});\n\n  try {\n    var n = function (n) {\n      return t.node = n, Promise.resolve(e).then(function (n) {\n        switch (e = n, !0) {\n          case ge(e):\n            return t.sendTransaction ? t.sendTransaction(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new a();\n                  o.setScript(function (e) {\n                    return Buffer.from(e, \"utf8\");\n                  }(e.message.cadence)), o.setGasLimit(e.message.computeLimit), o.setReferenceBlockId(e.message.refBlock ? Qe(e.message.refBlock) : null), o.setPayer(Ze(B(e.accounts[e.payer].addr))), e.message.arguments.forEach(function (t) {\n                    return o.addArguments(function (e) {\n                      return Buffer.from(JSON.stringify(e), \"utf8\");\n                    }(e.arguments[t].asArgument));\n                  }), e.authorizations.map(function (t) {\n                    return e.accounts[t].addr;\n                  }).reduce(function (e, t) {\n                    return e.find(function (e) {\n                      return e === t;\n                    }) ? e : [].concat(e, [t]);\n                  }, []).forEach(function (e) {\n                    return o.addAuthorizers(Ze(B(e)));\n                  });\n                  var i = new a.ProposalKey();\n                  i.setAddress(Ze(B(e.accounts[e.proposer].addr))), i.setKeyId(e.accounts[e.proposer].keyId), i.setSequenceNumber(e.accounts[e.proposer].sequenceNum), o.setProposalKey(i);\n\n                  for (var s = 0, l = Object.values(e.accounts); s < l.length; s++) {\n                    var f = l[s];\n\n                    try {\n                      if (!f.role.payer && null != f.signature) {\n                        var d = new a.Signature();\n                        d.setAddress(Ze(B(f.addr))), d.setKeyId(f.keyId), d.setSignature(Qe(f.signature)), o.addPayloadSignatures(d);\n                      }\n                    } catch (t) {\n                      throw console.error(\"Trouble applying payload signature\", {\n                        acct: f,\n                        ix: e\n                      }), t;\n                    }\n                  }\n\n                  for (var m = 0, g = Object.values(e.accounts); m < g.length; m++) {\n                    var p = g[m];\n\n                    try {\n                      if (p.role.payer && null != p.signature) {\n                        var h = new a.Signature();\n                        h.setAddress(Ze(B(p.addr))), h.setKeyId(p.keyId), h.setSignature(Qe(p.signature)), o.addEnvelopeSignatures(h);\n                      }\n                    } catch (t) {\n                      throw console.error(\"Trouble applying envelope signature\", {\n                        acct: p,\n                        ix: e\n                      }), t;\n                    }\n                  }\n\n                  var v = new u();\n                  v.setTransaction(o);\n                  var y = Date.now();\n                  return Promise.resolve(n(t.node, c.SendTransaction, v)).then(function (t) {\n                    var n,\n                        r = Date.now(),\n                        o = $e();\n                    return o.tag = e.tag, o.transactionId = (n = t.getId_asU8(), Buffer.from(n).toString(\"hex\")), \"undefined\" != typeof window && window.dispatchEvent(new CustomEvent(\"FLOW::TX\", {\n                      detail: {\n                        txId: o.transactionId,\n                        delta: r - y\n                      }\n                    })), o;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case pe(e):\n            return t.sendGetTransactionStatus ? t.sendGetTransactionStatus(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new s();\n                  return o.setId(Buffer.from(e.transaction.id, \"hex\")), Promise.resolve(n(t.node, c.GetTransactionResult, o)).then(function (t) {\n                    var n = t.getEventsList(),\n                        r = $e();\n                    return r.tag = e.tag, r.transactionStatus = {\n                      status: t.getStatus(),\n                      statusCode: t.getStatusCode(),\n                      errorMessage: t.getErrorMessage(),\n                      events: n.map(function (e) {\n                        return {\n                          type: e.getType(),\n                          transactionId: (t = e.getTransactionId_asU8(), Buffer.from(t).toString(\"hex\")),\n                          transactionIndex: e.getTransactionIndex(),\n                          eventIndex: e.getEventIndex(),\n                          payload: JSON.parse(Buffer.from(e.getPayload_asU8()).toString(\"utf8\"))\n                        };\n                        var t;\n                      })\n                    }, r;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case he(e):\n            return t.sendGetTransaction ? t.sendGetTransaction(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new s();\n                  return o.setId(Buffer.from(e.transaction.id, \"hex\")), Promise.resolve(n(t.node, c.GetTransaction, o)).then(function (t) {\n                    var n = $e();\n                    n.tag = e.tag;\n\n                    var r,\n                        o = function (e) {\n                      return {\n                        address: et(e.getAddress_asU8()),\n                        keyId: e.getKeyId(),\n                        signature: et(e.getSignature_asU8())\n                      };\n                    },\n                        i = t.getTransaction();\n\n                    return n.transaction = {\n                      script: Buffer.from(i.getScript_asU8()).toString(\"utf8\"),\n                      args: i.getArgumentsList().map(function (e) {\n                        return JSON.parse(Buffer.from(e).toString(\"utf8\"));\n                      }),\n                      referenceBlockId: et(i.getReferenceBlockId_asU8()),\n                      gasLimit: i.getGasLimit(),\n                      proposalKey: (r = i.getProposalKey(), {\n                        address: et(r.getAddress_asU8()),\n                        keyId: r.getKeyId(),\n                        sequenceNumber: r.getSequenceNumber()\n                      }),\n                      payer: et(i.getPayer_asU8()),\n                      authorizers: i.getAuthorizersList().map(et),\n                      payloadSignatures: i.getPayloadSignaturesList().map(o),\n                      envelopeSignatures: i.getEnvelopeSignaturesList().map(o)\n                    }, n;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case me(e):\n            return t.sendExecuteScript ? t.sendExecuteScript(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  function o() {\n                    var t = $e();\n                    return t.tag = e.tag, t.encodedData = JSON.parse(Buffer.from(a.getValue_asU8()).toString(\"utf8\")), t;\n                  }\n\n                  var i, a;\n                  e = r;\n\n                  var u = function () {\n                    if (e.block.id) {\n                      (i = new l()).setBlockId(Buffer.from(e.block.id, \"hex\"));\n                      var r = Buffer.from(e.message.cadence, \"utf8\");\n                      return e.message.arguments.forEach(function (t) {\n                        return i.addArguments(tt(e.arguments[t].asArgument));\n                      }), i.setScript(r), Promise.resolve(n(t.node, c.ExecuteScriptAtBlockID, i)).then(function (e) {\n                        a = e;\n                      });\n                    }\n\n                    var o = function () {\n                      if (e.block.height) {\n                        (i = new f()).setBlockHeight(Number(e.block.height));\n                        var r = Buffer.from(e.message.cadence, \"utf8\");\n                        return e.message.arguments.forEach(function (t) {\n                          return i.addArguments(tt(e.arguments[t].asArgument));\n                        }), i.setScript(r), Promise.resolve(n(t.node, c.ExecuteScriptAtBlockHeight, i)).then(function (e) {\n                          a = e;\n                        });\n                      }\n\n                      i = new d();\n                      var o = Buffer.from(e.message.cadence, \"utf8\");\n                      return e.message.arguments.forEach(function (t) {\n                        return i.addArguments(tt(e.arguments[t].asArgument));\n                      }), i.setScript(o), Promise.resolve(n(t.node, c.ExecuteScriptAtLatestBlock, i)).then(function (e) {\n                        a = e;\n                      });\n                    }();\n\n                    if (o && o.then) return o.then(function () {});\n                  }();\n\n                  return u && u.then ? u.then(o) : o();\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case ve(e):\n            return t.sendGetAccount ? t.sendGetAccount(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  var o,\n                      i = (e = r).block.height ? new m() : new g();\n                  return e.block.height && i.setBlockHeight(Number(e.block.height)), i.setAddress((o = B(e.account.addr), Buffer.from(o.padStart(16, 0), \"hex\"))), Promise.resolve(n(t.node, e.block.height ? c.GetAccountAtBlockHeight : c.GetAccountAtLatestBlock, i)).then(function (t) {\n                    var n = $e();\n                    n.tag = e.tag;\n                    var r,\n                        o = t.getAccount(),\n                        i = (r = o.getContractsMap()) ? r.getEntryList().reduce(function (e, t) {\n                      var n;\n                      return O({}, e, ((n = {})[t[0]] = Buffer.from(t[1] || new UInt8Array()).toString(\"utf8\"), n));\n                    }, {}) : {};\n                    return n.account = {\n                      address: A(nt(o.getAddress_asU8())),\n                      balance: o.getBalance(),\n                      code: Buffer.from(o.getCode_asU8() || new UInt8Array()).toString(\"utf8\"),\n                      contracts: i,\n                      keys: o.getKeysList().map(function (e) {\n                        return {\n                          index: e.getIndex(),\n                          publicKey: nt(e.getPublicKey_asU8()),\n                          signAlgo: e.getSignAlgo(),\n                          hashAlgo: e.getHashAlgo(),\n                          weight: e.getWeight(),\n                          sequenceNumber: e.getSequenceNumber(),\n                          revoked: e.getRevoked()\n                        };\n                      })\n                    }, n;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case ye(e):\n            return t.sendGetEvents ? t.sendGetEvents(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  function o() {\n                    var t = $e();\n                    t.tag = e.tag;\n                    var n = i.getResultsList();\n                    return t.events = n.reduce(function (e, t) {\n                      var n = rt(t.getBlockId_asU8()),\n                          r = t.getBlockHeight(),\n                          o = t.getBlockTimestamp().toDate().toISOString();\n                      return t.getEventsList().forEach(function (t) {\n                        e.push({\n                          blockId: n,\n                          blockHeight: r,\n                          blockTimestamp: o,\n                          type: t.getType(),\n                          transactionId: rt(t.getTransactionId_asU8()),\n                          transactionIndex: t.getTransactionIndex(),\n                          eventIndex: t.getEventIndex(),\n                          payload: JSON.parse(Buffer.from(t.getPayload_asU8()).toString(\"utf8\"))\n                        });\n                      }), e;\n                    }, []), t;\n                  }\n\n                  var i,\n                      a = (e = r).events.start ? new p() : new h();\n                  a.setType(e.events.eventType);\n                  var u = e.events.start ? (a.setStartHeight(Number(e.events.start)), a.setEndHeight(Number(e.events.end)), Promise.resolve(n(t.node, c.GetEventsForHeightRange, a)).then(function (e) {\n                    i = e;\n                  })) : (e.events.blockIds.forEach(function (e) {\n                    return a.addBlockIds(Buffer.from(e, \"hex\"));\n                  }), Promise.resolve(n(t.node, c.GetEventsForBlockIDs, a)).then(function (e) {\n                    i = e;\n                  }));\n                  return u && u.then ? u.then(o) : o();\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case be(e):\n            return t.sendGetLatestBlock ? t.sendGetLatestBlock(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                return Promise.resolve(e).then(function (n) {\n                  e = n;\n                  var r = new b();\n                  return e.latestBlock && e.latestBlock.isSealed && (r.setIsSealed(e.latestBlock.isSealed), console.error(\"\\n          %c@onflow/send Deprecation Notice\\n          ========================\\n\\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\\n\\n          =======================\\n        \".replace(/\\n\\s+/g, \"\\n\").trim(), \"font-weight:bold;font-family:monospace;\")), e.block && e.block.isSealed && r.setIsSealed(e.block.isSealed), Promise.resolve(Xe(t.node, c.GetLatestBlock, r)).then(function (t) {\n                    var n = t.getBlock(),\n                        r = n.getCollectionGuaranteesList(),\n                        o = n.getBlockSealsList(),\n                        i = n.getSignaturesList(),\n                        a = $e();\n                    return a.tag = e.tag, a.block = {\n                      id: at(n.getId_asU8()),\n                      parentId: at(n.getParentId_asU8()),\n                      height: n.getHeight(),\n                      timestamp: n.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: at(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: at(e.getBlockId_asU8()),\n                          executionReceiptId: at(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: i\n                    }, a;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case Pe(e):\n            return t.sendGetBlock ? t.sendGetBlock(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  function o() {\n                    var t = a.getBlock(),\n                        n = t.getCollectionGuaranteesList(),\n                        r = t.getBlockSealsList(),\n                        o = t.getSignaturesList().map(ot),\n                        i = $e();\n                    return i.tag = e.tag, i.block = {\n                      id: ot(t.getId_asU8()),\n                      parentId: ot(t.getParentId_asU8()),\n                      height: t.getHeight(),\n                      timestamp: t.getTimestamp().toDate().toISOString(),\n                      collectionGuarantees: n.map(function (e) {\n                        return {\n                          collectionId: ot(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList().map(ot)\n                        };\n                      }),\n                      blockSeals: r.map(function (e) {\n                        return {\n                          blockId: ot(e.getBlockId_asU8()),\n                          executionReceiptId: ot(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList().map(ot),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList().map(ot)\n                        };\n                      }),\n                      signatures: o\n                    }, i;\n                  }\n\n                  var i, a;\n                  e = r;\n\n                  var u = function () {\n                    if (e.block.id) return (i = new v()).setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(n(t.node, c.GetBlockByID, i)).then(function (e) {\n                      a = e;\n                    });\n                    var r = e.block.height ? ((i = new y()).setHeight(Number(e.block.height)), Promise.resolve(n(t.node, c.GetBlockByHeight, i)).then(function (e) {\n                      a = e;\n                    })) : (i = new b(), e.block && e.block.isSealed && i.setIsSealed(e.block.isSealed), Promise.resolve(n(t.node, c.GetLatestBlock, i)).then(function (e) {\n                      a = e;\n                    }));\n                    return r && r.then ? r.then(function () {}) : void 0;\n                  }();\n\n                  return u && u.then ? u.then(o) : o();\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case we(e):\n            return t.sendGetBlockHeader ? t.sendGetBlockHeader(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  function o() {\n                    var t = a.getBlock(),\n                        n = $e();\n                    return n.tag = e.tag, n.blockHeader = {\n                      id: it(t.getId_asU8()),\n                      parentId: it(t.getParentId_asU8()),\n                      height: t.getHeight(),\n                      timestamp: t.getTimestamp().toDate().toISOString()\n                    }, n;\n                  }\n\n                  var i, a;\n                  e = r;\n\n                  var u = function () {\n                    if (e.block.id) return (i = new k()).setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(n(t.node, c.GetBlockHeaderByID, i)).then(function (e) {\n                      a = e;\n                    });\n                    var r = e.block.height ? ((i = new I()).setHeight(Number(e.block.height)), Promise.resolve(n(t.node, c.GetBlockHeaderByHeight, i)).then(function (e) {\n                      a = e;\n                    })) : (i = new S(), e.block && e.block.isSealed && i.setIsSealed(e.block.isSealed), Promise.resolve(n(t.node, c.GetLatestBlockHeader, i)).then(function (e) {\n                      a = e;\n                    }));\n                    return r && r.then ? r.then(function () {}) : void 0;\n                  }();\n\n                  return u && u.then ? u.then(o) : o();\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case ke(e):\n            return t.sendGetBlockById ? t.sendGetBlockById(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                return Promise.resolve(e).then(function (n) {\n                  e = n;\n                  var r = new v();\n                  return r.setId(Buffer.from(e.block.id, \"hex\")), Promise.resolve(Xe(t.node, c.GetBlockByID, r)).then(function (t) {\n                    var n = t.getBlock(),\n                        r = n.getCollectionGuaranteesList(),\n                        o = n.getBlockSealsList(),\n                        i = n.getSignaturesList(),\n                        a = $e();\n                    return a.tag = e.tag, a.block = {\n                      id: ut(n.getId_asU8()),\n                      parentId: ut(n.getParentId_asU8()),\n                      height: n.getHeight(),\n                      timestamp: n.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: ut(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: ut(e.getBlockId_asU8()),\n                          executionReceiptId: ut(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: i\n                    }, a;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case Ie(e):\n            return t.sendGetBlockByHeight ? t.sendGetBlockByHeight(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                return Promise.resolve(e).then(function (n) {\n                  e = n;\n                  var r = new y();\n                  return r.setHeight(Number(e.block.height)), Promise.resolve(Xe(t.node, c.GetBlockByHeight, r)).then(function (t) {\n                    var n = t.getBlock(),\n                        r = n.getCollectionGuaranteesList(),\n                        o = n.getBlockSealsList(),\n                        i = n.getSignaturesList(),\n                        a = $e();\n                    return a.tag = e.tag, a.block = {\n                      id: ct(n.getId_asU8()),\n                      parentId: ct(n.getParentId_asU8()),\n                      height: n.getHeight(),\n                      timestamp: n.getTimestamp(),\n                      collectionGuarantees: r.map(function (e) {\n                        return {\n                          collectionId: ct(e.getCollectionId_asU8()),\n                          signatures: e.getSignaturesList()\n                        };\n                      }),\n                      blockSeals: o.map(function (e) {\n                        return {\n                          blockId: ct(e.getBlockId_asU8()),\n                          executionReceiptId: ct(e.getExecutionReceiptId_asU8()),\n                          executionReceiptSignatures: e.getExecutionReceiptSignaturesList(),\n                          resultApprovalSignatures: e.getResultApprovalSignaturesList()\n                        };\n                      }),\n                      signatures: i\n                    }, a;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case Be(e):\n            return t.sendGetCollection ? t.sendGetCollection(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new P();\n                  return o.setId(Buffer.from(e.collection.id, \"hex\")), Promise.resolve(n(t.node, c.GetCollectionByID, o)).then(function (t) {\n                    var n = t.getCollection(),\n                        r = $e();\n                    return r.tag = e.tag, r.collection = {\n                      id: st(n.getId_asU8()),\n                      transactionIds: n.getTransactionIdsList().map(st)\n                    }, r;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          case Se(e):\n            return t.sendPing ? t.sendPing(e, t) : function (e, t) {\n              void 0 === t && (t = {});\n\n              try {\n                var n = t.unary || Xe;\n                return Promise.resolve(e).then(function (r) {\n                  e = r;\n                  var o = new w();\n                  return Promise.resolve(n(t.node, c.Ping, o)).then(function (t) {\n                    var n = $e();\n                    return n.tag = e.tag, n;\n                  });\n                });\n              } catch (e) {\n                return Promise.reject(e);\n              }\n            }(e, t);\n\n          default:\n            return e;\n        }\n      });\n    },\n        r = t.node;\n\n    return Promise.resolve(r ? n(r) : Promise.resolve(Ve().get(\"accessNode.api\")).then(n));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction ft(e) {\n  return void 0 === e && (e = null), xe([ce, function (t) {\n    return t.block.isSealed = e, W(t);\n  }]);\n}\n\nfunction dt(e) {\n  return xe([ne, function (t) {\n    return t.account.addr = B(e), W(t);\n  }]);\n}\n\nvar mt = function (e, t, n) {\n  try {\n    try {\n      return Promise.resolve(Number(e));\n    } catch (e) {\n      throw new Error(\"Decode Number Error : \" + n.join(\".\"));\n    }\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    gt = function (e) {\n  return Promise.resolve(e);\n},\n    pt = function (e, t, n) {\n  try {\n    return Promise.resolve(e.fields.reduce(function (e, r) {\n      try {\n        return Promise.resolve(e).then(function (o) {\n          return e = o, Promise.resolve(yt(r.value, t, [].concat(n, [r.name]))).then(function (t) {\n            return e[r.name] = t, e;\n          });\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }, Promise.resolve({}))).then(function (n) {\n      var r = e.id && vt(t, e.id);\n      return r ? Promise.resolve(r(n)) : n;\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    ht = {\n  UInt: mt,\n  Int: mt,\n  UInt8: mt,\n  Int8: mt,\n  UInt16: mt,\n  Int16: mt,\n  UInt32: mt,\n  Int32: mt,\n  UInt64: mt,\n  Int64: mt,\n  UInt128: mt,\n  Int128: mt,\n  UInt256: mt,\n  Int256: mt,\n  Word8: mt,\n  Word16: mt,\n  Word32: mt,\n  Word64: mt,\n  UFix64: gt,\n  Fix64: gt,\n  String: gt,\n  Character: gt,\n  Bool: gt,\n  Address: gt,\n  Void: function () {\n    return Promise.resolve(null);\n  },\n  Optional: function (e, t, n) {\n    return Promise.resolve(e ? yt(e, t, n) : null);\n  },\n  Reference: function (e) {\n    try {\n      return Promise.resolve({\n        address: e.address,\n        type: e.type\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Array: function (e, t, n) {\n    try {\n      return Promise.resolve(Promise.all(e.map(function (e) {\n        return new Promise(function (r) {\n          try {\n            return Promise.resolve(yt(e, t, [].concat(n, [e.type]))).then(r);\n          } catch (e) {\n            return Promise.reject(e);\n          }\n        });\n      })));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Dictionary: function (e, t, n) {\n    try {\n      return Promise.resolve(e.reduce(function (e, r) {\n        try {\n          return Promise.resolve(e).then(function (o) {\n            return e = o, Promise.resolve(yt(r.key, t, [].concat(n, [r.key]))).then(function (o) {\n              return Promise.resolve(yt(r.value, t, [].concat(n, [r.key]))).then(function (t) {\n                return e[o] = t, e;\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }, Promise.resolve({})));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  },\n  Event: pt,\n  Resource: pt,\n  Struct: pt\n},\n    vt = function (e, t) {\n  var n = Object.keys(e).find(function (e) {\n    return /^\\/.*\\/$/.test(e) ? new RegExp(e.substring(1, e.length - 1)).test(t) : e === t;\n  });\n  return t && n && e[n];\n},\n    yt = function (e, t, n) {\n  try {\n    var r = vt(t, e.type);\n    if (!r) throw new Error(\"Undefined Decoder Error: \" + e.type + \"@\" + n.join(\".\"));\n    return Promise.resolve(r(e.value, t, n));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    bt = function (e, t, n) {\n  void 0 === t && (t = {}), void 0 === n && (n = []);\n  var r = O({}, ht, t);\n  return Promise.resolve(yt(e, r, n));\n},\n    kt = function (e, t) {\n  void 0 === t && (t = {});\n\n  try {\n    var n,\n        r = O({}, ht, t),\n        o = e.encodedData ? (n = 1, Promise.resolve(bt(e.encodedData, r))) : e.transactionStatus ? (n = 1, Promise.resolve(Promise.all(e.transactionStatus.events.map(function (e) {\n      try {\n        var t = e.eventIndex,\n            n = e.transactionIndex,\n            o = e.transactionId,\n            i = e.type;\n        return Promise.resolve(bt(e.payload, r)).then(function (e) {\n          return {\n            type: i,\n            transactionId: o,\n            transactionIndex: n,\n            eventIndex: t,\n            data: e\n          };\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    }))).then(function (t) {\n      return O({}, e.transactionStatus, {\n        events: t\n      });\n    })) : e.transaction ? (n = 1, e.transaction) : e.events ? (n = 1, Promise.resolve(Promise.all(e.events.map(function (e) {\n      try {\n        var t = e.eventIndex,\n            n = e.transactionIndex,\n            o = e.transactionId,\n            i = e.type,\n            a = e.blockTimestamp,\n            u = e.blockHeight,\n            c = e.blockId;\n        return Promise.resolve(bt(e.payload, r)).then(function (e) {\n          return {\n            blockId: c,\n            blockHeight: u,\n            blockTimestamp: a,\n            type: i,\n            transactionId: o,\n            transactionIndex: n,\n            eventIndex: t,\n            data: e\n          };\n        });\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    })))) : e.account ? (n = 1, e.account) : e.block ? (n = 1, e.block) : e.blockHeader ? (n = 1, e.blockHeader) : e.latestBlock ? (console.error(\"\\n          %c@onflow/decode Deprecation Notice\\n          ========================\\n\\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\\n\\n          =======================\\n        \".replace(/\\n\\s+/g, \"\\n\").trim(), \"font-weight:bold;font-family:monospace;\"), n = 1, e.latestBlock) : e.transactionId ? (n = 1, e.transactionId) : e.collection ? (n = 1, e.collection) : void 0;\n    return Promise.resolve(o && o.then ? o.then(function (e) {\n      return n ? e : null;\n    }) : n ? o : null);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction It(e) {\n  return function (t) {\n    try {\n      return ge(t) ? t.message.refBlock ? Promise.resolve(W(t)) : Promise.resolve(function (e) {\n        try {\n          var t;\n          return Promise.resolve(xe(F(), [ft()])).then(function (n) {\n            return t = n, Promise.resolve(lt(t, e)).then(function (e) {\n              return t = e, Promise.resolve(kt(t)).then(function (e) {\n                return (t = e).id;\n              });\n            });\n          });\n        } catch (e) {\n          return Promise.reject(e);\n        }\n      }(e)).then(function (e) {\n        return t.message.refBlock = e, W(t);\n      }) : Promise.resolve(W(t));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar St = function (t) {\n  try {\n    var n = function () {\n      if (ge(t) || me(t)) {\n        var n = function () {\n          return e(wt(r), \"Cadence needs to be a string at this point.\"), Promise.resolve(Ve().where(/^0x/).then(function (e) {\n            return Object.entries(e).reduce(function (e, t) {\n              return e.replace(t[0], t[1]);\n            }, r);\n          })).then(function (e) {\n            t.message.cadence = e;\n          });\n        },\n            r = _e(t, \"ix.cadence\");\n\n        e(Pt(r) || wt(r), \"Cadence needs to be a function or a string.\");\n\n        var o = function () {\n          if (Pt(r)) return Promise.resolve(r({})).then(function (e) {\n            r = e;\n          });\n        }();\n\n        return o && o.then ? o.then(n) : n();\n      }\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {\n      return t;\n    }) : t);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    Pt = function (e) {\n  return \"function\" == typeof e;\n},\n    wt = function (e) {\n  return \"string\" == typeof e;\n},\n    Bt = function (e) {\n  try {\n    if (ge(e) || me(e)) for (var t = 0, n = Object.entries(e.arguments); t < n.length; t++) {\n      var r = n[t];\n      e.arguments[r[0]].asArgument = Et(r[1]);\n    }\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    At = function (e) {\n  return \"function\" == typeof e;\n};\n\nfunction Et(t) {\n  return e(null != typeof t.xform, \"No type specified for argument: \" + t.value), At(t.xform) ? t.xform(t.value) : At(t.xform.asArgument) ? t.xform.asArgument(t.value) : void e(!1, \"Invalid Argument\", t);\n}\n\nvar Tt,\n    Nt = function (e) {\n  return jt(Ut(Dt(e)));\n},\n    xt = function (e) {\n  return jt(Ut(Rt(e)));\n},\n    Ot = function (e, t) {\n  return Buffer.from(e.padStart(2 * t, 0), \"hex\");\n},\n    _t = (Tt = Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), Buffer.from(Tt.padEnd(64, 0), \"hex\")).toString(\"hex\"),\n    jt = function (e) {\n  return _t + e;\n},\n    Lt = function (e) {\n  return Ot(e, 8);\n},\n    Gt = function (e) {\n  return Buffer.from(JSON.stringify(e), \"utf8\");\n},\n    Ct = function (e) {\n  return Buffer.from(e, \"utf8\");\n},\n    Ut = function (e) {\n  return N(e).toString(\"hex\");\n},\n    Dt = function (e) {\n  return Ht(e), [Ct(e.cadence), e.arguments.map(Gt), (t = e.refBlock, Ot(t, 32)), e.computeLimit, Lt(e.proposalKey.address), e.proposalKey.keyId, e.proposalKey.sequenceNum, Lt(e.payer), e.authorizers.map(Lt)];\n  var t;\n},\n    Rt = function (e) {\n  return zt(e), [Dt(e), Kt(e)];\n},\n    Kt = function (e) {\n  var t = Ft(e);\n  return e.payloadSigs.map(function (e) {\n    return {\n      signerIndex: t.get(e.address),\n      keyId: e.keyId,\n      sig: e.sig\n    };\n  }).sort(function (e, t) {\n    return e.signerIndex > t.signerIndex ? 1 : e.signerIndex < t.signerIndex ? -1 : e.keyId > t.keyId ? 1 : e.keyId < t.keyId ? -1 : void 0;\n  }).map(function (e) {\n    return [e.signerIndex, e.keyId, (t = e.sig, Buffer.from(t, \"hex\"))];\n    var t;\n  });\n},\n    Ft = function (e) {\n  var t = new Map(),\n      n = 0,\n      r = function (e) {\n    t.has(e) || (t.set(e, n), n++);\n  };\n\n  return r(e.proposalKey.address), r(e.payer), e.authorizers.forEach(r), t;\n},\n    Ht = function (e) {\n  Yt.forEach(function (t) {\n    return Qt(e, t);\n  }), Vt.forEach(function (t) {\n    return Qt(e.proposalKey, t, \"proposalKey\");\n  });\n},\n    zt = function (e) {\n  $t.forEach(function (t) {\n    return Qt(e, t);\n  }), e.payloadSigs.forEach(function (e, t) {\n    Xt.forEach(function (n) {\n      return Qt(e, n, \"payloadSigs\", t);\n    });\n  });\n},\n    qt = function (e) {\n  return \"number\" == typeof e;\n},\n    Jt = function (e) {\n  return \"string\" == typeof e;\n},\n    Mt = function (e) {\n  return null !== e && \"object\" == typeof e;\n},\n    Wt = function (e) {\n  return Mt(e) && e instanceof Array;\n},\n    Yt = [{\n  name: \"cadence\",\n  check: Jt\n}, {\n  name: \"arguments\",\n  check: Wt\n}, {\n  name: \"refBlock\",\n  check: Jt,\n  defaultVal: \"0\"\n}, {\n  name: \"computeLimit\",\n  check: qt\n}, {\n  name: \"proposalKey\",\n  check: Mt\n}, {\n  name: \"payer\",\n  check: Jt\n}, {\n  name: \"authorizers\",\n  check: Wt\n}],\n    Vt = [{\n  name: \"address\",\n  check: Jt\n}, {\n  name: \"keyId\",\n  check: qt\n}, {\n  name: \"sequenceNum\",\n  check: qt\n}],\n    $t = [{\n  name: \"payloadSigs\",\n  check: Wt\n}],\n    Xt = [{\n  name: \"address\",\n  check: Jt\n}, {\n  name: \"keyId\",\n  check: qt\n}, {\n  name: \"sig\",\n  check: Jt\n}],\n    Qt = function (e, t, n, r) {\n  var o = t.name,\n      i = t.check,\n      a = t.defaultVal;\n  if (null == e[o] && null != a && (e[o] = a), null == e[o]) throw en(o, n, r);\n  if (!i(e[o])) throw tn(o, n, r);\n},\n    Zt = function (e, t, n) {\n  return t ? null == n ? t + \".\" + e : t + \".\" + n + \".\" + e : e;\n},\n    en = function (e, t, n) {\n  return new Error(\"Missing field \" + Zt(e, t, n));\n},\n    tn = function (e, t, n) {\n  return new Error(\"Invalid field \" + Zt(e, t, n));\n},\n    nn = function (e) {\n  try {\n    var t = function () {\n      if (ge(e)) return function (t, n) {\n        try {\n          var r = (o = rn(e), i = Nt(un(e)), Promise.resolve(Promise.all(o.map(on(e, i)))).then(function () {\n            var t = function (e) {\n              var t = new Set([e.payer]);\n              return Array.from(t);\n            }(e),\n                n = xt(O({}, un(e), {\n              payloadSigs: o.map(function (t) {\n                return {\n                  address: e.accounts[t].addr,\n                  keyId: e.accounts[t].keyId,\n                  sig: e.accounts[t].signature\n                };\n              })\n            }));\n\n            return Promise.resolve(Promise.all(t.map(on(e, n)))).then(function () {});\n          }));\n        } catch (e) {\n          return n(e);\n        }\n\n        var o, i;\n        return r && r.then ? r.then(void 0, n) : r;\n      }(0, function (t) {\n        throw console.error(\"Signatures\", t, {\n          ix: e\n        }), t;\n      });\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(function (t) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction rn(e) {\n  var t = new Set(e.authorizations);\n  return t.add(e.proposer), t.delete(e.payer), Array.from(t);\n}\n\nfunction on(e, t) {\n  return function (n) {\n    try {\n      var r = e.accounts[n];\n      return null != r.signature ? Promise.resolve() : Promise.resolve(r.signingFunction(function (e, t, n) {\n        try {\n          return {\n            f_type: \"Signable\",\n            f_vsn: \"1.0.1\",\n            message: t,\n            addr: B(e.addr),\n            keyId: e.keyId,\n            roles: e.role,\n            cadence: n.message.cadence,\n            args: n.message.arguments.map(function (e) {\n              return n.arguments[e].asArgument;\n            }),\n            data: {},\n            interaction: n,\n            voucher: an(n)\n          };\n        } catch (e) {\n          throw console.error(\"buildSignable\", e), e;\n        }\n      }(r, t, e))).then(function (t) {\n        e.accounts[n].signature = t.signature;\n      });\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar an = function (e) {\n  return {\n    cadence: e.message.cadence,\n    refBlock: e.message.refBlock || null,\n    computeLimit: e.message.computeLimit,\n    arguments: e.message.arguments.map(function (t) {\n      return e.arguments[t].asArgument;\n    }),\n    proposalKey: {\n      address: A(e.accounts[e.proposer].addr),\n      keyId: e.accounts[e.proposer].keyId,\n      sequenceNum: e.accounts[e.proposer].sequenceNum\n    },\n    payer: A(e.accounts[e.payer].addr),\n    authorizers: e.authorizations.map(function (t) {\n      return A(e.accounts[t].addr);\n    }).reduce(function (e, t) {\n      return e.find(function (e) {\n        return e === t;\n      }) ? e : [].concat(e, [t]);\n    }, []),\n    payloadSigs: rn(e).map(function (t) {\n      return {\n        address: A(e.accounts[t].addr),\n        keyId: e.accounts[t].keyId,\n        sig: e.accounts[t].signature\n      };\n    })\n  };\n};\n\nfunction un(e) {\n  return {\n    cadence: e.message.cadence,\n    refBlock: e.message.refBlock || null,\n    computeLimit: e.message.computeLimit,\n    arguments: e.message.arguments.map(function (t) {\n      return e.arguments[t].asArgument;\n    }),\n    proposalKey: {\n      address: B(e.accounts[e.proposer].addr),\n      keyId: e.accounts[e.proposer].keyId,\n      sequenceNum: e.accounts[e.proposer].sequenceNum\n    },\n    payer: B(e.accounts[e.payer].addr),\n    authorizers: e.authorizations.map(function (t) {\n      return B(e.accounts[t].addr);\n    }).reduce(function (e, t) {\n      return e.find(function (e) {\n        return e === t;\n      }) ? e : [].concat(e, [t]);\n    }, [])\n  };\n}\n\nvar cn = \"undefined\" != typeof Symbol ? Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\")) : \"@@iterator\";\n\nfunction sn(e, t, n) {\n  if (!e.s) {\n    if (n instanceof ln) {\n      if (!n.s) return void (n.o = sn.bind(null, e, t));\n      1 & t && (t = n.s), n = n.v;\n    }\n\n    if (n && n.then) return void n.then(sn.bind(null, e, t), sn.bind(null, e, 2));\n    e.s = t, e.v = n;\n    var r = e.o;\n    r && r(e);\n  }\n}\n\nvar ln = function () {\n  function e() {}\n\n  return e.prototype.then = function (t, n) {\n    var r = new e(),\n        o = this.s;\n\n    if (o) {\n      var i = 1 & o ? t : n;\n\n      if (i) {\n        try {\n          sn(r, 1, i(this.v));\n        } catch (e) {\n          sn(r, 2, e);\n        }\n\n        return r;\n      }\n\n      return this;\n    }\n\n    return this.o = function (e) {\n      try {\n        var o = e.v;\n        1 & e.s ? sn(r, 1, t ? t(o) : o) : n ? sn(r, 1, n(o)) : sn(r, 2, o);\n      } catch (e) {\n        sn(r, 2, e);\n      }\n    }, r;\n  }, e;\n}();\n\nfunction fn(e) {\n  return e instanceof ln && 1 & e.s;\n}\n\nvar dn = function (e) {\n  try {\n    var t = function () {\n      if (ge(e)) return function (t, n) {\n        try {\n          var r = Promise.resolve(mn(e, Object.values(e.accounts))).then(function () {\n            return Promise.resolve(mn(e, Object.values(e.accounts))).then(function () {});\n          });\n        } catch (e) {\n          return n(e);\n        }\n\n        return r && r.then ? r.then(void 0, n) : r;\n      }(0, function (e) {\n        throw console.error(\"=== SAD PANDA ===\\n\\n\", e, \"\\n\\n=== SAD PANDA ===\"), e;\n      });\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(function (t) {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    mn = function t(n, r, o, i) {\n  void 0 === i && (i = 3);\n\n  try {\n    var a = function () {\n      o && (n.authorizations = n.authorizations.map(function (e) {\n        return e === o.tempId ? u : e;\n      }).reduce(function (e, t) {\n        return Array.isArray(t) ? [].concat(e, t) : [].concat(e, [t]);\n      }, []));\n    };\n\n    e(i, \"Account Resolve Recursion Limit Exceeded\", {\n      ix: n,\n      accounts: r\n    });\n\n    var u = [],\n        c = function (e, t, n) {\n      if (\"function\" == typeof e[cn]) {\n        var r,\n            o,\n            i,\n            a = e[cn]();\n\n        if (function e(n) {\n          try {\n            for (; !(r = a.next()).done;) if ((n = t(r.value)) && n.then) {\n              if (!fn(n)) return void n.then(e, i || (i = sn.bind(null, o = new ln(), 2)));\n              n = n.v;\n            }\n\n            o ? sn(o, 1, n) : o = n;\n          } catch (e) {\n            sn(o || (o = new ln()), 2, e);\n          }\n        }(), a.return) {\n          var u = function (e) {\n            try {\n              r.done || a.return();\n            } catch (e) {}\n\n            return e;\n          };\n\n          if (o && o.then) return o.then(u, function (e) {\n            throw u(e);\n          });\n          u();\n        }\n\n        return o;\n      }\n\n      if (!(\"length\" in e)) throw new TypeError(\"Object is not iterable\");\n\n      for (var c = [], s = 0; s < e.length; s++) c.push(e[s]);\n\n      return function (e, t, n) {\n        var r,\n            o,\n            i = -1;\n        return function n(a) {\n          try {\n            for (; ++i < e.length;) if ((a = t(i)) && a.then) {\n              if (!fn(a)) return void a.then(n, o || (o = sn.bind(null, r = new ln(), 2)));\n              a = a.v;\n            }\n\n            r ? sn(r, 1, a) : r = a;\n          } catch (e) {\n            sn(r || (r = new ln()), 2, e);\n          }\n        }(), r;\n      }(c, function (e) {\n        return t(c[e]);\n      });\n    }(r, function (e) {\n      function r() {\n        function r() {\n          a.tempId != e.tempId && delete n.accounts[a.tempId];\n        }\n\n        var c = function () {\n          if (Array.isArray(e)) return Promise.resolve(t(n, e, a, i - 1)).then(function () {});\n          n.accounts[e.tempId] = n.accounts[e.tempId] || e, n.accounts[e.tempId].role.proposer = n.accounts[e.tempId].role.proposer || e.role.proposer, n.accounts[e.tempId].role.payer = n.accounts[e.tempId].role.payer || e.role.payer, n.accounts[e.tempId].role.authorizer = n.accounts[e.tempId].role.authorizer || e.role.authorizer, n.accounts[e.tempId].role.proposer && n.proposer === a.tempId && (n.proposer = e.tempId), n.accounts[e.tempId].role.payer && n.payer === a.tempId && (n.payer = e.tempId), n.accounts[e.tempId].role.authorizer && (o ? u = [].concat(u, [e.tempId]) : n.authorizations = n.authorizations.map(function (t) {\n            return t === a.tempId ? e.tempId : t;\n          }));\n        }();\n\n        return c && c.then ? c.then(r) : r();\n      }\n\n      var a = o || e,\n          c = function () {\n        if (gn(e.resolve)) return Promise.resolve(e.resolve(e, function (e, t) {\n          try {\n            return {\n              f_type: \"PreSignable\",\n              f_vsn: \"1.0.1\",\n              roles: e.role,\n              cadence: t.message.cadence,\n              args: t.message.arguments.map(function (e) {\n                return t.arguments[e].asArgument;\n              }),\n              data: {},\n              interaction: t,\n              voucher: an(t)\n            };\n          } catch (e) {\n            throw console.error(\"buildPreSignable\", e), e;\n          }\n        }(e, n))).then(function (t) {\n          e = t;\n        });\n      }();\n\n      return c && c.then ? c.then(r) : r();\n    });\n\n    return Promise.resolve(c && c.then ? c.then(a) : a());\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    gn = function (e) {\n  return \"function\" == typeof e;\n},\n    pn = function (e) {\n  try {\n    var t = _e(e, \"ix.validators\", []);\n\n    return Promise.resolve(xe(e, t.map(function (e) {\n      return function (t) {\n        return e(t, {\n          Ok: W,\n          Bad: Y\n        });\n      };\n    })));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    hn = function (e) {\n  try {\n    for (var t = 0, n = Object.keys(e.accounts); t < n.length; t++) {\n      var r = n[t];\n      e.accounts[r].addr = B(e.accounts[r].addr);\n    }\n\n    return Promise.resolve(e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    vn = xe([St, Bt, dn, function (e) {\n  try {\n    var t = function () {\n      if (ge(e) && null == e.message.refBlock) return Promise.resolve(lt(Ce([ft()])).then(kt)).then(function (t) {\n        e.message.refBlock = t.id;\n      });\n    }();\n\n    return Promise.resolve(t && t.then ? t.then(function () {\n      return e;\n    }) : e);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, function (t) {\n  try {\n    var n = function () {\n      if (ge(t)) {\n        var n = Object.values(t.accounts).find(function (e) {\n          return e.role.proposer;\n        });\n        e(n, \"Transactions require a proposer\");\n\n        var r = function () {\n          if (null == n.sequenceNum) return Promise.resolve(Ce([dt(n.addr)])).then(function (e) {\n            return Promise.resolve(lt(e).then(kt).then(function (e) {\n              return e.keys;\n            }).then(function (e) {\n              return e.find(function (e) {\n                return e.index === n.keyId;\n              });\n            }).then(function (e) {\n              return e.sequenceNumber;\n            })).then(function (e) {\n              t.accounts[n.tempId].sequenceNum = e;\n            });\n          });\n        }();\n\n        if (r && r.then) return r.then(function () {});\n      }\n    }();\n\n    return Promise.resolve(n && n.then ? n.then(function () {\n      return t;\n    }) : t);\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}, nn, hn, pn]),\n    yn = function (e, t) {\n  void 0 === e && (e = []), void 0 === t && (t = {});\n\n  try {\n    return Promise.resolve(Ve().get(\"sdk.send\", t.send || lt)).then(function (n) {\n      return Promise.resolve(Ve().get(\"sdk.resolve\", t.resolve || vn)).then(function (r) {\n        return Array.isArray(e) && (e = xe(F(), e)), Promise.resolve(r(e)).then(function (e) {\n          return n(e, t);\n        });\n      });\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    bn = function (e) {\n  try {\n    return Promise.resolve(Ve().where(/^decoder\\./)).then(function (t) {\n      var n = Object.entries(t).map(function (e) {\n        var t = e[0],\n            n = e[1];\n        return [t = \"/\" + t.replace(/^decoder\\./, \"\") + \"$/\", n];\n      });\n      return kt(e, Object.fromEntries(n));\n    });\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    kn = function (e) {\n  var t, n;\n\n  function r(t) {\n    var n,\n        r = (\"\\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: \" + t + \". \\n        Please ensure the address: \" + t + \" is intended to sign the given transaction as specified by the transaction signable.\\n      \").trim();\n    return (n = e.call(this, r) || this).name = \"Unable To Determine Message Encoding For Signer Addresss\", n;\n  }\n\n  return n = e, (t = r).prototype = Object.create(n.prototype), t.prototype.constructor = t, t.__proto__ = n, r;\n}(C(Error)),\n    In = function (e, t) {\n  var n,\n      r,\n      o = (n = e.voucher, (r = new Set(n.authorizers)).add(n.proposalKey.address), r.delete(n.payer), Array.from(r).map(A)),\n      i = function (e) {\n    var t = new Set([e.payer]);\n    return Array.from(t).map(A);\n  }(e.voucher),\n      a = o.includes(A(t)),\n      u = i.includes(A(t));\n\n  if (!a && !u) throw new kn(t);\n  var c = {\n    cadence: e.voucher.cadence,\n    refBlock: e.voucher.refBlock,\n    computeLimit: e.voucher.computeLimit,\n    arguments: e.voucher.arguments,\n    proposalKey: O({}, e.voucher.proposalKey, {\n      address: B(e.voucher.proposalKey.address)\n    }),\n    payer: B(e.voucher.payer),\n    authorizers: e.voucher.authorizers.map(B),\n    payloadSigs: e.voucher.payloadSigs.map(function (e) {\n      return O({}, e, {\n        address: B(e.address)\n      });\n    })\n  };\n  return a ? Nt(c) : xt(c);\n};\n\nfunction Sn() {\n  var e = [].slice.call(arguments),\n      t = e[1] || (\"object\" == typeof e[0] ? e[0] : void 0),\n      n = \"boolean\" == typeof e[0] ? e[0] : void 0;\n  return \"object\" == typeof e[0] && console.warn(\"\\n      %cFCL/SDK Deprecation Notice\\n      ============================\\n  \\n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\\n  \\n      ============================\\n    \", \"font-weight:bold;font-family:monospace;\"), yn([ft(n)], t).then(kt);\n}\n\nfunction Pn(e, t) {\n  return yn([dt(e)], t).then(kt);\n}\n\nfunction wn(e) {\n  return void 0 === e && (e = []), xe(e.map(function (e) {\n    return $(e, {\n      role: \"authorizer\"\n    });\n  }));\n}\n\nfunction Bn(e, t, n, r) {\n  return {\n    addr: e,\n    signingFunction: t,\n    keyId: n,\n    sequenceNum: r\n  };\n}\n\nfunction An(e) {\n  return Le(\"ix.validators\", function (t) {\n    return Array.isArray(t) ? t.push(e) : [e];\n  });\n}\n\nfunction En(e) {\n  return xe([function (t) {\n    return t.block.height = e, t;\n  }, An(function (e) {\n    if (\"boolean\" == typeof e.block.isSealed) throw new Error(\"Unable to specify both block height and isSealed.\");\n    if (e.block.id) throw new Error(\"Unable to specify both block height and block id.\");\n    return e;\n  })]);\n}\n\nfunction Tn(e) {\n  return xe([function (t) {\n    return t.block.id = e, W(t);\n  }, An(function (e, t) {\n    var n = t.Ok,\n        r = t.Bad;\n    return ve(e) ? r(e, \"Unable to specify a block id with a Get Account interaction.\") : \"boolean\" == typeof e.block.isSealed ? r(e, \"Unable to specify both block id and isSealed.\") : e.block.height ? r(e, \"Unable to specify both block id and block height.\") : n(e);\n  })]);\n}\n\nfunction Nn(e, t, n) {\n  return void 0 === t && void 0 === n || console.warn(\"\\n      %cFCL/SDK Deprecation Notice\\n      ============================\\n  \\n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\\n  \\n      ============================\\n    \", \"font-weight:bold;font-family:monospace;\"), xe([re, function (r) {\n    return r.events.eventType = e, r.events.start = t, r.events.end = n, W(r);\n  }]);\n}\n\nfunction xn(e, t, n) {\n  return xe([re, function (r) {\n    return r.events.eventType = e, r.events.start = t, r.events.end = n, W(r);\n  }]);\n}\n\nfunction On(e, t) {\n  return void 0 === t && (t = []), xe([re, function (n) {\n    return n.events.eventType = e, n.events.blockIds = t, W(n);\n  }]);\n}\n\nfunction _n(e) {\n  return void 0 === e && (e = null), xe([se, function (t) {\n    return t.block.isSealed = e, W(t);\n  }]);\n}\n\nfunction jn(e) {\n  return void 0 === e && (e = !1), console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), xe([oe, function (t) {\n    return t.block.isSealed = e, W(t);\n  }]);\n}\n\nfunction Ln(e) {\n  return console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), xe([ie, function (t) {\n    return t.block.ids = [e], W(t);\n  }]);\n}\n\nfunction Gn(e) {\n  return console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n\\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\\n\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\"), xe([ae, function (t) {\n    return t.block.height = e, W(t);\n  }]);\n}\n\nfunction Cn(e) {\n  return void 0 === e && (e = null), xe([le, function (t) {\n    return t.collection.id = e, t;\n  }]);\n}\n\nfunction Un(e) {\n  return xe([ee, function (t) {\n    return t.transaction.id = e, W(t);\n  }]);\n}\n\nfunction Dn(e) {\n  return xe([te, function (t) {\n    return t.transaction.id = e, W(t);\n  }]);\n}\n\nfunction Rn(e) {\n  return function (t) {\n    return t.message.computeLimit = e, t;\n  };\n}\n\nfunction Kn(e) {\n  return void 0 === e && (e = []), xe(e.map(X));\n}\n\nfunction Fn(e, t) {\n  return {\n    value: e,\n    xform: t\n  };\n}\n\nvar Hn = function (e) {\n  try {\n    return Promise.resolve($(e, {\n      role: \"proposer\"\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n},\n    zn = function (e) {\n  try {\n    return Promise.resolve($(e, {\n      role: \"payer\"\n    }));\n  } catch (e) {\n    return Promise.reject(e);\n  }\n};\n\nfunction qn() {\n  return ue;\n}\n\nfunction Jn(e) {\n  return xe([function (t) {\n    return t.message.refBlock = e, W(t);\n  }]);\n}\n\nfunction Mn() {\n  return xe([Q, je(\"ix.cadence\", x.apply(void 0, [].slice.call(arguments)))]);\n}\n\nvar Wn = [];\n\nfunction Yn() {\n  return xe([Z, je(\"ix.cadence\", x.apply(void 0, [].slice.call(arguments))), function (e) {\n    return e.message.computeLimit = e.message.computeLimit || 10, e.message.refBlock = e.message.refBlock || null, e.authorizations = e.authorizations || Wn, W(e);\n  }]);\n}\n\nfunction Vn() {\n  var e = [].slice.call(arguments);\n\n  if (e.length > 1) {\n    var t = e,\n        n = t[0],\n        r = t[1];\n    return Vn(function (e, t) {\n      var o = t.Bad;\n      return n ? (0, t.Ok)(e) : o(e, r);\n    });\n  }\n\n  var o = e[0];\n  return function (e) {\n    return o(e, {\n      Ok: W,\n      Bad: Y\n    });\n  };\n}\n\nvar $n = function (e) {\n  var t = e.node;\n  return function (e) {\n    try {\n      return ge(e) ? e.accounts[e.proposer].sequenceNum ? Promise.resolve(W(e)) : Promise.resolve(Ce([dt(e.accounts[e.proposer].addr)])).then(function (n) {\n        return Promise.resolve(lt(n, {\n          node: t\n        })).then(function (t) {\n          return Promise.resolve(kt(t)).then(function (t) {\n            return e.accounts[e.proposer].sequenceNum = t.keys[e.accounts[e.proposer].keyId].sequenceNumber, W(e);\n          });\n        });\n      }) : Promise.resolve(W(e));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n},\n    Xn = \"0.0.50\",\n    Qn = function (e) {\n  return t = {\n    name: \"params\",\n    transitionsPath: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\"\n  }, void console.error(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n    The \" + t.name + \" builder has been removed from the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: \" + t.transitionsPath + \"\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\");\n  var t;\n},\n    Zn = function (e) {\n  return t = {\n    name: \"param\",\n    transitionsPath: \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\"\n  }, void console.warn(\"\\n    %cFCL/SDK Deprecation Notice\\n    ============================\\n    The \" + t.name + \" builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\\n    You can learn more (including a guide on common transition paths) here: \" + t.transitionsPath + \"\\n    ============================\\n  \", \"font-weight:bold;font-family:monospace;\");\n  var t;\n};\n\nexport { Xn as VERSION, Pn as account, Fn as arg, Kn as args, En as atBlockHeight, Tn as atBlockId, Bn as authorization, wn as authorizations, Ce as build, Ve as config, an as createSignableVoucher, bn as decode, Ge as destroy, In as encodeMessageFromSignable, _e as get, dt as getAccount, ft as getBlock, Gn as getBlockByHeight, Ln as getBlockById, _n as getBlockHeader, Cn as getCollection, Nn as getEvents, xn as getEventsAtBlockHeightRange, On as getEventsAtBlockIds, jn as getLatestBlock, Dn as getTransaction, Un as getTransactionStatus, F as interaction, Vn as invariant, Ee as isBad, ve as isGetAccount, Pe as isGetBlock, Ie as isGetBlockByHeight, ke as isGetBlockById, we as isGetBlockHeader, Be as isGetCollection, ye as isGetEvents, be as isGetLatestBlock, he as isGetTransaction, pe as isGetTransactionStatus, Ae as isOk, Se as isPing, me as isScript, ge as isTransaction, de as isUnknown, Sn as latestBlock, Rn as limit, Zn as param, Qn as params, zn as payer, qn as ping, xe as pipe, Hn as proposer, je as put, Jn as ref, vn as resolve, dn as resolveAccounts, Bt as resolveArguments, St as resolveCadence, hn as resolveFinalNormalization, $n as resolveProposerSequenceNumber, It as resolveRefBlockId, nn as resolveSignatures, pn as resolveValidators, Mn as script, yn as send, Yn as transaction, Le as update, An as validator, Te as why };","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA;;AAAA;AAAA,IA8DMA,grBA9DN;AAAA,IAyGMC,IAAO,IAAIC,GAAJ,CAAQC,OAAOC,IAAPD,CAAYE,KAAKC,KAALD,CAAWL,CAAXK,CAAZF,CAAR,CAzGb;AAAA,IA2GaI,IAAc;AAAA,SAAMF,KAAKC,KAALD,CAAWL,CAAXK,CAAN;AAAiBL,CA3G5C;AAAA,IA6GMQ,IAAQ,uCAAuCC,KAAvC,CAA6C,EAA7C,CA7Gd;AAAA,IA8GMC,IAAW;AAAA,SAAMF,KAASG,KAAKC,MAALD,KAAgBH,EAAMK,MAA/BL,EAAN;AAAqCK,CA9GtD;AAAA,IA+GaC,IAAO;AAAA,SAAMC,MAAMC,IAAND,CAAW;AAACF,YAAQ;AAAT,GAAXE,EAAyBL,CAAzBK,EAAmCE,IAAnCF,CAAwC,EAAxCA,CAAN;AAA8C,CA/GlE;AAAA,IAiHaG,IAAU;AAAAC,SAAKJ,MAAMG,OAANH,CAAcI,CAAdJ,CAALI;AAAmBA,CAjH1C;AAAA,IAmHaC,IAAS;AAAAD,SAAU,QAALA,CAALA;AAAKA,CAnH3B;AAAA,IA4HaE,IAAK;AAEhB,SADAC,EAAGC,MAAHD,GA7GuB,IA6GvBA,EACOA,CAAP;AAAOA,CA9HT;AAAA,IAiIaE,IAAM,UAACF,CAAD,EAAKG,CAAL,EAAKA;AAGtB,SAFAH,EAAGC,MAAHD,GAnHuB,KAmHvBA,EACAA,EAAGG,MAAHH,GAAYG,CADZH,EAEOA,CAAP;AAAOA,CApIT;AAAA,IAuIMI,IAAS;AAAAC,mBAAOL,CAAPK,EAAOL;AAEpB,WADAA,EAAGM,GAAHN,GAASK,CAATL,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAFGK;AAEHL,CAzIZ;AAAA,IA4IaO,IAAc,UAACC,CAAD,EAAOC,CAAP,EAAOA;AAAAA,8BAAO,EAAPA,GAAO,UAAOT,CAAP,EAAOA;AAAAA;AAC9CU,MACkB,qBAATF,CAAS,IAA8B,mBAATA,CADvCE,EAEE,2EAFFA,GAIAA,EAAuB,QAAbD,EAAKE,IAAfD,EAA6B,0BAA7BA,CAJAA;AAMA,QAAME,IAAU7B,KAAKC,KAALD,CAAKC,iRAALD,CAAhB;AAAA,QACM4B,IAAOF,EAAKE,IADlB;AAAA,QAEME,IAASrB,GAFf;AAuBA,WAjBAQ,EAAGc,QAAHd,CAAYa,CAAZb,IAAYa,MACPD,CADOC,EACPD;AACHC;AADGD,KADOC,EAFZL,IAAuB,qBAATA,CAAS,GAAa;AAACO,eAASP;AAAV,KAAb,GAA+BA,CAE1CK,EAF0CL;AAMpDG,kBACKC,EAAQD,IADbA,EAE2B,mBAAdH,EAAKG,IAAS,GAAWH,EAAKG,IAAhB,GAAuB,EAFlDA,GAEkDK,UAC/CL,CAD+C,IAC/CA,CAAO,CADwC,EACxCK,CAHVL;AANoDH,KAE1CK,CAAZb,EAnI8B,iBA8I1BW,CA9I0B,GA+I5BX,EAAGiB,cAAHjB,CAAkBkB,IAAlBlB,CAAuBa,CAAvBb,CA/I4B,GAiJ5BA,EAAGW,CAAHX,IAAWa,CAdbb,EAiBOA,CAAP;AAAOA,GA9ByBS;AA8BzBT,CA1KT;AAAA,IA6KamB,IAAe;AAAAC,mBAAOpB,CAAPoB,EAAOpB;AACjC,QAAIa,IAASrB,GAAb;AASA,WARAQ,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBkB,IAArBlB,CAA0Ba,CAA1Bb,GAEAA,EAAGsB,SAAHtB,CAAaa,CAAbb,IAAuBjB,KAAKC,KAALD,CAAKC,yHAALD,CAFvBiB,EAGAA,EAAGsB,SAAHtB,CAAaa,CAAbb,EAAqBa,MAArBb,GAA8Ba,CAH9Bb,EAIAA,EAAGsB,SAAHtB,CAAaa,CAAbb,EAAqBuB,KAArBvB,GAA6BoB,EAAIG,KAJjCvB,EAKAA,EAAGsB,SAAHtB,CAAaa,CAAbb,EAAqBwB,UAArBxB,GAAkCoB,EAAII,UALtCxB,EAMAA,EAAGsB,SAAHtB,CAAaa,CAAbb,EAAqByB,KAArBzB,GAA6BoB,EAAIK,KANjCzB,EAOAA,EAAGsB,SAAHtB,CAAaa,CAAbb,EAAqBe,OAArBf,GAA+BoB,EAAIL,OAPnCf,EAQOD,EAAGC,CAAHD,CAAP;AAAUC,GAVgBoB;AAUhBpB,CAvLZ;AAAA,IA2La0B,IAAoCtB,EA1LE,QA0LFA,CA3LjD;AAAA,IA4LauB,IAAoCvB,EA1LE,aA0LFA,CA5LjD;AAAA,IA6LawB,KAAoCxB,EA1LE,wBA0LFA,CA7LjD;AAAA,IA8LayB,KAAoCzB,EAtLE,iBAsLFA,CA9LjD;AAAA,IA+La0B,KAAoC1B,EA3LE,aA2LFA,CA/LjD;AAAA,IAgMa2B,KAAoC3B,EA3LE,YA2LFA,CAhMjD;AAAA,IAiMa4B,KAAoC5B,EA3LE,kBA2LFA,CAjMjD;AAAA,IAkMa6B,KAAoC7B,EAzLE,iBAyLFA,CAlMjD;AAAA,IAmMa8B,KAAoC9B,EAzLE,qBAyLFA,CAnMjD;AAAA,IAoMa+B,KAAoC/B,EA7LE,MA6LFA,CApMjD;AAAA,IAqMagC,KAAoChC,EA1LE,WA0LFA,CArMjD;AAAA,IAsMaiC,KAAoCjC,EA1LE,kBA0LFA,CAtMjD;AAAA,IAuMakC,KAAoClC,EA1LE,gBA0LFA,CAvMjD;AAAA,IAyMMmC,KAAK;AAAAlC,mBAAOL,CAAPK,EAAOL;AAAAA,WAAMA,EAAGM,GAAHN,KAAWK,CAAjBL;AAAiBK,GAAxBA;AAAwBA,CAzMnC;AAAA,IA2MamC,KAAkCD,GA3MI,SA2MJA,CA3M/C;AAAA,IA4MaE,KAAkCF,GA3MI,QA2MJA,CA5M/C;AAAA,IA6MaG,KAAkCH,GA3MI,aA2MJA,CA7M/C;AAAA,IA8MaI,KAAkCJ,GA3MI,wBA2MJA,CA9M/C;AAAA,IA+MaK,KAAkCL,GAvMI,iBAuMJA,CA/M/C;AAAA,IAgNaM,KAAkCN,GA5MI,aA4MJA,CAhN/C;AAAA,IAiNaO,KAAkCP,GA5MI,YA4MJA,CAjN/C;AAAA,IAkNaQ,KAAkCR,GA5MI,kBA4MJA,CAlN/C;AAAA,IAmNaS,KAAkCT,GA1MI,iBA0MJA,CAnN/C;AAAA,IAoNaU,KAAkCV,GA1MI,qBA0MJA,CApN/C;AAAA,IAqNaW,KAAkCX,GA9MI,MA8MJA,CArN/C;AAAA,IAsNaY,KAAkCZ,GA3MI,WA2MJA,CAtN/C;AAAA,IAuNaa,KAAkCb,GA3MI,kBA2MJA,CAvN/C;AAAA,IAwNac,KAAkCd,GA3MI,gBA2MJA,CAxN/C;AAAA,IA0Nae,KAAc;AAAAtD,SA1MF,SA0MQA,EAAGC,MAATD;AAASC,CA1NpC;AAAA,IA2NasD,KAAc;AAAAvD,SA5MF,UA4MQA,EAAGC,MAATD;AAASC,CA3NpC;AAAA,IA4NauD,KAAc;AAAAxD,SAAMA,EAAGG,MAATH;AAASG,CA5NpC;AAAA,IA0OMsD,gBAAiBzD,CAAjByD,EAAqBC,CAArBD,EAAqBC;AAAAA,uBAAM,EAANA;;AAAM;AAAA,2BAsU1B,UAAgBC,CAAhB,EAAsBC,CAAtB,EAAsBA;AAC5B;AACC,YAAIC,oBAtUkB7D,CAsUlB6D,EAtUkB7D,IAsUlB6D,CAtUkB7D;AACpB,cADAA,IAVa;AACf,gCAAgBnB,OAAOC,IAAPD,CAAYmB,CAAZnB,CAAhB,EAA4BmB,YAA5B,EAA4BA,GAA5B,EAAiC;AAA5B,kBAAI8D,QAAJ;AACH,mBAAKnF,EAAKoF,GAALpF,CAASmF,CAATnF,CAAL,EACE,UAAUqF,KAAV,CAAUA,MAAUF,CAAVE,GAAUF,kDAApB;AAEJ;;AAAA,mBAAO9D,CAAP;AAKOiE,WAVQ,CAURA,CAVQ,CAUbjE,EACIuD,GAAMvD,CAANuD,CAAJ,EAAe,UAAUS,KAAV,CAAUA,wBAA4BhE,EAAGG,MAAzC;AACf,eAAKuD,EAAInE,MAAT,EAAiB,OAAOS,CAAP;AAHf,cAIKkE,IAAeR,IAJpB;AAAA,cAIYS,IAAQT,UAJpB;AAIoBA,iCACJQ,CADIR,EACJQ,IADIR,CACJQ,UAAZE,CAAYF,EAAZE;AACN,gBA7HkC,qBA6HzBA,CAAT,EAAe,OAAOX,EAAQW,EAAIpE,CAAJoE,CAARX,EAAiBU,CAAjBV,CAAP;AACf,gBAAI3D,EAAOsE,CAAPtE,KAAOsE,CAASA,CAApB,EAAyB,OAAOX,EAAQzD,CAARyD,EAAYU,CAAZV,CAAP;AACzB,gBA7HyB;AAC3B,kBAL8B,UAAX5D,IAKRG,CALmB,KAAqB,mBAANH,CAAf,IAKZC,EAAOE,CAAPF,CALY,IAFR;AAAAD,uBAAkB,mBAANA,CAAZA;AAOUwE,eAPV,CAOmBrE,CAPnB,CAOtB,EAA8C;;AAC9C,mBANmB;AAAAH;;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;;AAAAA;AAAAA;;AAAAA;AAAAA,gBAMHlB,CANGkB,CAMnB,EAAgBlB,eAAhB,GAAsB,KAAKqB,EAAGsE,cAAHtE,CAAGsE,OAAHtE,CAAL,EAA6B;;AACnD;AA0HMuE,aA7HqB,CA6HPH,CA7HO,CA6HzB,EAAwB,OAAOX,EAAQW,CAARX,EAAaU,CAAbV,CAAP;AACxB,sBAAUO,KAAV,CAAgB,iCAAhB;AAAgB,WALMN;AAKN,SA8TdG,CAAJ;AACC,OAFF,CAEE,OAAMW,CAAN,EAAMA;AACP,eAAOZ,EAAQY,CAARZ,CAAP;AAED;;AAAA,aAAIC,KAAUA,EAAOY,IAAjBZ,GACIA,EAAOY,IAAPZ,CAAOY,KAAK,CAAZZ,EAAoBD,CAApBC,CADJA,GAGGA,CAHP;AAGOA,KATD,CASCA,CATD,EASCA,UApUGW,CAoUHX,EApUGW;AACP,YAAMA,CAAN;AAAMA,KA0TH,CAtU0B;AAApB,GAAoB,CAApB;AAAA;AAAA;AAAA,CA1Ob;AAAA,IA0PaE,KAAO,SAAPA,CAAO,GAAPA;AAAAA;AAAAA,MACJC,QADID;AAAAA,MACEE,QADFF;AAEX,SAAI9E,EAAQ+E,CAAR/E,KAAyB,QAARgF,CAAjBhF,GAAiBgF,UAAqB/E,CAArB+E,EAAqB/E;AAAAA,WAAK6E,EAAK7E,CAAL6E,EAAQC,CAARD,CAAL7E;AAAa8E,GAAnD/E,GACG6D,GAAQkB,CAARlB,EAAcmB,CAAdnB,CADP;AACqBmB,CA7PvB;AAAA,IAgQMC,KAAW;AAAAC,SAAKA,CAALA;AAAKA,CAhQtB;AAAA,IAkQaC,KAAM,UAAC/E,CAAD,EAAK8D,CAAL,EAAUkB,CAAV,EAAUA;AAC3B,SAA0B,QAAnBhF,EAAGiF,OAAHjF,CAAW8D,CAAX9D,CAAmB,GAAOgF,CAAP,GAAkBhF,EAAGiF,OAAHjF,CAAW8D,CAAX9D,CAA5C;AAAuD8D,CAnQzD;AAAA,IAsQaoB,KAAM,UAACpB,CAAD,EAAMvC,CAAN,EAAMA;AAAAA,mBAAUvB,CAAVuB,EAAUvB;AAEjC,WADAA,EAAGiF,OAAHjF,CAAW8D,CAAX9D,IAAkBuB,CAAlBvB,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAFauB;AAEbvB,CAxQZ;AAAA,IA2QamF,KAAS,UAACrB,CAAD,EAAMsB,CAAN,EAAMA;AAAAA,8BAAKP,EAALO,GAAKP,UAAa7E,CAAb6E,EAAa7E;AAE5C,WADAA,EAAGiF,OAAHjF,CAAW8D,CAAX9D,IAAkBoF,EAAGpF,EAAGiF,OAAHjF,CAAW8D,CAAX9D,CAAHoF,EAAoBpF,CAApBoF,CAAlBpF,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAFgBoF;AAEhBpF,CA7QZ;AAAA,IAgRaqF,KAAU;AAAAvB,mBAAO9D,CAAP8D,EAAO9D;AAE5B,kBADOA,EAAGiF,OAAHjF,CAAW8D,CAAX9D,CACP,EAAOD,EAAGC,CAAHD,CAAP;AAAUC,GAFW8D;AAEX9D,CAlRZ;;AAkRYA,SClRIsF,EDkRJtF,CClRU0D,CDkRV1D,EClRU0D;AACpB,oBADoBA,CACpB,KADoBA,IAAM,EAC1B,GAAOgB,GAAKzF,GAALyF,EAAoBhB,CAApBgB,CAAP;ACKF;;AAAA,IAAMa,KAAO,QAAb;AAAA,IACMC,KAAM,YADZ;AAAA,IAEMC,KAAM,YAFZ;AAAA,IAMMC,KAAU,gBANhB;AAAA,IAQMb,KAAW;AAAAC,SAAKA,CAALA;AAAKA,CARtB;AAAA,IAUMa,eACHH,EADGG,IACG,UAACC,CAAD,EAAMC,CAAN,EAAMA,CAAN,EAAMA;AAAAA,MAAU/B,SAAV+B;AAAAA,MAAetE,WAAfsE;AACX,MAAW,QAAP/B,CAAJ,EAAiB,UAAUE,KAAV,CAAgB,+BAAhB;AACjB4B,IAAIV,GAAJU,CAAQ9B,CAAR8B,EAAarE,CAAbqE,GACAA,EAAIE,SAAJF,CAAcF,EAAdE,EAAuBA,EAAIG,GAAJH,EAAvBA,CADAA;AAC2BG,CAJzBJ,EAIyBI,EAE5BN,EAF4BM,IAEtB,UAACH,CAAD,EAAMI,CAAN,EAAMA,CAAN,EAAMA;AAAAA,MAASlC,SAATkC;AAAAA,MAAchB,cAAdgB;AACX,MAAW,QAAPlC,CAAJ,EAAiB,UAAUE,KAAV,CAAgB,8BAAhB;AACjBgC,IAAOC,KAAPD,CAAaJ,EAAIb,GAAJa,CAAQ9B,CAAR8B,EAAaZ,CAAbY,CAAbI;AAA0BhB,CARxBW,EAQwBX,EARhBkB,aAQgBlB,GAElB,UAACY,CAAD,EAAMI,CAAN,EAAMA,CAAN,EAAMA;AAAAA,MAASlC,SAATkC;AAAAA,MAAcZ,QAAdY;AACd,MAAW,QAAPlC,CAAJ,EAAiB,UAAUE,KAAV,CAAgB,iCAAhB;AACjB4B,IAAIT,MAAJS,CAAW9B,CAAX8B,EAAgBR,KAAMP,EAAtBe,GACAA,EAAIE,SAAJF,CAAcF,EAAdE,EAAuBA,EAAIG,GAAJH,EAAvBA,CADAA;AAC2BG,CAbzBJ,EAayBI,EAbjBI,aAaiBJ,GAEnB,UAACH,CAAD,EAAMI,CAAN,EAAMA,CAAN,EAAMA;AAAAA,MAASlC,SAATkC;AACd,MAAW,QAAPlC,CAAJ,EAAiB,UAAUE,KAAV,CAAgB,iCAAhB;AACjB4B,WAAW9B,CAAX8B,GACAA,EAAIE,SAAJF,CAAcF,EAAdE,EAAuBA,EAAIG,GAAJH,EAAvBA,CADAA;AAC2BG,CAlBzBJ,EAkByBI,EAlBjBK,YAkBiBL,GAEpB,UAACH,CAAD,EAAMI,CAAN,EAAMA,CAAN,EAAMA;AAAAA,MAASK,aAATL;AACb,MAAe,QAAXK,CAAJ,EAAqB,UAAUrC,KAAV,CAAgB,oCAAhB;AACrBgC,IAAOC,KAAPD,CAAaJ,EAAIU,KAAJV,CAAUS,CAAVT,CAAbI;AAAuBK,CAtBrBV,EAsBqBU,EAExBE,CAFwBF,IAEZ,UAACT,CAAD,EAAMI,CAAN,EAAMA;AACjBJ,IAAIY,SAAJZ,CAAcI,EAAOtG,IAArBkG,GACAA,EAAIa,IAAJb,CAASI,EAAOtG,IAAhBkG,EAAsBF,EAAtBE,EAA+BA,EAAIG,GAAJH,EAA/BA,CADAA;AACmCG,CA1BjCJ,EA0BiCI,EAEpCW,CAFoCX,IAEtB,UAACH,CAAD,EAAMI,CAAN,EAAMA;AACnBJ,IAAIe,WAAJf,CAAgBI,EAAOtG,IAAvBkG;AAAuBlG,CA7BrBiG,EA6BqBjG,CA7BrBiG,CAVN;;AA6CA,SAAST,EAAT,CAAapB,CAAb,EAAkBvC,CAAlB,EAAkBA;AAEhB,SADAkF,EAAKlB,EAALkB,EAAWjB,EAAXiB,EAAgB;AAAC3C,UAAD;AAAMvC;AAAN,GAAhBkF,GACOG,IAAP;AAGF;;AAAA,SAAS7B,EAAT,CAAajB,CAAb,EAAkBkB,CAAlB,EAAkBA;AAChB,SAAOyB,EAAKlB,EAALkB,EAAWhB,EAAXgB,EAAgB;AAAC3C,UAAD;AAAMkB;AAAN,GAAhByB,EAAiC;AAACI,kBAAa,CAAd;AAAoBC,aAAS;AAA7B,GAAjCL,CAAP;AAGF;;AAAA,SAAStB,EAAT,CAAgBrB,CAAhB,EAAqBsB,CAArB,EAAqBA;AAEnB,oBAFmBA,CAEnB,KAFmBA,IAAKP,EAExB,GADA4B,EAAKlB,EAALkB,EApDa,eAoDbA,EAAmB;AAAC3C,UAAD;AAAMsB;AAAN,GAAnBqB,CACA,EAAOG,IAAP;AAGF;;AAAA,SAASG,EAAT,CAAiBjD,CAAjB,EAAiBA;AAEf,SADA2C,EAAKlB,EAALkB,EAxDa,eAwDbA,EAAmB;AAAC3C;AAAD,GAAnB2C,GACOG,IAAP;AAGF;;AAAA,SAASN,EAAT,CAAeD,CAAf,EAAeA;AACb,SAAOI,EAAKlB,EAALkB,EA5DK,cA4DLA,EAAkB;AAACJ;AAAD,GAAlBI,EAA6B;AAACI,kBAAa,CAAd;AAAoBC,aAAS;AAA7B,GAA7BL,CAAP;AAGF;;AAAA,SAASD,EAAT,CAAmBQ,CAAnB,EAAmBA;AACjB,SAAOC,EAAW1B,EAAX0B,EAAiB;AAAA,WAAMC,EAAMvB,EAANuB,EAAgB3B,EAAhB2B,CAAN;AAAsB3B,GAAvC0B,EAA8CD,CAA9CC,CAAP;AAAqDD;;AAAAA,SAGvCJ,EAHuCI,CAGhCG,CAHgCH,EAGhCG;AAKrB,SAJc,QAAVA,CAAU,IAA0B,mBAAXA,CAAf,IACZtI,OAAOC,IAAPD,CAAYsI,CAAZtI,EAAoBuI,GAApBvI,CAAwB;AAAAgB,WAAKqF,GAAIrF,CAAJqF,EAAOiC,EAAOtH,CAAPsH,CAAPjC,CAALrF;AAAmBA,GAA3ChB,CADY,EAIP;AAACqG,WAAD;AAAMH,WAAN;AAAWI,cAAX;AAAmBkC,YAAQN,EAA3B;AAAoCT,aAApC;AAA2CE;AAA3C,GAAP;AAlCFU;;AAAAA,EAAMvB,EAANuB,EAAgB3B,EAAhB2B;;ACnDA,IAcaI,KAAW;AAAA,SAAMvI,KAAKC,KAALD,CAAKC,wQAALD,CAAN;AAAWC,CAdnC;AAAA,ICMsBuI,eAAMC,CAAND,EAAYE,CAAZF,EAAoBG,CAApBH,EAAoBG;AAAAA;AAAAA,2BACPd,KAAS7B,GAAT6B,CAAa,eAAbA,EAA8B,EAA9BA,CADOc,EACuBjD,IADvBiD,CACuB,UAAzDC,CAAyD,EAAzDA;AACN,iBAAWC,OAAX,CAAmB,UAAC7G,CAAD,EAAU8G,CAAV,EAAUA;AAC3BC,UAAKP,KAALO,CAAWL,CAAXK,EAAmB;AACjBJ,mBAASA,CADQ;AAEjBF,gBAAMA,CAFW;AAGjBO,oBAAU,IAAID,EAAKE,QAAT,CAAkBL,CAAlB,CAHO;AAIjBM,iBAAO;AAAA,gBAAUC,mBAAV;AAAUA,cAARjI,MAAQiI,KACAJ,EAAKK,IAALL,CAAUM,EADVF,GAEbnH,IAF4BM,OAE5BN,CAFamH,GAIbL,EAAO,IAAI7D,KAAJ,CAAUkE,CAAV,CAAPL,CAJaK;AAIIA;AARJ,SAAnBJ;AAQuBI,OATzB;AASyBA,KAXeR;AAA1C,GAA0CA,CAA1C;AAAA;AAAA;AAAA,CDNA;;ACIAI,EAAKO,mBAALP,CAAyBQ,GAAzBR;;AAAyBQ,ICKnBC,KAAY;AAAAC,SAAOC,OAAO/I,IAAP+I,CAAYD,CAAZC,EAAiB,KAAjBA,CAAPD;AAAwB,CDLjBF;AAAAA,ICMnBI,KAAgB;AAAAC,SAHpBF,OAAO/I,IAAP+I,CAG4CE,EAH5BC,QAG4BD,CAHnBE,EAGmBF,EAHV,CAGUA,CAH5CF,EAAsC,KAAtCA,CAGoBE;AAHkB,CDHfL;AAAAA,IEAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CFAtBT;AAAAA,IGAnBW,KAAiB;AAAA7H,SAAOqH,OAAO/I,IAAP+I,CAAY1J,KAAKmK,SAALnK,CAAeqC,CAAfrC,CAAZ0J,EAAiC,MAAjCA,CAAPrH;AAAwC,CHAtCkH;AAAAA,IICnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CJDtBT;AAAAA,IKAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CLAtBT;AAAAA,IMAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CNAtBT;AAAAA,IOAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CPAtBT;AAAAA,IQAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CRAtBT;AAAAA,ISAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CTAtBT;AAAAA,IUAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CVAtBT;AAAAA,IWAnBQ,KAAU;AAAAC,SAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAANM;AAA+B,CXAtBT;AAAAA,IY0BZ7B,eAAczG,CAAdyG,EAAkBhG,CAAlBgG,EAAkBhG;AAAAA,uBAAO,EAAPA;;AAAO;AAAA;AAAO,aAC3CA,EAAK0I,IAAL1I,GAAK0I,CAAL1I,EAAK0I,gBACMnJ,CADNmJ,EACMnJ,IADNmJ,CACMnJ;AAGX,gBAHAA,QAGQ,CAAR;AACE,eAAK0C,GAAc1C,CAAd0C,CAAL;AACE,mBAAOjC,EAAK2I,eAAL3I,GAAuBA,EAAK2I,eAAL3I,CAAqBT,CAArBS,EAAyBA,CAAzBA,CAAvBA,GAAgDA,UXxBvBT,CWwBuBS,EXxBnBA,CWwBmBA,EXxBnBA;AAAAA,mCAAO,EAAPA;;AAAO;AAC/C,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADmD,uCAGxCrJ,CAHwC,EAGxCA,IAHwC,CAGxCA;AAAXA;AAEA,sBAAMsJ,IAAK,IAAIC,CAAJ,EAAX;AACAD,oBAAGE,SAAHF,CAXmB;AAAAG,2BAAUhB,OAAO/I,IAAP+I,CAAYgB,CAAZhB,EAAoB,MAApBA,CAAVgB;AAWNC,mBAXM,CAWO1J,EAAGqB,OAAHrB,CAAW2J,OAXlB,CAWnBL,GACAA,EAAGM,WAAHN,CAAetJ,EAAGqB,OAAHrB,CAAW6J,YAA1BP,CADAA,EAEAA,EAAGQ,mBAAHR,CACEtJ,EAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAsBuI,GAAUvI,EAAGqB,OAAHrB,CAAW+J,QAArBxB,CAAtBvI,GAAuD,IADzDsJ,CAFAA,EAKAA,EAAGU,QAAHV,CAAYZ,GAAcuB,EAAWjK,EAAGc,QAAHd,CAAYA,EAAGkK,KAAflK,EAAsB2I,IAAjCsB,CAAdvB,CAAZY,CALAA,EAMAtJ,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBmK,OAArBnK,CAA6B;AAAAoB,2BAC3BkI,EAAGc,YAAHd,CAfmB;AAAAlI,6BAAOqH,OAAO/I,IAAP+I,CAAY1J,KAAKmK,SAALnK,CAAeqC,CAAfrC,CAAZ0J,EAAiC,MAAjCA,CAAPrH;AAeH6H,qBAfG,CAeYjJ,EAAGsB,SAAHtB,CAAaoB,CAAbpB,EAAkBwB,UAf9B,CAenB8H,CAD2BlI;AACsBI,mBADnDxB,CANAsJ,EASAtJ,EAAGiB,cAAHjB,CACGoH,GADHpH,CACO;AAAAa,2BAAUb,EAAGc,QAAHd,CAAYa,CAAZb,EAAoB2I,IAA9B9H;AAA8B8H,mBADrC3I,EAEGqK,MAFHrK,CAEU,UAACsK,CAAD,EAAOC,CAAP,EAAOA;AACb,2BAAOD,EAAKE,IAALF,CAAU;AAAAG,6BAAQA,MAASF,CAAjBE;AAAiBF,qBAA3BD,IAAsCA,CAAtCA,GAAsCA,UAAWA,CAAXA,EAAWA,CAAMC,CAAND,CAAXA,CAA7C;AAA8DC,mBAHlEvK,EAIK,EAJLA,EAKGmK,OALHnK,CAKW;AAAA2I,2BAAQW,EAAGoB,cAAHpB,CAAkBZ,GAAcuB,EAAWtB,CAAXsB,CAAdvB,CAAlBY,CAARX;AAAmDA,mBAL9D3I,CATAsJ;AAgBA,sBAAMqB,IAAc,IAAIpB,EAAYqB,WAAhB,EAApB;AACAD,oBAAYE,UAAZF,CACEjC,GAAcuB,EAAWjK,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyB2I,IAApCsB,CAAdvB,CADFiC,GAGAA,EAAYI,QAAZJ,CAAqB3K,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBgL,KAA9CL,CAHAA,EAIAA,EAAYM,iBAAZN,CAA8B3K,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBkL,WAAvDP,CAJAA,EAMArB,EAAG6B,cAAH7B,CAAkBqB,CAAlBrB,CANAqB;;AASA,sCAAiB9L,OAAOsI,MAAPtI,CAAcmB,EAAGc,QAAjBjC,CAAjB,EAAkCiC,YAAlC,EAAkCA,GAAlC,EAA6C;AAAxC,wBAAIN,QAAJ;;AACH;AACE,2BAAKA,EAAKG,IAALH,CAAU0J,KAAf,IAA0C,QAAlB1J,EAAK4K,SAA7B,EAAgD;AAC9C,4BAAMC,IAAM,IAAI9B,EAAY+B,SAAhB,EAAZ;AACAD,0BAAIR,UAAJQ,CAAe3C,GAAcuB,EAAWzJ,EAAKmI,IAAhBsB,CAAdvB,CAAf2C,GACAA,EAAIN,QAAJM,CAAa7K,EAAKwK,KAAlBK,CADAA,EAEAA,EAAIE,YAAJF,CAAiB9C,GAAU/H,EAAK4K,SAAf7C,CAAjB8C,CAFAA,EAGA/B,EAAGkC,oBAAHlC,CAAwB+B,CAAxB/B,CAHA+B;AAGwBA;AAE1B,qBARF,CAQE,OAAOI,CAAP,EAAOA;AAEP,4BADAC,QAAQD,KAARC,CAAc,oCAAdA,EAAoD;AAAClL,+BAAD;AAAOR;AAAP,uBAApD0L,GACMD,CAAN;AAAMA;AAKV;;AAAA,sCAAiB5M,OAAOsI,MAAPtI,CAAcmB,EAAGc,QAAjBjC,CAAjB,EAAkCiC,YAAlC,EAAkCA,GAAlC,EAA6C;AAAxC,wBAAIN,QAAJ;;AACH;AACE,0BAAIA,EAAKG,IAALH,CAAU0J,KAAV1J,IAAqC,QAAlBA,EAAK4K,SAA5B,EAA+C;AAC7C,4BAAMC,IAAM,IAAI9B,EAAY+B,SAAhB,EAAZ;AACAD,0BAAIR,UAAJQ,CAAe3C,GAAcuB,EAAWzJ,EAAKmI,IAAhBsB,CAAdvB,CAAf2C,GACAA,EAAIN,QAAJM,CAAa7K,EAAKwK,KAAlBK,CADAA,EAEAA,EAAIE,YAAJF,CAAiB9C,GAAU/H,EAAK4K,SAAf7C,CAAjB8C,CAFAA,EAGA/B,EAAGqC,qBAAHrC,CAAyB+B,CAAzB/B,CAHA+B;AAGyBA;AAE3B,qBARF,CAQE,OAAOI,CAAP,EAAOA;AAEP,4BADAC,QAAQD,KAARC,CAAc,qCAAdA,EAAqD;AAAClL,+BAAD;AAAOR;AAAP,uBAArD0L,GACMD,CAAN;AAAMA;AAIV;;AAAA,sBAAMG,IAAM,IAAIC,CAAJ,EAAZ;AACAD,oBAAIE,cAAJF,CAAmBtC,CAAnBsC;AAEA,sBAAIG,IAAKC,KAAKC,GAALD,EAAT;AAlEmD,yCAmEjCzE,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUC,eAA3B5E,EAA4CqE,CAA5CrE,CAnEiC,EAmEWqE,IAnEX,CAmEWA,UAAxDQ,CAAwDR,EAAxDQ;AACN,wBA5EcrD,CA4Ed;AAAA,wBAAIsD,IAAKL,KAAKC,GAALD,EAAT;AAAA,wBAEIM,IAAMhF,IAFV;AAcA,2BAXAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAIC,aAAJD,IAhFcvD,IAgFcqD,EAAII,UAAJJ,EAhFdrD,EAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAgFpB6D,CADAA,EAGsB,sBAAXG,MAAW,IACpBA,OAAOC,aAAPD,CACE,IAAIE,WAAJ,CAAgB,UAAhB,EAA4B;AAC1BC,8BAAQ;AAACC,8BAAMP,EAAIC,aAAX;AAA0BO,+BAAOT,IAAKN;AAAtC;AADkB,qBAA5B,CADFU,CAJFH,EAWOA,CAAP;AAAOA,mBAlF4C;AAkF5CA,iBAlF4C;AAArD,eAAiD,CAAjD;AAAA;AAAA;AWwBqElD,aAAR3I,CAAwBT,CAAxBS,EAA4BA,CAA5BA,CAAvD;;AACF,eAAKkC,GAAuB3C,CAAvB2C,CAAL;AACE,mBAAOlC,EAAKsM,wBAALtM,GAAgCA,EAAKsM,wBAALtM,CAA8BT,CAA9BS,EAAkCA,CAAlCA,CAAhCA,GAAkEA,UChChCT,CDgCgCS,EChC5BA,CDgC4BA,EChC5BA;AAAAA,mCAAO,EAAPA;;AAAO;AACxD,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AAD4D,uCAGjDrJ,CAHiD,EAGjDA,IAHiD,CAGjDA;AAAXA;AAEA,sBAAM4L,IAAM,IAAIoB,CAAJ,EAAZ;AAL4D,yBAM5DpB,EAAIqB,KAAJrB,CARuBnD,OAAO/I,IAAP+I,CAQHzI,EAAGkN,WAAHlN,CAAemN,EARZ1E,EAAiB,KAAjBA,CAQvBmD,GARwChE,gBAUtBL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUkB,oBAA3B7F,EAAiDqE,CAAjDrE,CAVsB,EAU2BqE,IAV3B,CAU2BA,UAA7DQ,CAA6DR,EAA7DQ;AAEN,wBAAIiB,IAASjB,EAAIkB,aAAJlB,EAAb;AAAA,wBAEIE,IAAMhF,IAFV;AAiBA,2BAdAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAIiB,iBAAJjB,GAAwB;AACtBrM,8BAAQmM,EAAIoB,SAAJpB,EADc;AAEtBqB,kCAAYrB,EAAIsB,aAAJtB,EAFU;AAGtBuB,oCAAcvB,EAAIwB,eAAJxB,EAHQ;AAItBiB,8BAAQA,EAAOjG,GAAPiG,CAAW;AAAAQ,+BAAU;AAC3BC,gCAAMD,EAAME,OAANF,EADqB;AAE3BtB,0CAvBUxD,IAuBa8E,EAAMG,qBAANH,EAvBb9E,EAAMN,OAAO/I,IAAP+I,CAAYM,CAAZN,EAAgBO,QAAhBP,CAAyB,KAAzBA,CAuBhB8D,CAF2B;AAG3B0B,4CAAkBJ,EAAMK,mBAANL,EAHS;AAI3BM,sCAAYN,EAAMO,aAANP,EAJe;AAK3BQ,mCAAStP,KAAKC,KAALD,CAAW0J,OAAO/I,IAAP+I,CAAYoF,EAAMS,eAANT,EAAZpF,EAAqCO,QAArCP,CAA8C,MAA9CA,CAAX1J;AALkB,yBAAV8O;AArBP;AAAA9E,uBAqBJsE;AAJc,qBADxBf,EAcOA,CAAP;AAAOA,mBA7BiC,CAEoB;AA2BrDA,iBA3BqD;AAA9D,eAA0D,CAA1D;AAAA;AAAA;ADgCuFS,aAARtM,CAAiCT,CAAjCS,EAAqCA,CAArCA,CAAzE;;AACF,eAAKmC,GAAiB5C,CAAjB4C,CAAL;AACE,mBAAOnC,EAAK8N,kBAAL9N,GAA0BA,EAAK8N,kBAAL9N,CAAwBT,CAAxBS,EAA4BA,CAA5BA,CAA1BA,GAAsDA,UVlC1BT,CUkC0BS,EVlCtBA,CUkCsBA,EVlCtBA;AAAAA,mCAAO,EAAPA;;AAAO;AAClD,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADsD,uCAG3CrJ,CAH2C,EAG3CA,IAH2C,CAG3CA;AAAXA;AAEA,sBAAM4L,IAAM,IAAIoB,CAAJ,EAAZ;AALsD,yBAMtDpB,EAAIqB,KAAJrB,CARuBnD,OAAO/I,IAAP+I,CAQHzI,EAAGkN,WAAHlN,CAAemN,EARZ1E,EAAiB,KAAjBA,CAQvBmD,GARwChE,gBAUtBL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUsC,cAA3BjH,EAA2CqE,CAA3CrE,CAVsB,EAUqBqE,IAVrB,CAUqBA,UAAvDQ,CAAuDR,EAAvDQ;AAEN,wBAAIE,IAAMhF,IAAV;AACAgF,sBAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM;;AAEA,wBAAkBxI,CAAlB;AAAA,wBAMM2K,IAAkB;AAAApD,6BAAQ;AAC9BqD,iCAAS5F,GAAQuC,EAAIsD,eAAJtD,EAARvC,CADqB;AAE9BkC,+BAAOK,EAAIuD,QAAJvD,EAFuB;AAG9BD,mCAAWtC,GAAQuC,EAAIwD,iBAAJxD,EAARvC;AAHmB,uBAARuC;AAGCwD,qBATzB;AAAA,wBAYI3B,IAAcd,EAAI0C,cAAJ1C,EAZlB;;AAyBA,2BAZAE,EAAIY,WAAJZ,GAAkB;AACd7C,8BAAQhB,OAAO/I,IAAP+I,CAAYyE,EAAY6B,cAAZ7B,EAAZzE,EAA0CO,QAA1CP,CAAmD,MAAnDA,CADM;AAEduG,4BAAO9B,EAAY+B,gBAAZ/B,GAAgC9F,GAAhC8F,CAAoC;AAAA9L,+BAAOrC,KAAKC,KAALD,CAAW0J,OAAO/I,IAAP+I,CAAYrH,CAAZqH,EAAiBO,QAAjBP,CAA0B,MAA1BA,CAAX1J,CAAPqC;AAA4C,uBAAhF8L,CAFO;AAGdgC,wCAAkBpG,GAAQoE,EAAYiC,wBAAZjC,EAARpE,CAHJ;AAIdsG,gCAAUlC,EAAYmC,WAAZnC,EAJI;AAKdvC,oCAlBc7G,IAkBSoJ,EAAYoC,cAAZpC,EAlBTpJ,EAAQ;AACxB4K,iCAAS5F,GAAQhF,EAAI6K,eAAJ7K,EAARgF,CADe;AAExBkC,+BAAOlH,EAAI8K,QAAJ9K,EAFiB;AAGxByL,wCAAgBzL,EAAI0L,iBAAJ1L;AAHQ,uBAkBtB6G,CALc;AAMdT,6BAAOpB,GAAQoE,EAAYuC,aAAZvC,EAARpE,CANO;AAOd4G,mCAAcxC,EAAYyC,kBAAZzC,GAAkC9F,GAAlC8F,CAAsCpE,EAAtCoE,CAPA;AAQd0C,yCAAoB1C,EAAY2C,wBAAZ3C,GAAwC9F,GAAxC8F,CAA4CuB,CAA5CvB,CARN;AASd4C,0CAAqB5C,EAAY6C,yBAAZ7C,GAAyC9F,GAAzC8F,CAA6CuB,CAA7CvB;AATP,qBAAlBZ,EAYOA,CAAP;AAAOA,mBAxCiC,CAEc;AAsC/CA,iBAtC+C;AAAxD,eAAoD,CAApD;AAAA;AAAA;AUkC2EiC,aAAR9N,CAA2BT,CAA3BS,EAA+BA,CAA/BA,CAA7D;;AACF,eAAKgC,GAASzC,CAATyC,CAAL;AACE,mBAAOhC,EAAKuP,iBAALvP,GAAyBA,EAAKuP,iBAALvP,CAAuBT,CAAvBS,EAA2BA,CAA3BA,CAAzBA,GAAoDA,UTpCzBT,CSoCyBS,ETpCrBA,CSoCqBA,ETpCrBA;AAAAA,mCAAO,EAAPA;;AAAO;AACjD,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADqD,uCAG1CrJ,CAH0C,EAG1CA,IAH0C,CAG1CA;AAAAA;AAkCX,wBAAIsM,IAAMhF,IAAV;AAIA,2BAHAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAI2D,WAAJ3D,GAAkBvN,KAAKC,KAALD,CAAW0J,OAAO/I,IAAP+I,CAAY2D,EAAI8D,aAAJ9D,EAAZ3D,EAAiCO,QAAjCP,CAA0C,MAA1CA,CAAX1J,CADlBuN,EAGOA,CAAP;AApCA;;AAAA,sBAAIV,CAAJ,EACIQ,CADJ;AAFApM;;AAHqD;AAAA,wBAOjDA,EAAGmQ,KAAHnQ,CAASmN,EAPwC,EAOxCA;AAAAA,uBACXvB,IAAM,IAAIwE,CAAJ,EADKjD,EAGPkD,UAHOlD,CATU1E,OAAO/I,IAAP+I,CAYIzI,EAAGmQ,KAAHnQ,CAASmN,EAZb1E,EAAiB,KAAjBA,CASV0E;AAKX,0BAAMmD,IAAO7H,OAAO/I,IAAP+I,CAAYzI,EAAGqB,OAAHrB,CAAW2J,OAAvBlB,EAAgC,MAAhCA,CAAb;AAZmD,6BAanDzI,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBmK,OAArBnK,CAA6B;AAAAoB,+BAAOwK,EAAIxB,YAAJwB,CAAiB3C,GAAejJ,EAAGsB,SAAHtB,CAAaoB,CAAbpB,EAAkBwB,UAAjCyH,CAAjB2C,CAAPxK;AAAyDI,uBAAtFxB,GACA4L,EAAIpC,SAAJoC,CAAc0E,CAAd1E,CADA5L,EACcsQ,gBAEF/I,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUqE,sBAA3BhJ,EAAmDqE,CAAnDrE,CAFE+I,EAEiD1E,IAFjD0E,CAEiD1E;AAA/DQ;AAAAA,uBAFckE,CAdqC;AAFrC;;AAAA;AAAA,0BAmBLtQ,EAAGmQ,KAAHnQ,CAASwQ,MAnBJ,EAmBIA;AAAAA,yBAClB5E,IAAM,IAAI6E,CAAJ,EADYD,EAGdE,cAHcF,CAGCG,OAAO3Q,EAAGmQ,KAAHnQ,CAASwQ,MAAhBG,CAHDH;AAKlB,4BAAMF,IAAO7H,OAAO/I,IAAP+I,CAAYzI,EAAGqB,OAAHrB,CAAW2J,OAAvBlB,EAAgC,MAAhCA,CAAb;AAtBmD,+BAuBnDzI,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBmK,OAArBnK,CAA6B;AAAAoB,iCAAOwK,EAAIxB,YAAJwB,CAAiB3C,GAAejJ,EAAGsB,SAAHtB,CAAaoB,CAAbpB,EAAkBwB,UAAjCyH,CAAjB2C,CAAPxK;AAAyDI,yBAAtFxB,GACA4L,EAAIpC,SAAJoC,CAAc0E,CAAd1E,CADA5L,EACcsQ,gBAEF/I,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU0E,0BAA3BrJ,EAAuDqE,CAAvDrE,CAFE+I,EAEqD1E,IAFrD0E,CAEqD1E;AAAnEQ;AAAAA,yBAFckE,CAxBqC;AA4BnD1E;;AAAAA,0BAAM,IAAIiF,CAAJ,EAANjF;AAEA,0BAAM0E,IAAO7H,OAAO/I,IAAP+I,CAAYzI,EAAGqB,OAAHrB,CAAW2J,OAAvBlB,EAAgC,MAAhCA,CAAb;AA9BmD,6BA+BnDzI,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBmK,OAArBnK,CAA6B;AAAAoB,+BAAOwK,EAAIxB,YAAJwB,CAAiB3C,GAAejJ,EAAGsB,SAAHtB,CAAaoB,CAAbpB,EAAkBwB,UAAjCyH,CAAjB2C,CAAPxK;AAAyDI,uBAAtFxB,GACA4L,EAAIpC,SAAJoC,CAAc0E,CAAd1E,CADA5L,EACcsQ,gBAEF/I,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU4E,0BAA3BvJ,EAAuDqE,CAAvDrE,CAFE+I,EAEqD1E,IAFrD0E,CAEqD1E;AAAnEQ;AAAAA,uBAFckE,CAhCqC;AAkCnDlE,qBApCc;;AAoCdA;AAAAA,mBAlCmD;;AAkCnDA;AAAAA,iBAlCmD;AAAvD,eAAmD,CAAnD;AAAA;AAAA;ASoCyE4D,aAARvP,CAA0BT,CAA1BS,EAA8BA,CAA9BA,CAA3D;;AACF,eAAKoC,GAAa7C,CAAb6C,CAAL;AACE,mBAAOpC,EAAKsQ,cAALtQ,GAAsBA,EAAKsQ,cAALtQ,CAAoBT,CAApBS,EAAwBA,CAAxBA,CAAtBA,GAA8CA,URlCtBT,CQkCsBS,ERlClBA,CQkCkBA,ERlClBA;AAAAA,mCAAO,EAAPA;;AAAO;AAC9C,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADkD,uCAGvCrJ,CAHuC,EAGvCA,IAHuC,CAGvCA;AAEX,sBAPoB2I,CAOpB;AAAA,sBAAMiD,KAFN5L,KAEM4L,EAASuE,KAATvE,CAAe4E,MAAf5E,GAAwB,IAAIoF,CAAJ,EAAxBpF,GAA+D,IAAIqF,CAAJ,EAArE;AALkD,yBAM9CjR,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,IAAiB4L,EAAI8E,cAAJ9E,CAAmB+E,OAAO3Q,EAAGmQ,KAAHnQ,CAASwQ,MAAhBG,CAAnB/E,CAAjB5L,EACJ4L,EAAIf,UAAJe,EAToBjD,IASSsB,EAAWjK,EAAGkR,OAAHlR,CAAW2I,IAAtBsB,CATTtB,EAFpBF,OAAO/I,IAAP+I,CAE4CE,EAF5BC,QAE4BD,CAFnBE,EAEmBF,EAFV,CAEUA,CAF5CF,EAAsC,KAAtCA,CAWAmD,EADI5L,EAVkC4H,gBAapBL,EAAM9G,EAAK0I,IAAX5B,EAAiBvH,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,GAAkBkM,EAAUiF,uBAA5BnR,GAAsDkM,EAAUkF,uBAAjF7J,EAA0GqE,CAA1GrE,CAboB,EAasFqE,IAbtF,CAasFA,UAAtHQ,CAAsHR,EAAtHQ;AAEN,wBAAIE,IAAMhF,IAAV;AACAgF,sBAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM;AAEA,wBAEI+E,CAFJ;AAAA,wBAAMH,IAAU9E,EAAIkF,UAAJlF,EAAhB;AAAA,wBAGMmF,KAAaF,IAAeH,EAAQM,eAARN,EAA5BK,IAAyDF,EAAaI,YAAbJ,GAA4BhH,MAA5BgH,CAAmC,UAACK,CAAD,EAAMC,CAAN,EAAMA;AAAAA;AAAAA,mCACnGD,CADmGC,GACnGD,SACFC,EAAS,CAATA,CADED,IACYjJ,OAAO/I,IAAP+I,CAAYkJ,EAAS,CAATA,KAAe,IAAIC,UAAJ,EAA3BnJ,EAA6CO,QAA7CP,CAAsD,MAAtDA,CADZiJ,EACkEG,CAFiCF;AAEjC,qBAFRN,EAG3D,EAH2DA,CAAzDE,GAGI,EANV;AAwBA,2BAhBAjF,EAAI4E,OAAJ5E,GAAc;AACZoC,+BAASoD,EAAWhJ,GAAQoI,EAAQvC,eAARuC,EAARpI,CAAXgJ,CADG;AAEZC,+BAASb,EAAQc,UAARd,EAFG;AAGZZ,4BAAM7H,OAAO/I,IAAP+I,CAAYyI,EAAQe,YAARf,MAA0B,IAAIU,UAAJ,EAAtCnJ,EAAwDO,QAAxDP,CAAiE,MAAjEA,CAHM;AAIZ8I,kCAJY;AAKZzS,4BAAMoS,EAAQgB,WAARhB,GAAsB9J,GAAtB8J,CAA0B;AAAAiB,+BAAc;AAC5CC,iCAAOD,EAAUE,QAAVF,EADqC;AAE5CA,qCAAWrJ,GAAQqJ,EAAUG,iBAAVH,EAARrJ,CAFiC;AAG5CyJ,oCAAUJ,EAAUK,WAAVL,EAHkC;AAI5CM,oCAAUN,EAAUO,WAAVP,EAJkC;AAK5CQ,kCAAQR,EAAUS,SAAVT,EALoC;AAM5C5C,0CAAgB4C,EAAU3C,iBAAV2C,EAN4B;AAO5CU,mCAASV,EAAUW,UAAVX;AAPmC,yBAAdA;AAOXW,uBAPf5B;AALM,qBAAd5E,EAgBOA,CAAP;AAAOA,mBA1C+B,CAIY;AAsC3CA,iBAtC2C;AAApD,eAAgD,CAAhD;AAAA;AAAA;AQkCmEyE,aAARtQ,CAAuBT,CAAvBS,EAA2BA,CAA3BA,CAArD;;AACF,eAAKqC,GAAY9C,CAAZ8C,CAAL;AACE,mBAAOrC,EAAKsS,aAALtS,GAAqBA,EAAKsS,aAALtS,CAAmBT,CAAnBS,EAAuBA,CAAvBA,CAArBA,GAA4CA,UPxCrBT,COwCqBS,EPxCjBA,COwCiBA,EPxCjBA;AAAAA,mCAAO,EAAPA;;AAAO;AAC7C,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADiD,uCAGtCrJ,CAHsC,EAGtCA,IAHsC,CAGtCA;AAAAA;AAmBX,wBAAIsM,IAAMhF,IAAV;AACAgF,sBAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM;AAEA,wBAAM0G,IAAU5G,EAAI6G,cAAJ7G,EAAhB;AAqBA,2BApBAE,EAAIe,MAAJf,GAAa0G,EAAQ3I,MAAR2I,CAAe,UAACE,CAAD,EAASrP,CAAT,EAASA;AACnC,0BAAMsP,IAAUrK,GAAQjF,EAAOuP,eAAPvP,EAARiF,CAAhB;AAAA,0BACMuK,IAAcxP,EAAOyP,cAAPzP,EADpB;AAAA,0BAEM0P,IAAiB1P,EAAO2P,iBAAP3P,GAA2B4P,MAA3B5P,GAAoC6P,WAApC7P,EAFvB;AAgBA,6BAbeA,EAAOyJ,aAAPzJ,GACRsG,OADQtG,CACA;AACbqP,0BAAOhS,IAAPgS,CAAY;AACVC,oCADU;AAEVE,wCAFU;AAGVE,2CAHU;AAIVzF,gCAAMD,EAAME,OAANF,EAJI;AAKVtB,yCAAezD,GAAQ+E,EAAMG,qBAANH,EAAR/E,CALL;AAMVmF,4CAAkBJ,EAAMK,mBAANL,EANR;AAOVM,sCAAYN,EAAMO,aAANP,EAPF;AAQVQ,mCAAStP,KAAKC,KAALD,CAAW0J,OAAO/I,IAAP+I,CAAYoF,EAAMS,eAANT,EAAZpF,EAAqCO,QAArCP,CAA8C,MAA9CA,CAAX1J;AARC,yBAAZmU;AAQoE,uBAVvDrP,GAaRqP,CAAP;AAAOA,qBAjBIF,EAkBV,EAlBUA,CAAb1G,EAoBOA,CAAP;AAzCA;;AAAA,sBAAIF,CAAJ;AAAA,sBACMR,KAHN5L,KAGM4L,EAASyB,MAATzB,CAAgB+H,KAAhB/H,GAAwB,IAAIgI,CAAJ,EAAxBhI,GAA+D,IAAIiI,CAAJ,EADrE;AAEAjI,oBAAIkI,OAAJlI,CAAY5L,EAAGqN,MAAHrN,CAAU+T,SAAtBnI;AAPiD,0BAS7C5L,EAAGqN,MAAHrN,CAAU2T,KAAV3T,IACF4L,EAAIoI,cAAJpI,CAAmB+E,OAAO3Q,EAAGqN,MAAHrN,CAAU2T,KAAjBhD,CAAnB/E,GACAA,EAAIqI,YAAJrI,CAAiB+E,OAAO3Q,EAAGqN,MAAHrN,CAAUkU,GAAjBvD,CAAjB/E,CADAA,EACkCsI,gBAEtB3M,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUiI,uBAA3B5M,EAAoDqE,CAApDrE,CAFsB2M,EAE8BtI,IAF9BsI,CAE8BtI;AAAhEQ;AAAAA,mBAFkC8H,CAFhClU,KAMFA,EAAGqN,MAAHrN,CAAUoU,QAAVpU,CAAmBmK,OAAnBnK,CAA2B;AAAAmN,2BACzBvB,EAAIyI,WAAJzI,CAlBmBnD,OAAO/I,IAAP+I,CAkBO0E,CAlBP1E,EAAiB,KAAjBA,CAkBnBmD,CADyBuB;AAjBW,mBAiBtCnN,GAjBsC4H,gBAqB1BL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUoI,oBAA3B/M,EAAiDqE,CAAjDrE,CArB0B,EAqBuBqE,IArBvB,CAqBuBA;AAA7DQ;AAAAA,mBArBsC,CAWpCpM,CAT6C;AAmB/CoM;AAAAA,iBAnB+C;AAAnD,eAA+C,CAA/C;AAAA;AAAA;AOwCiE2G,aAARtS,CAAsBT,CAAtBS,EAA0BA,CAA1BA,CAAnD;;AACF,eAAKsC,GAAiB/C,CAAjB+C,CAAL;AACE,mBAAOtC,EAAK8T,kBAAL9T,GAA0BA,EAAK8T,kBAAL9T,CAAwBT,CAAxBS,EAA4BA,CAA5BA,CAA1BA,GAAsDA,UJ1B1BT,CI0B0BS,EJ1BtBA,CI0BsBA,EJ1BtBA;AAAAA,mCAAO,EAAPA;;AAAO;AAAA,uCACvCT,CADuC,EACvCA,IADuC,CACvCA;AAAXA;AAEA,sBAAM4L,IAAM,IAAI4I,CAAJ,EAAZ;AAHsD,yBAKlDxU,EAAGyU,WAAHzU,IAAkBA,EAAGyU,WAAHzU,CAAe0U,QAAjC1U,KACF4L,EAAI+I,WAAJ/I,CAAgB5L,EAAGyU,WAAHzU,CAAe0U,QAA/B9I,GAtBFF,QAAQD,KAARC,CACE,wbASGkJ,OATH,CASW,QATX,EASqB,IATrB,EAUGC,IAVH,EADFnJ,EAYE,yCAZFA,CAqBI1L,GAKAA,EAAGmQ,KAAHnQ,IAAYA,EAAGmQ,KAAHnQ,CAAS0U,QAArB1U,IACF4L,EAAI+I,WAAJ/I,CAAgB5L,EAAGmQ,KAAHnQ,CAAS0U,QAAzB9I,CANE5L,EAMuB0U,gBAGTnN,GAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU4I,cAA3BvN,EAA2CqE,CAA3CrE,CAHSmN,EAGkC9I,IAHlC8I,CAGkC9I,UAAvDQ,CAAuDR,EAAvDQ;AAEN,wBAAM+D,IAAQ/D,EAAI2I,QAAJ3I,EAAd;AAAA,wBAEM4I,IAAuB7E,EAAM8E,2BAAN9E,EAF7B;AAAA,wBAGM+E,IAAa/E,EAAMgF,iBAANhF,EAHnB;AAAA,wBAIMiF,IAAajF,EAAMkF,iBAANlF,EAJnB;AAAA,wBAMM7D,IAAMhF,IANZ;AA0BA,2BAnBAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAI6D,KAAJ7D,GAAY;AACVa,0BAAIrE,GAAQqH,EAAM3D,UAAN2D,EAARrH,CADM;AAEVwM,gCAAUxM,GAAQqH,EAAMoF,gBAANpF,EAARrH,CAFA;AAGV0H,8BAAQL,EAAMqF,SAANrF,EAHE;AAIVsF,iCAAWtF,EAAMuF,YAANvF,EAJD;AAKV6E,4CAAsBA,EAAqB5N,GAArB4N,CAAyB;AAAAW,+BAAwB;AACrEC,wCAAc9M,GAAQ6M,EAAoBE,oBAApBF,EAAR7M,CADuD;AAErEsM,sCAAYO,EAAoBN,iBAApBM;AAFyD,yBAAxBA;AAEbN,uBAFZL,CALZ;AASVE,kCAAYA,EAAW9N,GAAX8N,CAAe;AAAAY,+BAAc;AACvC3C,mCAASrK,GAAQgN,EAAU1C,eAAV0C,EAARhN,CAD8B;AAEvCiN,8CAAoBjN,GAAQgN,EAAUE,0BAAVF,EAARhN,CAFmB;AAGvCmN,sDAA4BH,EAAUI,iCAAVJ,EAHW;AAIvCK,oDAA0BL,EAAUM,+BAAVN;AAJa,yBAAdA;AAIWM,uBAJ1BlB,CATF;AAeVE,kCAAYA;AAfF,qBADZ9I,EAmBOA,CAAP;AAAOA,mBA/BoBoI,CAX2B;AA0C/CpI,iBA1C2C;AAApD,eAAoD,CAApD;AAAA;AAAA;AI0B2EiI,aAAR9T,CAA2BT,CAA3BS,EAAgCA,CAAhCA,CAA7D;;AACF,eAAK0C,GAAWnD,CAAXmD,CAAL;AACE,mBAAO1C,EAAK4V,YAAL5V,GAAoBA,EAAK4V,YAAL5V,CAAkBT,CAAlBS,EAAsBA,CAAtBA,CAApBA,GAA0CA,UN5CpBT,CM4CoBS,EN5ChBA,CM4CgBA,EN5ChBA;AAAAA,mCAAO,EAAPA;;AAAO;AAC5C,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADgD,uCAGrCrJ,CAHqC,EAGrCA,IAHqC,CAGrCA;AAAAA;AAwBX,wBAAMmQ,IAAQ/D,EAAI2I,QAAJ3I,EAAd;AAAA,wBAEM4I,IAAuB7E,EAAM8E,2BAAN9E,EAF7B;AAAA,wBAGM+E,IAAa/E,EAAMgF,iBAANhF,EAHnB;AAAA,wBAIMiF,IAAcjF,EAAMkF,iBAANlF,GAA2B/I,GAA3B+I,CAA+BrH,EAA/BqH,CAJpB;AAAA,wBAMM7D,IAAMhF,IANZ;AA0BA,2BAnBAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAI6D,KAAJ7D,GAAY;AACVa,0BAAIrE,GAAQqH,EAAM3D,UAAN2D,EAARrH,CADM;AAEVwM,gCAAUxM,GAAQqH,EAAMoF,gBAANpF,EAARrH,CAFA;AAGV0H,8BAAQL,EAAMqF,SAANrF,EAHE;AAIVsF,iCAAWtF,EAAMuF,YAANvF,GAAqBsD,MAArBtD,GAA8BuD,WAA9BvD,EAJD;AAKV6E,4CAAsBA,EAAqB5N,GAArB4N,CAAyB;AAAAW,+BAAwB;AACrEC,wCAAc9M,GAAQ6M,EAAoBE,oBAApBF,EAAR7M,CADuD;AAErEsM,sCAAaO,EAAoBN,iBAApBM,GAAyCvO,GAAzCuO,CAA6C7M,EAA7C6M;AAFwD,yBAAxBA;AAEa7M,uBAFtCkM,CALZ;AASVE,kCAAYA,EAAW9N,GAAX8N,CAAe;AAAAY,+BAAc;AACvC3C,mCAASrK,GAAQgN,EAAU1C,eAAV0C,EAARhN,CAD8B;AAEvCiN,8CAAoBjN,GAAQgN,EAAUE,0BAAVF,EAARhN,CAFmB;AAGvCmN,sDAA6BH,EAAUI,iCAAVJ,GAA+C1O,GAA/C0O,CAAmDhN,EAAnDgN,CAHU;AAIvCK,oDAA2BL,EAAUM,+BAAVN,GAA6C1O,GAA7C0O,CAAiDhN,EAAjDgN;AAJY,yBAAdA;AAImDhN,uBAJlEoM,CATF;AAeVE,kCAAYA;AAfF,qBADZ9I,EAmBOA,CAAP;AAhDA;;AAAA,sBAAIV,CAAJ,EACIQ,CADJ;AAFApM;;AAHgD;AAAA,wBAO5CA,EAAGmQ,KAAHnQ,CAASmN,EAPmC,UAQ9CvB,IAAM,IAAI0K,CAAJ,EARwC,EAS1CrJ,KAT0C,CAFzBxE,OAAO/I,IAAP+I,CAWDzI,EAAGmQ,KAAHnQ,CAASmN,EAXR1E,EAAiB,KAAjBA,CAEyB,GAFRb,gBAa1BL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUqK,YAA3BhP,EAAyCqE,CAAzCrE,CAb0B,EAaeqE,IAbf,CAaeA;AAArDQ;AAAAA,qBAbsC,CAEQ;AAFhC,4BAcLpM,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,IAASwQ,CAClB5E,IAAM,IAAI4K,CAAJ,EADYhG,EAEdiG,SAFcjG,CAEJG,OAAO3Q,EAAGmQ,KAAHnQ,CAASwQ,MAAhBG,CAFIH,GAEYA,gBAElBjJ,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUwK,gBAA3BnP,EAA6CqE,CAA7CrE,CAFkBiJ,EAE2B5E,IAF3B4E,CAE2B5E;AAAzDQ;AAAAA,qBAF8BoE,CAFrBxQ,KAMT4L,IAAM,IAAI4I,CAAJ,EAAN5I,EAEI5L,EAAGmQ,KAAHnQ,IAAYA,EAAGmQ,KAAHnQ,CAAS0U,QAArB1U,IACF4L,EAAI+I,WAAJ/I,CAAgB5L,EAAGmQ,KAAHnQ,CAAS0U,QAAzB9I,CAHFA,EAG2B8I,gBAGfnN,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU4I,cAA3BvN,EAA2CqE,CAA3CrE,CAHemN,EAG4B9I,IAH5B8I,CAG4B9I;AAAvDQ;AAAAA,qBAH2BsI,CATlB1U,CAdK;AA0BdoM;AAAAA,mBAxB8C;;AAwB9CA;AAAAA,iBAxB8C;AAAlD,eAA8C,CAA9C;AAAA;AAAA;AM4C+DiK,aAAR5V,CAAqBT,CAArBS,EAAyBA,CAAzBA,CAAjD;;AACF,eAAK2C,GAAiBpD,CAAjBoD,CAAL;AACE,mBAAO3C,EAAKkW,kBAALlW,GAA0BA,EAAKkW,kBAALlW,CAAwBT,CAAxBS,EAA4BA,CAA5BA,CAA1BA,GAAsDA,UL9C1BT,CK8C0BS,EL9CtBA,CK8CsBA,EL9CtBA;AAAAA,mCAAO,EAAPA;;AAAO;AAClD,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADsD,uCAG3CrJ,CAH2C,EAG3CA,IAH2C,CAG3CA;AAAAA;AAwBX,wBAAM4W,IAAcxK,EAAI2I,QAAJ3I,EAApB;AAAA,wBAEME,IAAMhF,IAFZ;AAWA,2BARAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAIsK,WAAJtK,GAAkB;AAChBa,0BAAIrE,GAAQ8N,EAAYpK,UAAZoK,EAAR9N,CADY;AAEhBwM,gCAAUxM,GAAQ8N,EAAYrB,gBAAZqB,EAAR9N,CAFM;AAGhB0H,8BAAQoG,EAAYpB,SAAZoB,EAHQ;AAIhBnB,iCAAWmB,EAAYlB,YAAZkB,GAA2BnD,MAA3BmD,GAAoClD,WAApCkD;AAJK,qBADlBtK,EAQOA,CAAP;AAjCA;;AAAA,sBAAIV,CAAJ,EACIQ,CADJ;AAFApM;;AAHsD;AAAA,wBAOlDA,EAAGmQ,KAAHnQ,CAASmN,EAPyC,UAQpDvB,IAAM,IAAIiL,CAAJ,EAR8C,EAShD5J,KATgD,CAF/BxE,OAAO/I,IAAP+I,CAWDzI,EAAGmQ,KAAHnQ,CAASmN,EAXR1E,EAAiB,KAAjBA,CAE+B,GAFdb,gBAa1BL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU4K,kBAA3BvP,EAA+CqE,CAA/CrE,CAb0B,EAaqBqE,IAbrB,CAaqBA;AAA3DQ;AAAAA,qBAbsC,CAEc;AAFtC,4BAcLpM,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,IAASwQ,CAClB5E,IAAM,IAAImL,CAAJ,EADYvG,EAEdiG,SAFcjG,CAEJG,OAAO3Q,EAAGmQ,KAAHnQ,CAASwQ,MAAhBG,CAFIH,GAEYA,gBAElBjJ,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU8K,sBAA3BzP,EAAmDqE,CAAnDrE,CAFkBiJ,EAEiC5E,IAFjC4E,CAEiC5E;AAA/DQ;AAAAA,qBAF8BoE,CAFrBxQ,KAMT4L,IAAM,IAAIqL,CAAJ,EAANrL,EAEI5L,EAAGmQ,KAAHnQ,IAAYA,EAAGmQ,KAAHnQ,CAAS0U,QAArB1U,IACF4L,EAAI+I,WAAJ/I,CAAgB5L,EAAGmQ,KAAHnQ,CAAS0U,QAAzB9I,CAHFA,EAG2B8I,gBAGfnN,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUgL,oBAA3B3P,EAAiDqE,CAAjDrE,CAHemN,EAGkC9I,IAHlC8I,CAGkC9I;AAA7DQ;AAAAA,qBAH2BsI,CATlB1U,CAdK;AA0BdoM;AAAAA,mBAxBoD;;AAwBpDA;AAAAA,iBAxBoD;AAAxD,eAAoD,CAApD;AAAA;AAAA;AK8C2EuK,aAARlW,CAA2BT,CAA3BS,EAA+BA,CAA/BA,CAA7D;;AACF,eAAKuC,GAAehD,CAAfgD,CAAL;AACE,mBAAOvC,EAAK0W,gBAAL1W,GAAwBA,EAAK0W,gBAAL1W,CAAsBT,CAAtBS,EAA0BA,CAA1BA,CAAxBA,GAAkDA,UHhDxBT,CGgDwBS,EHhDpBA,CGgDoBA,EHhDpBA;AAAAA,mCAAO,EAAPA;;AAAO;AAAA,uCACrCT,CADqC,EACrCA,IADqC,CACrCA;AAAXA;AAEA,sBAAM4L,IAAM,IAAI0K,CAAJ,EAAZ;AAHoD,yBAIpD1K,EAAIqB,KAAJrB,CANuBnD,OAAO/I,IAAP+I,CAMHzI,EAAGmQ,KAAHnQ,CAASmN,EANN1E,EAAiB,KAAjBA,CAMvBmD,GANwChE,gBAQtBL,GAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUqK,YAA3BhP,EAAyCqE,CAAzCrE,CARsB,EAQmBqE,IARnB,CAQmBA,UAArDQ,CAAqDR,EAArDQ;AAEN,wBAAM+D,IAAQ/D,EAAI2I,QAAJ3I,EAAd;AAAA,wBAEM4I,IAAuB7E,EAAM8E,2BAAN9E,EAF7B;AAAA,wBAGM+E,IAAa/E,EAAMgF,iBAANhF,EAHnB;AAAA,wBAIMiF,IAAajF,EAAMkF,iBAANlF,EAJnB;AAAA,wBAMM7D,IAAMhF,IANZ;AA0BA,2BAnBAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAI6D,KAAJ7D,GAAY;AACVa,0BAAIrE,GAAQqH,EAAM3D,UAAN2D,EAARrH,CADM;AAEVwM,gCAAUxM,GAAQqH,EAAMoF,gBAANpF,EAARrH,CAFA;AAGV0H,8BAAQL,EAAMqF,SAANrF,EAHE;AAIVsF,iCAAWtF,EAAMuF,YAANvF,EAJD;AAKV6E,4CAAsBA,EAAqB5N,GAArB4N,CAAyB;AAAAW,+BAAwB;AACrEC,wCAAc9M,GAAQ6M,EAAoBE,oBAApBF,EAAR7M,CADuD;AAErEsM,sCAAYO,EAAoBN,iBAApBM;AAFyD,yBAAxBA;AAEbN,uBAFZL,CALZ;AASVE,kCAAYA,EAAW9N,GAAX8N,CAAe;AAAAY,+BAAc;AACvC3C,mCAASrK,GAAQgN,EAAU1C,eAAV0C,EAARhN,CAD8B;AAEvCiN,8CAAoBjN,GAAQgN,EAAUE,0BAAVF,EAARhN,CAFmB;AAGvCmN,sDAA4BH,EAAUI,iCAAVJ,EAHW;AAIvCK,oDAA0BL,EAAUM,+BAAVN;AAJa,yBAAdA;AAIWM,uBAJ1BlB,CATF;AAeVE,kCAAYA;AAfF,qBADZ9I,EAmBOA,CAAP;AAAOA,mBApCiC,CAEY;AAkC7CA,iBAlCyC;AAAlD,eAAkD,CAAlD;AAAA;AAAA;AGgDuE6K,aAAR1W,CAAyBT,CAAzBS,EAA6BA,CAA7BA,CAAzD;;AACF,eAAKwC,GAAmBjD,CAAnBiD,CAAL;AACE,mBAAOxC,EAAK2W,oBAAL3W,GAA4BA,EAAK2W,oBAAL3W,CAA0BT,CAA1BS,EAA8BA,CAA9BA,CAA5BA,GAA0DA,UFnD5BT,CEmD4BS,EFnDxBA,CEmDwBA,EFnDxBA;AAAAA,mCAAO,EAAPA;;AAAO;AAAA,uCACzCT,CADyC,EACzCA,IADyC,CACzCA;AAAXA;AAEA,sBAAM4L,IAAM,IAAI4K,CAAJ,EAAZ;AAHwD,yBAIxD5K,EAAI6K,SAAJ7K,CAAc+E,OAAO3Q,EAAGmQ,KAAHnQ,CAASwQ,MAAhBG,CAAd/E,GAA8B4E,gBAEZjJ,GAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUwK,gBAA3BnP,EAA6CqE,CAA7CrE,CAFYiJ,EAEiC5E,IAFjC4E,CAEiC5E,UAAzDQ,CAAyDR,EAAzDQ;AAEN,wBAAM+D,IAAQ/D,EAAI2I,QAAJ3I,EAAd;AAAA,wBAEM4I,IAAuB7E,EAAM8E,2BAAN9E,EAF7B;AAAA,wBAGM+E,IAAa/E,EAAMgF,iBAANhF,EAHnB;AAAA,wBAIMiF,IAAajF,EAAMkF,iBAANlF,EAJnB;AAAA,wBAMM7D,IAAMhF,IANZ;AA0BA,2BAnBAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAI6D,KAAJ7D,GAAY;AACVa,0BAAIrE,GAAQqH,EAAM3D,UAAN2D,EAARrH,CADM;AAEVwM,gCAAUxM,GAAQqH,EAAMoF,gBAANpF,EAARrH,CAFA;AAGV0H,8BAAQL,EAAMqF,SAANrF,EAHE;AAIVsF,iCAAWtF,EAAMuF,YAANvF,EAJD;AAKV6E,4CAAsBA,EAAqB5N,GAArB4N,CAAyB;AAAAW,+BAAwB;AACrEC,wCAAc9M,GAAQ6M,EAAoBE,oBAApBF,EAAR7M,CADuD;AAErEsM,sCAAYO,EAAoBN,iBAApBM;AAFyD,yBAAxBA;AAEbN,uBAFZL,CALZ;AASVE,kCAAYA,EAAW9N,GAAX8N,CAAe;AAAAY,+BAAc;AACvC3C,mCAASrK,GAAQgN,EAAU1C,eAAV0C,EAARhN,CAD8B;AAEvCiN,8CAAoBjN,GAAQgN,EAAUE,0BAAVF,EAARhN,CAFmB;AAGvCmN,sDAA4BH,EAAUI,iCAAVJ,EAHW;AAIvCK,oDAA0BL,EAAUM,+BAAVN;AAJa,yBAAdA;AAIWM,uBAJ1BlB,CATF;AAeVE,kCAAYA;AAfF,qBADZ9I,EAmBOA,CAAP;AAAOA,mBA9BuBkE,CAJ0B;AAkCjDlE,iBAlC6C;AAAtD,eAAsD,CAAtD;AAAA;AAAA;AEmD+E8K,aAAR3W,CAA6BT,CAA7BS,EAAiCA,CAAjCA,CAAjE;;AACF,eAAK4C,GAAgBrD,CAAhBqD,CAAL;AACE,mBAAO5C,EAAK4W,iBAAL5W,GAAyBA,EAAK4W,iBAAL5W,CAAuBT,CAAvBS,EAA2BA,CAA3BA,CAAzBA,GAAoDA,UDpDzBT,CCoDyBS,EDpDrBA,CCoDqBA,EDpDrBA;AAAAA,mCAAO,EAAPA;;AAAO;AACjD,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AADqD,uCAG1CrJ,CAH0C,EAG1CA,IAH0C,CAG1CA;AAAXA;AAEA,sBAAI4L,IAAM,IAAI0L,CAAJ,EAAV;AALqD,yBAMrD1L,EAAIqB,KAAJrB,CARuBnD,OAAO/I,IAAP+I,CAQHzI,EAAGuX,UAAHvX,CAAcmN,EARX1E,EAAiB,KAAjBA,CAQvBmD,GARwChE,gBAUxBL,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAUsL,iBAA3BjQ,EAA8CqE,CAA9CrE,CAVwB,EAUsBqE,IAVtB,CAUsBA,UAA1DQ,CAA0DR,EAA1DQ;AAEJ,wBAAMmL,IAAanL,EAAIqL,aAAJrL,EAAnB;AAAA,wBAEME,IAAMhF,IAFZ;AASA,2BANAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EACAA,EAAIiL,UAAJjL,GAAiB;AACfa,0BAAIrE,GAAQyO,EAAW/K,UAAX+K,EAARzO,CADW;AAEf4O,sCAAiBH,EAAWI,qBAAXJ,GAAoCnQ,GAApCmQ,CAAwCzO,EAAxCyO;AAFF,qBADjBjL,EAMOA,CAAP;AAAOA,mBArBiC,CAEa;AAmB9CA,iBAnB8C;AAAvD,eAAmD,CAAnD;AAAA;AAAA;ACoDyE+K,aAAR5W,CAA0BT,CAA1BS,EAA8BA,CAA9BA,CAA3D;;AACF,eAAKyC,GAAOlD,CAAPkD,CAAL;AACE,mBAAOzC,EAAKmX,QAALnX,GAAgBA,EAAKmX,QAALnX,CAAcT,CAAdS,EAAkBA,CAAlBA,CAAhBA,GAAkCA,UEzDhBT,CFyDgBS,EEzDZA,CFyDYA,EEzDZA;AAAAA,mCAAO,EAAPA;;AAAO;AACxC,oBAAM8G,IAAQ9G,EAAK8G,KAAL9G,IAAc4I,EAA5B;AAD4C,uCAGjCrJ,CAHiC,EAGjCA,IAHiC,CAGjCA;AAAXA;AAEA,sBAAM4L,IAAM,IAAIiM,CAAJ,EAAZ;AAL4C,yCAO1BtQ,EAAM9G,EAAK0I,IAAX5B,EAAiB2E,EAAU4L,IAA3BvQ,EAAiCqE,CAAjCrE,CAP0B,EAOOqE,IAPP,CAOOA,UAA7CQ,CAA6CR,EAA7CQ;AAEN,wBAAIE,IAAMhF,IAAV;AAGA,2BAFAgF,EAAIhM,GAAJgM,GAAUtM,EAAGM,GAAbgM,EAEOA,CAAP;AAAOA,mBAZqC;AAYrCA,iBAZqC;AAA9C,eAA0C,CAA1C;AAAA;AAAA;AFyDuDsL,aAARnX,CAAiBT,CAAjBS,EAAqBA,CAArBA,CAAzC;;AACF;AACE,mBAAOT,CAAP;AA5BJ;AA4BWA,OAhCNmJ,CADsC;AAiChCnJ,KAjCyB;AAAA,QAiCzBA,IAhCCS,EAAK0I,IADmB;;AACnBA,sDAAevC,KAAS7B,GAAT6B,CAAa,gBAAbA,CAAfuC,EAA4B1E,IAA5B0E,CAA4B0I,CAA5B1I;AADF,GAAqB,CAArB;AAAA;AAAA;AAAA,CZ1BQb;;AY0BR,SG5BDyM,EH4BC,CG5BQL,CH4BR,EG5BQA;AACvB,oBADuBA,CACvB,KADuBA,IAAW,IAClC,GAAOhQ,GAAK,CACVtC,EADU,EAEV;AAEE,WADApC,EAAGmQ,KAAHnQ,CAAS0U,QAAT1U,GAAoB0U,CAApB1U,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCJAsR,EDIAtR,CCJW2I,CDIX3I,ECJW2I;AACzB,SAAOjE,GAAK,CACV5C,EADU,EAEV;AAEE,WADA9B,EAAGkR,OAAHlR,CAAW2I,IAAX3I,GAAkBiK,EAAWtB,CAAXsB,CAAlBjK,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,ICSV+X,eAAsBC,CAAtBD,EAA2BE,CAA3BF,EAA8BG,CAA9BH,EAA8BG;AAAAA;AAClC;AACE,6BAAOvH,OAAOqH,CAAPrH,CAAP;AACA,KAFF,CAEE,OAAOnM,CAAP,EAAOA;AACP,gBAAUR,KAAV,CAAUA,2BAA+BkU,EAAMvY,IAANuY,CAAW,GAAXA,CAAzC;AAAoD;AAJtC,GAAkBA,CAAlB;AAAA;AAAA;AAAA,CDTFlY;AAAAA,ICiBVmY,eAAwBC,CAAxBD,EAAwBC;AAAAA,yBAAMA,CAANA;AAAMA,CDjBpBpY;AAAAA,IC6CVqY,eAAyBC,CAAzBD,EAAoCE,CAApCF,EAA8CH,CAA9CG,EAA8CH;AAAAA;AAAAA,2BAC5BI,EAAUE,MAAVF,CAAiBjO,MAAjBiO,CAAiBjO,UAAcqH,CAAdrH,EAAmBvF,CAAnBuF,EAAmBvF;AAAAA;AAAAA,+BAC5C4M,CAD4C5M,EAC5C4M,IAD4C5M,CAC5C4M;AADkD,iBAC9DA,uBACoB+G,GAAc3T,EAAEvD,KAAhBkX,EAAuBF,CAAvBE,EAAuBF,UAAcL,CAAdK,EAAcL,CAAOpT,EAAE4T,IAATR,CAAdK,CAAvBE,CADpB/G,EACkEgH,IADlEhH,CACkEgH;AAClE,mBADAhH,EAAI5M,EAAE4T,IAANhH,IAAMgH,CAANhH,EACOA,CAAP;AAAOA,WAFPA,CAD8D;AAGvDA,SAHiD5M;AAApC,OAAoCA,CAApC;AAAA;AAAA;AAAA,OAInB8C,QAAQ7G,OAAR6G,CAAgB,EAAhBA,CAJmB0Q,CAD4BJ,EAK/BzT,IAL+ByT,CAK/B,UAJbS,CAIa,EAJbA;AAKN,UAAMC,IAAUN,EAAUnL,EAAVmL,IAAgBO,GAAcN,CAAdM,EAAwBP,EAAUnL,EAAlC0L,CAAhC;AAN4D,aAOrDD,oBAAgBA,EAAQD,CAARC,CAAhBA,IAAmCD,CAPkB;AAOlBA,KAPQT;AAA/B,GAA+BA,CAA/B;AAAA;AAAA;AAAA,CD7CLlY;AAAAA,ICuDV8Y,KAAkB;AACtBC,QAAMhB,EADgB;AAEtBiB,OAAKjB,EAFiB;AAGtBkB,SAAOlB,EAHe;AAItBmB,QAAMnB,EAJgB;AAKtBoB,UAAQpB,EALc;AAMtBqB,SAAOrB,EANe;AAOtBsB,UAAQtB,EAPc;AAQtBuB,SAAOvB,EARe;AAStBwB,UAAQxB,EATc;AAUtByB,SAAOzB,EAVe;AAWtB0B,WAAS1B,EAXa;AAYtB2B,UAAQ3B,EAZc;AAatB4B,WAAS5B,EAba;AActB6B,UAAQ7B,EAdc;AAetB8B,SAAO9B,EAfe;AAgBtB+B,UAAQ/B,EAhBc;AAiBtBgC,UAAQhC,EAjBc;AAkBtBiC,UAAQjC,EAlBc;AAmBtBkC,UAAQ9B,EAnBc;AAoBtB+B,SAAO/B,EApBe;AAqBtBgC,UAAQhC,EArBc;AAsBtBiC,aAAWjC,EAtBW;AAuBtBkC,QAAMlC,EAvBgB;AAwBtBmC,WAASnC,EAxBa;AAyBtBoC;AAAAA,2BA7D6B,IA6D7BA;AA7D6B,GAoCP;AA0BtBC,sBA5D4BC,CA4D5BD,EA5DsCjC,CA4DtCiC,EA5DgDtC,CA4DhDsC,EA5DgDtC;AAAAA,2BAChDuC,IAAiBhC,GAAcgC,CAAdhC,EAAwBF,CAAxBE,EAAkCP,CAAlCO,CAAjBgC,GAA4D,IADZvC;AACY,GAiCtC;AA2BtBwC,uBA1D6B5V,CA0D7B4V,EA1D6B5V;AAAAA;AAAAA,6BAAO;AAAC4J,iBAAS5J,EAAE4J,OAAZ;AAAqBZ,cAAMhJ,EAAEgJ;AAA7B,OAAPhJ;AAAoCgJ,KAApChJ,CAAoCgJ;AAAAA;AAAAA;AAAAA,GA+B3C;AA4BtBrO,mBAzDyBkb,CAyDzBlb,EAzDgC8Y,CAyDhC9Y,EAzD0CyY,CAyD1CzY,EAzD0CyY;AAAAA;AAAAA,6BACpCtQ,QAAQ7B,GAAR6B,CACJ+S,EAAMvT,GAANuT,CACE,UAAC7V,CAAD,EAACA;AAAAA,mBACK8C,OADL9C,CACK8C,UAAewE,CAAfxE,EAAewE;AAAAA;AAAAA,mCACPqM,GAAc3T,CAAd2T,EAAiBF,CAAjBE,EAAiBF,UAAcL,CAAdK,EAAcL,CAAOpT,EAAEgJ,IAAToK,CAAdK,CAAjBE,CADOrM,EACiC0B,IADjC1B,CACjBA,CADiBA;AACjBA,WADiBA,CACjBA;AAAAA;AAAAA;AAAAA,SAFHtH;AAEGsH,OAHNuO,CADI/S,CADoCsQ;AAKlC9L,KALkC8L,CAKlC9L;AAAAA;AAAAA;AAAAA,GAwBc;AA6BtBwO,wBAhD8BC,CAgD9BD,EAhD0CrC,CAgD1CqC,EAhDoD1C,CAgDpD0C,EAhDoD1C;AAAAA;AAAAA,6BAC9C2C,EAAWxQ,MAAXwQ,CAAWxQ,UAAcqH,CAAdrH,EAAmBvF,CAAnBuF,EAAmBvF;AAAAA;AAAAA,iCACtB4M,CADsB5M,EACtB4M,IADsB5M,CACtB4M;AAD4B,mBACxCA,uBAEQ+G,GAAc3T,EAAEhB,GAAhB2U,EAAqBF,CAArBE,EAAqBF,UAAcL,CAAdK,EAAcL,CAAOpT,EAAEhB,GAAToU,CAAdK,CAArBE,CAFR/G,EAEoD5N,IAFpD4N,CAEoD5N;AAAAA,qCAC1C2U,GAAc3T,EAAEvD,KAAhBkX,EAAuBF,CAAvBE,EAAuBF,UAAcL,CAAdK,EAAcL,CAAOpT,EAAEhB,GAAToU,CAAdK,CAAvBE,CAD0C3U,EACIA,IADJA,CACIA;AACxD,uBAHA4N,UAGOA,CAAP;AAAOA,eAF6C5N;AAE7C4N,aAJPA,CADwC;AAKjCA,WAL2B5M;AAA9B,SAA8BA,CAA9B;AAAA;AAAA;AAAA,SAMH8C,QAAQ7G,OAAR6G,CAAgB,EAAhBA,CANGiT,CAD8C3C;AAOjC,KAPiCA,CAOjC;AAAA;AAAA;AAAA,GAYG;AA8BtB4C,SAAOzC,EA9Be;AA+BtB0C,YAAU1C,EA/BY;AAgCtB2C,UAAQ3C;AAhCc,CDvDRrY;AAAAA,IC0FV6Y,KAAgB,UAACN,CAAD,EAAW0C,CAAX,EAAWA;AAC/B,MAAMC,IAAQrc,OAAOC,IAAPD,CAAY0Z,CAAZ1Z,EAAsB2L,IAAtB3L,CAA2B,UAAC+Z,CAAD,EAACA;AACxC,WAAI,WAAWuC,IAAX,CAAgBvC,CAAhB,IACU,IAAIwC,MAAJ,CAAWxC,EAAQyC,SAARzC,CAAkB,CAAlBA,EAAqBA,EAAQrZ,MAARqZ,GAAiB,CAAtCA,CAAX,EACDuC,IADC,CACIF,CADJ,CADV,GAIGrC,MAAYqC,CAJnB;AAImBA,GALPpc,CAAd;AAOA,SAAOoc,KAAUC,CAAVD,IAAmB1C,EAAS2C,CAAT3C,CAA1B;AAAmC2C,CDlGrBlb;AAAAA,ICqGVyY,eAAuB6C,CAAvB7C,EAA2CF,CAA3CE,EAAqDP,CAArDO,EAAqDP;AAAAA;AACzD,QAAIU,IAAUC,GAAcN,CAAdM,EAAwByC,EAAmBxN,IAA3C+K,CAAd;AACA,SAAKD,CAAL,EACE,UAAU5U,KAAV,CAAUA,8BACoBsX,EAAmBxN,IADvC9J,GACuC8J,GADvC9J,GAC+CkU,EAAMvY,IAANuY,CAAW,GAAXA,CADzD;AAHiE,2BAMtDU,EAAQ0C,EAAmB/Z,KAA3BqX,EAAkCL,CAAlCK,EAA4CV,CAA5CU,CANsD;AAAlD,GAAwCV,CAAxC;AAAA;AAAA;AAAA,CDrGHlY;AAAAA,IC8GHub,eACXD,CADWC,EAEXC,CAFWD,EAGXrD,CAHWqD,EAGXrD;AAAAA,aADAsD,CACAtD,KADAsD,IAAiB,EACjBtD,GADiB,WACjBA,CADiB,KACjBA,IAAQ,EADS,CACjBA;AAEA,MAAIK,UAAeO,EAAfP,EAAmCiD,CAAnCjD,CAAJ;AADG,yBAEUE,GAAc6C,CAAd7C,EAAkCF,CAAlCE,EAA4CP,CAA5CO,CAFV;AAEsDP,CDpH3ClY;AAAAA,ICuHHyb,eAAwBnU,CAAxBmU,EAAkCD,CAAlCC,EAAkCD;AAAAA,uBAAiB,EAAjBA;;AAAiB;AAAA;AAAA,QAC1DjD,UAAeO,EAAfP,EAAmCiD,CAAnCjD,CAD0D;AAAA,QACvBiD,IAEnClU,EAAS2I,WAAT3I,IAAS2I,uBACEsL,GAAOjU,EAAS2I,WAAhBsL,EAA6BhD,CAA7BgD,CADFtL,CAAT3I,IAEOA,EAASiG,iBAATjG,IAASiG,uBAGF3F,QAAQ7B,GAAR6B,CACZN,EAASiG,iBAATjG,CAA2B+F,MAA3B/F,CAAkCF,GAAlCE,CAAkCF,UAAgC5C,CAAhC4C,EAAgC5C;AAAAA;AAAAA,gBAKlDA,EAAE2J,UALgD3J;AAAAA,YAKhD2J,IADI3J,EAAEyJ,gBAJ0CzJ;AAAAA,YAI1CyJ,IADLzJ,EAAE+H,aAH6C/H;AAAAA,YAG7C+H,IADX/H,EAAEsJ,IAFsDtJ;AAEtDsJ,+BAIIyN,GAAO/W,EAAE6J,OAATkN,EAAkBhD,CAAlBgD,CAJJzN,EAIsByK,IAJtBzK,CAIsByK;AALhC,iBAAO;AACLzK,mBADK;AAELvB,4BAFK;AAGL0B,+BAHK;AAILE,yBAJK;AAKLuN;AALK,WAAP;AAKEA,SAJQ5N;AAFZ,OAAkEtJ,CAAlE;AAAA;AAAA;AAAA,MADYoD,CAHE2F,EAId9I,IAJc8I,CAId;AAAA,mBAFCjG,EAASiG,iBAEV,EAFUA;AACZF;AADYE,OAEV;AADFF,KAHgBE,CAATjG,IAeAA,EAAS4F,WAAT5F,IAAS4F,OACX5F,EAAS4F,WADP5F,IAEAA,EAAS+F,MAAT/F,IAAS+F,uBACLzF,QAAQ7B,GAAR6B,CACXN,EAAS+F,MAAT/F,CAAgBF,GAAhBE,CAAgBF,UAAgC5C,CAAhC4C,EAAgC5C;AAAAA;AAAAA,gBAQhCA,EAAE2J,UAR8B3J;AAAAA,YAQ9B2J,IADI3J,EAAEyJ,gBAPwBzJ;AAAAA,YAOxByJ,IADLzJ,EAAE+H,aAN2B/H;AAAAA,YAM3B+H,IADX/H,EAAEsJ,IALoCtJ;AAAAA,YAKpCsJ,IADQtJ,EAAE+O,cAJ0B/O;AAAAA,YAI1B+O,IADL/O,EAAE6O,WAH6B7O;AAAAA,YAG7B6O,IADN7O,EAAE2O,OAFiC3O;AAEjC2O,+BAOCoI,GAAO/W,EAAE6J,OAATkN,EAAkBhD,CAAlBgD,CAPDpI,EAOmBoF,IAPnBpF,CAOmBoF;AARhC,iBAAO;AACLpF,sBADK;AAELE,0BAFK;AAGLE,6BAHK;AAILzF,mBAJK;AAKLvB,4BALK;AAML0B,+BANK;AAOLE,yBAPK;AAQLuN;AARK,WAAP;AAQEA,SAPWvI;AAFf,OAAgD3O,CAAhD;AAAA;AAAA;AAAA,MADWoD,CADKyF,CAAT/F,IAeAA,EAAS4J,OAAT5J,IAAS4J,OACX5J,EAAS4J,OADP5J,IAEAA,EAAS6I,KAAT7I,IAAS6I,OACX7I,EAAS6I,KADP7I,IAEAA,EAASsP,WAATtP,IAASsP,OACXtP,EAASsP,WADPtP,IAEAA,EAASmN,WAATnN,IAzKXoE,QAAQD,KAARC,CACE,2bASGkJ,OATH,CASW,QATX,EASqB,IATrB,EAUGC,IAVH,EADFnJ,EAYE,yCAZFA,GAyKiCiQ,KAzKjCjQ,EA2KSpE,EAASmN,WAFPnN,IAGAA,EAASiF,aAATjF,IAASiF,OACXjF,EAASiF,aADPjF,IAEAA,EAASiQ,UAATjQ,IAASiQ,OACXjQ,EAASiQ,UADPjQ,IACOiQ,MAjD4C;AAiD5CA;AAAAA,qBAGX,IAHWA;AAGX,KAHWA,IAGX1F,YAHW0F;AAjDO,GAAqC,CAArC;AAAA;AAAA;AAAA,CDvHXvX;;ACuHW,SClHX4b,EDkHW,CClHOnb,CDkHP,EClHOA;AAChC,mBAAaT,CAAb,EAAaA;AAAAA;AACX,aAAK0C,GAAc1C,CAAd0C,IACD1C,EAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAW+J,gBAAiBhK,EAAGC,CAAHD,CAAjBgK,CAAX/J,GAA+BA,0BAXdS,CAWcT,EAXdS;AAAAA;AACvB,cAAIT,CAAJ;AAD6B,iCAElB0E,GAAKzF,GAALyF,EAAoB,CAACqQ,IAAD,CAApBrQ,CAFkB,EAEGqQ,IAFH,CAEGA;AAFH,mBAE7B/U,uBACWyG,GAAKzG,CAALyG,EAAShG,CAATgG,CADXzG,EACoBS,IADpBT,CACoBS;AAHS,qBAG7BT,uBACWyb,GAAezb,CAAfyb,CADXzb,EAC0BA,IAD1BA,CAC0BA;AAC1B,wBADAA,KACA,EAAUmN,EAAV;AAAUA,eAFVnN,CAH6B;AAKnBmN,aAHVnN,CAF6B;AAKnBmN,WALmB;AAKnBA,SALa1M,CAKb0M;AAAAA;AAAAA;AAQoB0O,OAFO7b,CAEES,CAFFT,GAEES,IAFFT,CAEES;AAErC,eAFAT,EAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAW+J,CAAX/J,EAEOD,EAAGC,CAAHD,CAAP;AAAUC,OAJyBA,CAD9B0C,GAKK1C,gBALqBD,EAAGC,CAAHD,CAKrBC,CALV;AADF,KAAaA,CAAb;AAAA;AAAA;AAAA;ACPoB8b;;AAAAA,mBAAe9b,CAAf8b,EAAe9b;AAAAA;AAAAA;AAAAA,UAC/B0C,GAAc1C,CAAd0C,KAAqBD,GAASzC,CAATyC,CADUzC,EACDA;AAAAA;AADK,iBAQrCU,EAAUqb,GAASpS,CAAToS,CAAVrb,EAA6B,6CAA7BA,GAA6BkH,gBACFhB,KACxBN,KADwBM,CAClB,KADkBA,EAExBnC,IAFwBmC,CAEnB;AAAA/G,mBACJhB,OAAOmd,OAAPnd,CAAegB,CAAfhB,EAAkBwL,MAAlBxL,CACE,UAAC8K,CAAD,EAACA,CAAD,EAACA;AAAAA,qBAA0BA,EAAQiL,OAARjL,CAAQiL,IAARjL,EAAQiL,IAARjL,CAA1BA;AAAkCiL,aADrC/V,EAEE8K,CAFF9K,CADIgB;AAGF8J,WALqB/C,CADE,EAMvB+C,IANuB,CAMvBA;AALN3J,cAAGqB,OAAHrB,CAAW2J,OAAX3J,GAAW2J,CAAX3J;AAAW2J,WADkB,CARQ;AAS1BA,SARqB3J;AAAAA,YAC5B2J,IAAU5E,GAAI/E,CAAJ+E,EAAQ,YAARA,CADkB/E;;AAEhCU,UACEub,GAAKtS,CAALsS,KAAiBF,GAASpS,CAAToS,CADnBrb,EAEE,6CAFFA;;AAHqC;AAOrC,cAAIub,GAAKtS,CAALsS,CAAJ,EAAStS,uBAA0BA,EAAQ,EAARA,CAA1BA,EAAkClF,IAAlCkF,CAAkC;AAAxBA;AAAAA,WAAVA;AAAUA,SAPkB;;AAOlBA;AAAAA;AAAAA,KAPc3J;;AAOd2J;AAYrB,aAAO3J,CAAP;AAAOA,KAZc2J,IAYd3J,CAZc2J;AAPvB,GAAqC3J,CAArC;AAAA;AAAA;AAAA,CAAsB8b;AAAAA,IAHhBG,KAAO;AAAAnX,SAAkB,qBAANA,CAAZA;AAAYA,CAGHgX;AAAAA,IAFhBC,KAAW;AAAAjX,SAAkB,mBAANA,CAAZA;AAAYA,CAEPgX;AAAAA,ICSAI,eAAiBlc,CAAjBkc,EAAiBlc;AAAAA;AACrC,QAAI0C,GAAc1C,CAAd0C,KAAqBD,GAASzC,CAATyC,CAAzB,EACE,oBAAsB5D,OAAOmd,OAAPnd,CAAemB,EAAGsB,SAAlBzC,CAAtB,EAAwCyC,YAAxC,EAAwCA,GAAxC,EAAoD;AAAA;AAClDtB,QAAGsB,SAAHtB,CAAGsB,IAAHtB,EAAiBwB,UAAjBxB,GAA8Bmc,QAA9Bnc;AAIJ;AAAA,2BAAOA,CAAP;AAPF,GAAuCA,CAAvC;AAAA;AAAA;AAAA,CDTsB8b;AAAAA,ICJhBG,KAAO;AAAAnX,SAAkB,qBAANA,CAAZA;AAAYA,CDIHgX;;ACFtB,SAASK,EAAT,CAAc/a,CAAd,EAAcA;AAIZ,SAFAV,EAA8B,eAAbU,EAAIK,KAArBf,EAAqBe,qCAAkDL,EAAIG,KAA3Eb,GAEIub,GAAK7a,EAAIK,KAATwa,IAAwB7a,EAAIK,KAAJL,CAAUA,EAAIG,KAAdH,CAAxB6a,GACAA,GAAK7a,EAAIK,KAAJL,CAAUI,UAAfya,IAAmC7a,EAAIK,KAAJL,CAAUI,UAAVJ,CAAqBA,EAAIG,KAAzBH,CAAnC6a,GAA4D1a,KAGhEb,GAAU,CAAVA,EAAU,kBAAVA,EAAqCU,CAArCV,CAJA;AAIqCU;;AAAAA,ICRTG,EDQSH;AAAAA,ICX1Bgb,KAA2B;AAAA9S,SAAM+S,GAA4BC,GAAUC,GAAejT,CAAfiT,CAAVD,CAA5BD,CAAN/S;AAA2DA,CDW5DlI;AAAAA,ICV1Bob,KAA4B;AAAAlT,SAAM+S,GAA4BC,GAAUG,GAAgBnT,CAAhBmT,CAAVH,CAA5BD,CAAN/S;AAA4DA,CDU9DlI;AAAAA,ICLjCsb,KAAsB,UAACnb,CAAD,EAAQsH,CAAR,EAAQA;AAAAA,SAClCJ,OAAO/I,IAAP+I,CAAYlH,EAAMqH,QAANrH,CAAqB,IAANsH,CAAftH,EAAwB,CAAxBA,CAAZkH,EAAwC,KAAxCA,CADkCI;AACM,CDIHzH;AAAAA,ICFjCub,MANwBpb,KAMsBkH,OAAO/I,IAAP+I,CAAY,uBAAZA,EAAqCO,QAArCP,CAA8C,KAA9CA,CANtBlH,EAC5BkH,OAAO/I,IAAP+I,CAAYlH,GAAMqb,MAANrb,CAAasH,EAAbtH,EAAsB,CAAtBA,CAAZkH,EAAsC,KAAtCA,CAKIkU,EAAwG3T,QAAxG2T,CAAiH,KAAjHA,CDEiCvb;AAAAA,ICDjCib,KAA8B;AAAA/S,SAAMqT,KAAyBrT,CAA/BA;AAA+BA,CDC5BlI;AAAAA,ICCjCsH,KAAgB;AAAAC,SAAQ+T,GAAoB/T,CAApB+T,EAA0B,CAA1BA,CAAR/T;AAAkC,CDDjBvH;AAAAA,ICKjCyb,KAAmB;AAAAzb,SAAOqH,OAAO/I,IAAP+I,CAAY1J,KAAKmK,SAALnK,CAAeqC,CAAfrC,CAAZ0J,EAAiC,MAAjCA,CAAPrH;AAAwC,CDL1BA;AAAAA,ICOjCsI,KAAe;AAAAD,SAAUhB,OAAO/I,IAAP+I,CAAYgB,CAAZhB,EAAoB,MAApBA,CAAVgB;AAA8B,CDPZrI;AAAAA,ICUjCkb,KAAY;AAChB,SAAOQ,EAAOhY,CAAPgY,EAAU9T,QAAV8T,CAAmB,KAAnBA,CAAP;AAA0B,CDXW1b;AAAAA,ICcjCmb,KAAiB;AAGrB,SAFAQ,GAAgBzT,CAAhByT,GAEO,CACLrT,GAAaJ,EAAGK,OAAhBD,CADK,EAELJ,EAAGhI,SAAHgI,CAAalC,GAAbkC,CAAiBuT,EAAjBvT,CAFK,GAdW6G,IAiBJ7G,EAAGS,QAjBCoG,EAASuM,GAAoBvM,CAApBuM,EAA2B,EAA3BA,CAcpB,GAILpT,EAAGO,YAJE,EAKLnB,GAAcY,EAAGqB,WAAHrB,CAAeoF,OAA7BhG,CALK,EAMLY,EAAGqB,WAAHrB,CAAe0B,KANV,EAOL1B,EAAGqB,WAAHrB,CAAe4B,WAPV,EAQLxC,GAAcY,EAAGY,KAAjBxB,CARK,EASLY,EAAGoG,WAAHpG,CAAelC,GAAfkC,CAAmBZ,EAAnBY,CATK,CAAP;AAdkB;AAAA6G,CDHmB/O;AAAAA,IC8BjCqb,KAAkB;AAGtB,SAFAO,GAAiB1T,CAAjB0T,GAEO,CAACT,GAAejT,CAAfiT,CAAD,EAAqBU,GAAyB3T,CAAzB2T,CAArB,CAAP;AAAqD3T,CDjChBlI;AAAAA,ICoCjC6b,KAA2B;AAC/B,MAAMC,IAAUC,GAAe7T,CAAf6T,CAAhB;AAEA,SAAO7T,EAAG8T,WAAH9T,CACJlC,GADIkC,CACA;AACH,WAAO;AACL+T,mBAAaH,EAAQnY,GAARmY,CAAY7R,EAAIqD,OAAhBwO,CADR;AAELlS,aAAOK,EAAIL,KAFN;AAGLK,WAAKA,EAAIA;AAHJ,KAAP;AAGWA,GALR/B,EAQJgU,IARIhU,CAQC,UAACiU,CAAD,EAAIC,CAAJ,EAAIA;AACR,WAAID,EAAEF,WAAFE,GAAgBC,EAAEH,WAAlBE,GAAkBF,CAAlBE,GACAA,EAAEF,WAAFE,GAAgBC,EAAEH,WAAlBE,GAAkBF,CAAqB,CAAvCE,GAEAA,EAAEvS,KAAFuS,GAAUC,EAAExS,KAAZuS,GAAYvS,CAAZuS,GACAA,EAAEvS,KAAFuS,GAAUC,EAAExS,KAAZuS,GAAYvS,CAAe,CAA3BuS,GAA2B,KAA/B,CAJA;AAIA,GAbGjU,EAeJlC,GAfIkC,CAeA;AACH,WAAO,CAAC+B,EAAIgS,WAAL,EAAkBhS,EAAIL,KAAtB,GA/CWI,IA+CkCC,EAAIA,GA/CtCD,EAAa3C,OAAO/I,IAAP+I,CAAY2C,CAAZ3C,EAAuB,KAAvBA,CA+CxB,EAAP;AA/CkB;AAAA2C,GA+Bf9B,CAAP;AA/BsB8B,CDRehK;AAAAA,IC2DjC+b,KAAiB;AACrB,MAAMD,IAAU,IAAIO,GAAJ,EAAhB;AAAA,MACIrF,IAAI,CADR;AAAA,MAGMsF,IAAY;AACXR,MAAQnZ,GAARmZ,CAAYvU,CAAZuU,MACHA,EAAQS,GAART,CAAYvU,CAAZuU,EAAkB9E,CAAlB8E,GACA9E,GAFG8E;AAEH9E,GANJ;;AAcA,SAJAsF,EAAUpU,EAAGqB,WAAHrB,CAAeoF,OAAzBgP,GACAA,EAAUpU,EAAGY,KAAbwT,CADAA,EAEApU,EAAGoG,WAAHpG,CAAea,OAAfb,CAAuBoU,CAAvBpU,CAFAoU,EAIOR,CAAP;AAAOA,CD1E8B9b;AAAAA,IC6EjC2b,KAAkB;AACtBa,KAAczT,OAAdyT,CAAsB;AAAAC,WAASC,GAAWxU,CAAXwU,EAAeD,CAAfC,CAATD;AAAwBA,GAA9CD,GACAG,GAAkB5T,OAAlB4T,CAA0B;AAAAF,WACxBC,GAAWxU,EAAGqB,WAAdmT,EAA2BD,CAA3BC,EAAkC,aAAlCA,CADwBD;AACU,GADpCE,CADAH;AAEoC,CDhFCxc;AAAAA,ICoFjC4b,KAAmB;AACvBgB,KAAe7T,OAAf6T,CAAuB;AAAAH,WAASC,GAAWxU,CAAXwU,EAAeD,CAAfC,CAATD;AAAwBA,GAA/CG,GACA1U,EAAG8T,WAAH9T,CAAea,OAAfb,CAAuB,UAAC+B,CAAD,EAAM+G,CAAN,EAAMA;AAC3B6L,OAAiB9T,OAAjB8T,CAAyB;AAAAJ,aACvBC,GAAWzS,CAAXyS,EAAgBD,CAAhBC,EAAuB,aAAvBA,EAAsC1L,CAAtC0L,CADuBD;AACezL,KADxC6L;AACwC7L,GAF1C9I,CADA0U;AAG0C5L,CDxFLhR;AAAAA,IC6FjCiD,KAAW;AAAAS,SAAkB,mBAANA,CAAZA;AAAYA,CD7FU1D;AAAAA,IC8FjC2a,KAAW;AAAAjX,SAAkB,mBAANA,CAAZA;AAAYA,CD9FU1D;AAAAA,IC+FjC8c,KAAW;AAAApZ,SAAW,SAANA,CAAM,IAAqB,mBAANA,CAA1BA;AAA0BA,CD/FJ1D;AAAAA,ICgGjCxB,KAAU;AAAAkF,SAAKoZ,GAASpZ,CAAToZ,KAAepZ,aAAarF,KAAjCqF;AAAiCrF,CDhGV2B;AAAAA,ICkGjCwc,KAAgB,CACpB;AAAClF,QAAM,SAAP;AAAkByF,SAAOpC;AAAzB,CADoB,EAEpB;AAACrD,QAAM,WAAP;AAAoByF,SAAOve;AAA3B,CAFoB,EAGpB;AAAC8Y,QAAM,UAAP;AAAmByF,SAAOpC,EAA1B;AAAoCqC,cAAY;AAAhD,CAHoB,EAIpB;AAAC1F,QAAM,cAAP;AAAuByF,SAAO9Z;AAA9B,CAJoB,EAKpB;AAACqU,QAAM,aAAP;AAAsByF,SAAOD;AAA7B,CALoB,EAMpB;AAACxF,QAAM,OAAP;AAAgByF,SAAOpC;AAAvB,CANoB,EAOpB;AAACrD,QAAM,aAAP;AAAsByF,SAAOve;AAA7B,CAPoB,CDlGiBwB;AAAAA,IC4GjC2c,KAAoB,CACxB;AAACrF,QAAM,SAAP;AAAkByF,SAAOpC;AAAzB,CADwB,EAExB;AAACrD,QAAM,OAAP;AAAgByF,SAAO9Z;AAAvB,CAFwB,EAGxB;AAACqU,QAAM,aAAP;AAAsByF,SAAO9Z;AAA7B,CAHwB,CD5GajD;AAAAA,ICkHjC4c,KAAiB,CAAC;AAACtF,QAAM,aAAP;AAAsByF,SAAOve;AAA7B,CAAD,CDlHgBwB;AAAAA,ICoHjC6c,KAAmB,CACvB;AAACvF,QAAM,SAAP;AAAkByF,SAAOpC;AAAzB,CADuB,EAEvB;AAACrD,QAAM,OAAP;AAAgByF,SAAO9Z;AAAvB,CAFuB,EAGvB;AAACqU,QAAM,KAAP;AAAcyF,SAAOpC;AAArB,CAHuB,CDpHc3a;AAAAA,IC0HjC0c,KAAa,UAACO,CAAD,EAAMR,CAAN,EAAaS,CAAb,EAAmBlM,CAAnB,EAAmBA;AAAAA,MAC7BsG,IAA2BmF,EAA3BnF,IAD6BtG;AAAAA,MACvB+L,IAAqBN,EAArBM,KADuB/L;AAAAA,MAChBgM,IAAcP,EAAdO,UADgBhM;AAGpC,MADiB,QAAbiM,EAAI3F,CAAJ2F,CAAa,IAAsB,QAAdD,CAAR,KAA4BC,EAAI3F,CAAJ2F,IAAYD,CAAxC,GACA,QAAbC,EAAI3F,CAAJ2F,CAAJ,EAAuB,MAAME,GAAkB7F,CAAlB6F,EAAwBD,CAAxBC,EAA8BnM,CAA9BmM,CAAN;AACvB,OAAKJ,EAAME,EAAI3F,CAAJ2F,CAANF,CAAL,EAAuB,MAAMK,GAAkB9F,CAAlB8F,EAAwBF,CAAxBE,EAA8BpM,CAA9BoM,CAAN;AAAoCpM,CD9HtBhR;AAAAA,ICiIjCqd,KAAiB,UAACZ,CAAD,EAAQS,CAAR,EAAclM,CAAd,EAAcA;AACnC,SAAMkM,IACY,QAATlM,CAAS,GAAUkM,UAAQT,CAAlB,GAA+BS,UAAQlM,CAARkM,GAAQlM,GAARkM,GAAiBT,CAD5DS,GAECT,CAFP;AAEOA,CDpI8Bzc;AAAAA,ICuIjCmd,KAAoB,UAACV,CAAD,EAAQS,CAAR,EAAclM,CAAd,EAAcA;AAAAA,aAClCpO,KADkCoO,CAClCpO,mBAAuBya,GAAeZ,CAAfY,EAAsBH,CAAtBG,EAA4BrM,CAA5BqM,CADWrM;AACiBA,CDxIlBhR;AAAAA,ICyIjCod,KAAoB,UAACX,CAAD,EAAQS,CAAR,EAAclM,CAAd,EAAcA;AAAAA,aAClCpO,KADkCoO,CAClCpO,mBAAuBya,GAAeZ,CAAfY,EAAsBH,CAAtBG,EAA4BrM,CAA5BqM,CADWrM;AACiBA,CD1IlBhR;AAAAA,IENjBsd,eAAkB1e,CAAlB0e,EAAkB1e;AAAAA;AAAAA;AAAAA,UAClC0C,GAAc1C,CAAd0C,CADkC1C,EACpBA,OA0iBb,UAAgB2D,CAAhB,EAAsBC,CAAtB,EAAsBA;AAC5B;AACC,cAAIC,KA1iBI8a,IAAgBC,GAAkB5e,CAAlB4e,CAAhBD,EACEE,IAAgBC,GAAoBC,GAAgB/e,CAAhB+e,CAApBD,CADlBH,EACsD3e,gBACpD4H,QAAQ7B,GAAR6B,CAAY+W,EAAcvX,GAAduX,CAAkBK,GAAehf,CAAfgf,EAAmBH,CAAnBG,CAAlBL,CAAZ/W,CADoD5H,EACH6e,IADG7e,CACH6e;AAEvD,gBAAII,IA0BV,UAA4Bjf,CAA5B,EAA4BA;AAE1B,kBAAIkf,IAAU,IAAItgB,GAAJ,CAAQ,CAACoB,EAAGkK,KAAJ,CAAR,CAAd;AACA,qBAAOzK,MAAMC,IAAND,CAAWyf,CAAXzf,CAAP;AA7ByB0f,aA0B3B,CA1B8Cnf,CA0B9C,CA1BM;AAAA,gBACMof,IAAiBC,SAClBN,GAAgB/e,CAAhB+e,CADkBM,EACFrf;AACnBod,2BAAauB,EAAcvX,GAAduX,CAAkB;AAAAxR,uBAAO;AACpCuB,2BAAS1O,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgB2I,IADW;AAEpCqC,yBAAOhL,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgBgL,KAFa;AAGpCK,uBAAKrL,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgBoL;AAHe,iBAAP+B;AAGR/B,eAHVuT;AADM3e,aADEqf,EADvB;;AALE,mCAcIzX,QAAQ7B,GAAR6B,CAAYqX,EAAe7X,GAAf6X,CAAmBD,GAAehf,CAAfgf,EAAmBI,CAAnBJ,CAAnBC,CAAZrX,CAdJ,EAcsDwX,IAdtD,CAcsDA,cAdtD;AAcsDA,WAZEpf,CAyiB1D6D,CAAJ;AACC,SAFF,CAEE,OAAMW,CAAN,EAAMA;AACP,iBAAOZ,EAAQY,CAARZ,CAAP;AAAeY;;AAAAA,YA5iBPma,CA4iBOna,EA3iBLqa,CA2iBKra;AAEhB,eAAIX,KAAUA,EAAOY,IAAjBZ,GACIA,EAAOY,IAAPZ,CAAOY,KAAK,CAAZZ,EAAoBD,CAApBC,CADJA,GAGGA,CAHP;AAGOA,OATD,CASCA,CATD,EASCA,UAniBK4H,CAmiBL5H,EAniBK4H;AAEP,cADAC,QAAQD,KAARC,CAAc,YAAdA,EAA4BD,CAA5BC,EAAmC;AAAC1L;AAAD,SAAnC0L,GACMD,CAAN;AAAMA,OAwhBL,CA1iBazL;AAkBRyL,KAnB4BzL;;AAmB5ByL;AAAAA,aAGHzL,CAHGyL;AAGHzL,KAHGyL,IAGHzL,CAHGyL;AAnBZ,GAAwCzL,CAAxC;AAAA;AAAA;AAAA,CFMuCoB;;AENvC,SAyBgBwd,EAzBhB,CAyBkC5e,CAzBlC,EAyBkCA;AAEhC,MAAIsf,IAAS,IAAI1gB,GAAJ,CAAQoB,EAAGiB,cAAX,CAAb;AAGA,SAFAqe,EAAOC,GAAPD,CAAWtf,EAAG8K,QAAdwU,GACAA,SAActf,EAAGkK,KAAjBoV,CADAA,EAEO7f,MAAMC,IAAND,CAAW6f,CAAX7f,CAAP;AASF;;AAAA,SAASuf,EAAT,CAAwBhf,CAAxB,EAA4BqO,CAA5B,EAA4BA;AAC1B,mBAA0ClB,CAA1C,EAA0CA;AAAAA;AACxC,UAAM3M,IAAOR,EAAGc,QAAHd,CAAYmN,CAAZnN,CAAb;AACA,aAAsB,QAAlBQ,EAAK4K,SAAa,GAAbA,iBAAa,GAAbA,gBACiB5K,EAAKgf,eAALhf,CAAKgf,UAmCLhf,CAnCKgf,EAmCCne,CAnCDme,EAmCUxf,CAnCVwf,EAmCUxf;AAC3C;AACE,iBAAO;AACLyf,oBAAQ,UADH;AAELC,mBAAO,OAFF;AAGLre,sBAHK;AAILsH,kBAAMsB,EAAWzJ,EAAKmI,IAAhBsB,CAJD;AAKLe,mBAAOxK,EAAKwK,KALP;AAML2U,mBAAOnf,EAAKG,IANP;AAOLgJ,qBAAS3J,EAAGqB,OAAHrB,CAAW2J,OAPf;AAQLqF,kBAAMhP,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBoH,GAArBpH,CAAyB;AAAAH,qBAAKG,EAAGsB,SAAHtB,CAAaH,CAAbG,EAAgBwB,UAArB3B;AAAqB2B,aAA9CxB,CARD;AASL0b,kBAAM,EATD;AAULzc,yBAAae,CAVR;AAWL4f,qBAASC,GAAsB7f,CAAtB6f;AAXJ,WAAP;AAaA,SAdF,CAcE,OAAOpU,CAAP,EAAOA;AAEP,gBADAC,QAAQD,KAARC,CAAc,eAAdA,EAA+BD,CAA/BC,GACMD,CAAN;AAAMA;AAnDJqU,OAD6BN,CACfhf,CADegf,EACTnR,CADSmR,EACAxf,CADAwf,CAALhf,CADjB4K,EAEsBpL,IAFtBoL,CAEsBpL;AAK/BA,UAAGc,QAAHd,CAAYmN,CAAZnN,EAAgBoL,SAAhBpL,GAAgBoL,EANTA,SAMPpL;AANOoL,OADEA,CAAT;AAFF,KAA0C+B,CAA1C;AAAA;AAAA;AAAA;AAaF;;AAAA,IAAa0S,KAAwB;AACnC,SAAO;AACLlW,aAAS3J,EAAGqB,OAAHrB,CAAW2J,OADf;AAELI,cAAU/J,EAAGqB,OAAHrB,CAAW+J,QAAX/J,IAAuB,IAF5B;AAGL6J,kBAAc7J,EAAGqB,OAAHrB,CAAW6J,YAHpB;AAILvI,eAAWtB,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBoH,GAArBpH,CAAyB;AAAAmN,aAAMnN,EAAGsB,SAAHtB,CAAamN,CAAbnN,EAAiBwB,UAAvB2L;AAAuB3L,KAAhDxB,CAJN;AAKL2K,iBAAa;AACX+D,eAASoD,EAAW9R,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyB2I,IAApCmJ,CADE;AAEX9G,aAAOhL,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBgL,KAFrB;AAGXE,mBAAalL,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBkL;AAH3B,KALR;AAULhB,WAAO4H,EAAW9R,EAAGc,QAAHd,CAAYA,EAAGkK,KAAflK,EAAsB2I,IAAjCmJ,CAVF;AAWLpC,iBAAa1P,EAAGiB,cAAHjB,CACVoH,GADUpH,CACN;AAAA+f,aAAOjO,EAAW9R,EAAGc,QAAHd,CAAY+f,CAAZ/f,EAAiB2I,IAA5BmJ,CAAPiO;AAAmCpX,KAD7B3I,EAEVqK,MAFUrK,CAEH,UAACsK,CAAD,EAAOC,CAAP,EAAOA;AACb,aAAOD,EAAKE,IAALF,CAAU;AAAAG,eAAQA,MAASF,CAAjBE;AAAiBF,OAA3BD,IAAsCA,CAAtCA,GAAsCA,UAAWA,CAAXA,EAAWA,CAAMC,CAAND,CAAXA,CAA7C;AAA8DC,KAHrDvK,EAIR,EAJQA,CAXR;AAgBLod,iBAAawB,GAAkB5e,CAAlB4e,EAAsBxX,GAAtBwX,CAA0B;AAAAzR,aAAO;AAC5CuB,iBAASoD,EAAW9R,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgB2I,IAA3BmJ,CADmC;AAE5C9G,eAAOhL,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgBgL,KAFqB;AAG5CK,aAAKrL,EAAGc,QAAHd,CAAYmN,CAAZnN,EAAgBoL;AAHuB,OAAP+B;AAGhB/B,KAHVwT;AAhBR,GAAP;AAmByBxT,CApB3B;;AA8CA,SAAS2T,EAAT,CAAyB/e,CAAzB,EAAyBA;AACvB,SAAO;AACL2J,aAAS3J,EAAGqB,OAAHrB,CAAW2J,OADf;AAELI,cAAU/J,EAAGqB,OAAHrB,CAAW+J,QAAX/J,IAAuB,IAF5B;AAGL6J,kBAAc7J,EAAGqB,OAAHrB,CAAW6J,YAHpB;AAILvI,eAAWtB,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBoH,GAArBpH,CAAyB;AAAAmN,aAAMnN,EAAGsB,SAAHtB,CAAamN,CAAbnN,EAAiBwB,UAAvB2L;AAAuB3L,KAAhDxB,CAJN;AAKL2K,iBAAa;AACX+D,eAASzE,EAAWjK,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyB2I,IAApCsB,CADE;AAEXe,aAAOhL,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBgL,KAFrB;AAGXE,mBAAalL,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBkL;AAH3B,KALR;AAULhB,WAAOD,EAAWjK,EAAGc,QAAHd,CAAYA,EAAGkK,KAAflK,EAAsB2I,IAAjCsB,CAVF;AAWLyF,iBAAa1P,EAAGiB,cAAHjB,CACVoH,GADUpH,CACN;AAAA+f,aAAO9V,EAAWjK,EAAGc,QAAHd,CAAY+f,CAAZ/f,EAAiB2I,IAA5BsB,CAAP8V;AAAmCpX,KAD7B3I,EAEVqK,MAFUrK,CAEH,UAACsK,CAAD,EAAOC,CAAP,EAAOA;AACb,aAAOD,EAAKE,IAALF,CAAU;AAAAG,eAAQA,MAASF,CAAjBE;AAAiBF,OAA3BD,IAAsCA,CAAtCA,GAAsCA,UAAWA,CAAXA,EAAWA,CAAMC,CAAND,CAAXA,CAA7C;AAA8DC,KAHrDvK,EAIR,EAJQA;AAXR,GAAP;ACyDK;;AAAA,SAAwD,sBAAXggB,MAAW,GAAeA,OAAOC,QAAPD,KAAoBA,OAAOC,QAAPD,GAAkBA,OAAO,iBAAPA,CAAtCA,CAAf,GAAmF,YAA3I;;AA7HA,YAAiBE,CAAjB,EAAuBC,CAAvB,EAA8B5e,CAA9B,EAA8BA;AACpC,OAAK2e,EAAKE,CAAV,EAAa;AACZ,QAAI7e,eAAJ,EAA4B;AAC3B,WAAIA,EAAM6e,CAAV,EAOC,aADA7e,EAAMP,CAANO,GAAU8e,GAAQC,IAARD,CAAa,IAAbA,EAAmBH,CAAnBG,EAAyBF,CAAzBE,CACV;AANY,UAARF,CAAQ,KACXA,IAAQ5e,EAAM6e,CADH,GAGZ7e,IAAQA,EAAMuD,CAHF;AASd;;AAAA,QAAIvD,KAASA,EAAMkD,IAAnB,EAEC,YADAlD,EAAMkD,IAANlD,CAAW8e,GAAQC,IAARD,CAAa,IAAbA,EAAmBH,CAAnBG,EAAyBF,CAAzBE,CAAX9e,EAA4C8e,GAAQC,IAARD,CAAa,IAAbA,EAAmBH,CAAnBG,EAAyB,CAAzBA,CAA5C9e,CACA;AAED2e,MAAKE,CAALF,GAASC,CAATD,EACAA,EAAKpb,CAALob,GAAS3e,CADT2e;AAEA,QAAMK,IAAWL,EAAKlf,CAAtB;AACIuf,SACHA,EAASL,CAATK,CADGA;AACML;AA3DL;;AAAA,SAA4B;AAClC,gBAiCA;;AAAA,SAhCAM,EAAMC,SAAND,CAAgB/b,IAAhB+b,GAAuB,UAASE,CAAT,EAAsBC,CAAtB,EAAsBA;AAC5C,QAAM9c,IAAS,OAAf;AAAA,QACMsc,IAAQS,KAAKR,CADnB;;AAEA,QAAID,CAAJ,EAAW;AACV,UAAMnZ,IAAmB,IAARmZ,CAAQ,GAAIO,CAAJ,GAAkBC,CAA3C;;AACA,UAAI3Z,CAAJ,EAAc;AACb;AACCqZ,aAAQxc,CAARwc,EAAgB,CAAhBA,EAAmBrZ,EAAS4Z,KAAK9b,CAAdkC,CAAnBqZ;AACC,SAFF,CAEE,OAAO7b,CAAP,EAAOA;AACR6b,aAAQxc,CAARwc,EAAgB,CAAhBA,EAAmB7b,CAAnB6b;AAED;;AAAA,eAAOxc,CAAP;AAEA;;AAAA;AAiBF;;AAAA,WAdA+c,KAAK5f,CAAL4f,GAAS,UAASC,CAAT,EAASA;AACjB;AACC,YAAMtf,IAAQsf,EAAM/b,CAApB;AACc,YAAV+b,EAAMT,CAAI,GACbC,GAAQxc,CAARwc,EAAgB,CAAhBA,EAAmBK,IAAcA,EAAYnf,CAAZmf,CAAdA,GAAmCnf,CAAtD8e,CADa,GAEHM,IACVN,GAAQxc,CAARwc,EAAgB,CAAhBA,EAAmBM,EAAWpf,CAAXof,CAAnBN,CADUM,GAGVN,GAAQxc,CAARwc,EAAgB,CAAhBA,EAAmB9e,CAAnB8e,CALa;AAOb,OATF,CASE,OAAO7b,CAAP,EAAOA;AACR6b,WAAQxc,CAARwc,EAAgB,CAAhBA,EAAmB7b,CAAnB6b;AAAmB7b;AAAAA,KAXrBoc,EAcO/c,CAAP;AAAOA,GA9BR2c,EA8BQ3c,CAER;AAlCkC,GAA5B;;AAgEA,YAAwBid,CAAxB,EAAwBA;AAC9B,SAAOA,mBAA0C,IAAbA,EAASV,CAA7C;AAWqBW;;AAAAA,mBAAgB/gB,CAAhB+gB,EAAgB/gB;AAAAA;AAAAA;AAAAA,UAChC0C,GAAc1C,CAAd0C,CADgC1C,EAClBA,iBAoeG2D,CApeH3D,EAoeS4D,CApeT5D,EAoeS4D;AAC5B;AACC,cAAIC,oBApeMmd,GAAgBhhB,CAAhBghB,EAAoBniB,OAAOsI,MAAPtI,CAAcmB,EAAGc,QAAjBjC,CAApBmiB,CAoeNnd,EApe2C/C,IAoe3C+C,CApe2C/C;AAAAA,mCACrCkgB,GAAgBhhB,CAAhBghB,EAAoBniB,OAAOsI,MAAPtI,CAAcmB,EAAGc,QAAjBjC,CAApBmiB,CADqClgB,EACAA,IADAA,CACAA,cADAA;AACAA,WAme3C+C,CAAJ;AACC,SAFF,CAEE,OAAMW,CAAN,EAAMA;AACP,iBAAOZ,EAAQY,CAARZ,CAAP;AAED;;AAAA,eAAIC,KAAUA,EAAOY,IAAjBZ,GACIA,EAAOY,IAAPZ,CAAOY,KAAK,CAAZZ,EAAoBD,CAApBC,CADJA,GAGGA,CAHP;AAGOA,OA7eY7D,CA6eZ6D,CA7eY7D,EA6eZ6D,UAzeK4H,CAyeL5H,EAzeK4H;AAEP,cADAC,QAAQD,KAARC,CAAc,uBAAdA,EAAuCD,CAAvCC,EAA8C,uBAA9CA,GACMD,CAAN;AAAMA,OANQzL;AAMRyL,KAP0BzL;;AAO1ByL;AAAAA,aAGHzL,CAHGyL;AAGHzL,KAHGyL,IAGHzL,CAHGyL;AAPZ,GAAsCzL,CAAtC;AAAA;AAAA;AAAA,CAAsB+gB;AAAAA,IAtDPC,gBAAgBhhB,CAAhBghB,EAAoBlgB,CAApBkgB,EAA8BC,CAA9BD,EAAoCE,CAApCF,EAAoCE;AAAAA,uBAAQ,CAARA;;AAAQ;AAAA;AA0CrDD,YAEFjhB,EAAGiB,cAAHjB,GAAoBA,EAAGiB,cAAHjB,CACjBoH,GADiBpH,CACb;AAAAH,eAAMA,MAAMohB,EAAKpgB,MAAXhB,GAAoBoB,CAApBpB,GAAqCA,CAA3CA;AAA2CA,OAD9BG,EAEjBqK,MAFiBrK,CAGhB,UAACsK,CAAD,EAAO6W,CAAP,EAAOA;AAAAA,eACL1hB,MAAMG,OAANH,CAAc0hB,CAAd1hB,IAAc0hB,UAAY7W,CAAZ6W,EAAqBA,CAArBA,CAAd1hB,GAAmC0hB,UAAY7W,CAAZ6W,EAAY7W,CAAM6W,CAAN7W,CAAZ6W,CAD9BA;AACgDA,OAJvCnhB,EAKhB,EALgBA,CAFlBihB;AAOE,KAjDmD;;AACzDvgB,MAAUwgB,CAAVxgB,EAAiB,0CAAjBA,EAA6D;AAACV,WAAD;AAAKc;AAAL,KAA7DJ;;AAEA,QAAIO,IAAiB,EAArB;AAAA,QAAqBmgB,IA8IhB,UAAgBC,CAAhB,EAAwB1d,CAAxB,EAA8Bwa,CAA9B,EAA8BA;AACpC,UAAuC,qBAA5BkD,KAAX,EAAmD;AAAA,YACRC,CADQ;AAAA,YACFpB,CADE;AAAA,YACIrY,CADJ;AAAA,YAC9CoY,IAAWoB,OADmC;;AAyBlD,YAvBA,SAASE,CAAT,CAAgB1d,CAAhB,EAAgBA;AACf;AACC,qBAASyd,IAAOrB,EAASuB,IAATvB,EAAhB,EAAiCwB,IAAjC,GAEC,KADA5d,IAASF,EAAK2d,EAAK/f,KAAVoC,CACT,KAAcE,EAAOY,IAArB,EAA2B;AAC1B,mBAAIid,GAAe7d,CAAf6d,CAAJ,EAIC,YADA7d,EAAOY,IAAPZ,CAAY0d,CAAZ1d,EAAoBgE,MAAWA,IAASwY,GAAQC,IAARD,CAAa,IAAbA,EAAmBH,IAAO,QAA1BG,EAAuC,CAAvCA,CAApBxY,CAApBhE,CACA;AAHAA,kBAASA,EAAOiB,CAAhBjB;AAOCqc;;AAAAA,gBACHG,GAAQH,CAARG,EAAc,CAAdA,EAAiBxc,CAAjBwc,CADGH,GAGHA,IAAOrc,CAHJqc;AAKH,WAjBF,CAiBE,OAAO1b,CAAP,EAAOA;AACR6b,eAAQH,MAASA,IAAO,QAAhBA,CAARG,EAAsC,CAAtCA,EAAyC7b,CAAzC6b;AAAyC7b;AAG3C+c,SAtBA,IAuBItB,QAAJ,EAAqB;AACpB,cAAI0B,IAAS,UAASpgB,CAAT,EAASA;AACrB;AACM+f,gBAAKG,IAALH,IACJrB,UADIqB;AAGJ,aAJF,CAIE,OAAM9c,CAAN,EAAMA,CAER;;AAAA,mBAAOjD,CAAP;AAAOA,WAPR;;AASA,cAAI2e,KAAQA,EAAKzb,IAAjB,EACC,OAAOyb,EAAKzb,IAALyb,CAAUyB,CAAVzB,EAAkB,UAAS1b,CAAT,EAASA;AACjC,kBAAMmd,EAAOnd,CAAPmd,CAAN;AAAand,WADP0b,CAAP;AAIDyB;AAED;;AAAA,eAAOzB,CAAP;AAGD;;AAAA,YAAM,YAAYmB,CAAlB,GACC,UAAUO,SAAV,CAAoB,wBAApB;;AAID,WADA,IAAIza,IAAS,EAAb,EACSiR,IAAI,CAAb,EAAgBA,IAAIiJ,EAAO9hB,MAA3B,EAAmC6Y,GAAnC,EACCjR,EAAOjG,IAAPiG,CAAYka,EAAOjJ,CAAPiJ,CAAZla;;AAED,aA5GM,UAAgBwT,CAAhB,EAAuBhX,CAAvB,EAA6Bwa,CAA7B,EAA6BA;AACnC,YAAY+B,CAAZ;AAAA,YAAkBrY,CAAlB;AAAA,YAAIuQ,KAAK,CAAT;AAwBA,eAvBA,SAASmJ,CAAT,CAAgB1d,CAAhB,EAAgBA;AACf;AACC,qBAASuU,CAAT,GAAauC,EAAMpb,MAAnB,GAEC,KADAsE,IAASF,EAAKyU,CAALzU,CACT,KAAcE,EAAOY,IAArB,EAA2B;AAC1B,mBAAIid,GAAe7d,CAAf6d,CAAJ,EAIC,YADA7d,EAAOY,IAAPZ,CAAY0d,CAAZ1d,EAAoBgE,MAAWA,IAASwY,GAAQC,IAARD,CAAa,IAAbA,EAAmBH,IAAO,QAA1BG,EAAuC,CAAvCA,CAApBxY,CAApBhE,CACA;AAHAA,kBAASA,EAAOiB,CAAhBjB;AAOCqc;;AAAAA,gBACHG,GAAQH,CAARG,EAAc,CAAdA,EAAiBxc,CAAjBwc,CADGH,GAGHA,IAAOrc,CAHJqc;AAKH,WAjBF,CAiBE,OAAO1b,CAAP,EAAOA;AACR6b,eAAQH,MAASA,IAAO,QAAhBA,CAARG,EAAsC,CAAtCA,EAAyC7b,CAAzC6b;AAAyC7b;AAG3C+c,SAtBA,IAuBOrB,CAAP;AAAOA,OAzBD,CA4GQ/Y,CA5GR,EA4GgB,UAASiR,CAAT,EAASA;AAAK,eAAOzU,EAAKwD,EAAOiR,CAAPjR,CAALxD,CAAP;AAAmByU,OA5GjD,CA4GN;AAAuDA,KAtDjD,CA7IUtX,CA6IV,EA7IUA,UAAN+gB,CAAM/gB,EAAN+gB;AAAAA;AAAAA;AAmCHC,YAAIjhB,MAAJihB,IAAcD,EAAGhhB,MAAjBihB,IAAiBjhB,OAAeb,EAAGc,QAAHd,CAAY8hB,EAAIjhB,MAAhBb,CAAhC8hB;AAAgDjhB;;AAAAA;AAAAA,cA/BhDpB,MAAMG,OAANH,CAAcoiB,CAAdpiB,CA+BgDoB,EA/BlCghB,uBACVb,EAAgBhhB,CAAhBghB,EAAoBa,CAApBb,EAAwBc,CAAxBd,EAA6BE,IAAQ,CAArCF,CADUa,EAC2Bpd,IAD3Bod,CAC2B,cAD3BA;AAGhB7hB,YAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,IAAyBA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,KAA0B6hB,CAAnD7hB,EACAA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B8K,QAA5B9K,GACEA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B8K,QAA5B9K,IAAwC6hB,EAAGlhB,IAAHkhB,CAAQ/W,QAFlD9K,EAGAA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4BkK,KAA5BlK,GACEA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4BkK,KAA5BlK,IAAqC6hB,EAAGlhB,IAAHkhB,CAAQ3X,KAJ/ClK,EAKAA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B+hB,UAA5B/hB,GACEA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B+hB,UAA5B/hB,IAA0C6hB,EAAGlhB,IAAHkhB,CAAQE,UANpD/hB,EAQIA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B8K,QAA5B9K,IAAwCA,EAAG8K,QAAH9K,KAAgB8hB,EAAIjhB,MAA5Db,KACFA,EAAG8K,QAAH9K,GAAc6hB,EAAGhhB,MADfb,CARJA,EAYIA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4BkK,KAA5BlK,IAAqCA,EAAGkK,KAAHlK,KAAa8hB,EAAIjhB,MAAtDb,KACFA,EAAGkK,KAAHlK,GAAW6hB,EAAGhhB,MADZb,CAZJA,EAgBIA,EAAGc,QAAHd,CAAY6hB,EAAGhhB,MAAfb,EAAuBW,IAAvBX,CAA4B+hB,UAA5B/hB,KACEihB,IAEFhgB,cAAqBA,CAArBA,EAAqBA,CAAgB4gB,EAAGhhB,MAAnBI,CAArBA,CAFEggB,GAKFjhB,EAAGiB,cAAHjB,GAAoBA,EAAGiB,cAAHjB,CAAkBoH,GAAlBpH,CAAsB;AAAAH,mBACxCA,MAAMiiB,EAAIjhB,MAAVhB,GAAmBgiB,EAAGhhB,MAAtBhB,GAA+BA,CADSA;AACTA,WADbG,CANpBA,CAhBJA;AAuBqCH,SAKagB;;AALbhB;AA7BvC;;AAAA,UAAIiiB,IAAMb,KAAQY,CAAlB;AAAA,UAAkBA;AAClB,YAAI5F,GAAK4F,EAAG9gB,OAARkb,CAAJ,EAAYlb,uBAAqB8gB,EAAG9gB,OAAH8gB,CAAWA,CAAXA,EAAWA,UAxBfrhB,CAwBeqhB,EAxBT7hB,CAwBS6hB,EAxBT7hB;AACrC;AACE,mBAAO;AACLyf,sBAAQ,aADH;AAELC,qBAAO,OAFF;AAGLC,qBAAOnf,EAAKG,IAHP;AAILgJ,uBAAS3J,EAAGqB,OAAHrB,CAAW2J,OAJf;AAKLqF,oBAAMhP,EAAGqB,OAAHrB,CAAWsB,SAAXtB,CAAqBoH,GAArBpH,CAAyB;AAAAH,uBAAKG,EAAGsB,SAAHtB,CAAaH,CAAbG,EAAgBwB,UAArB3B;AAAqB2B,eAA9CxB,CALD;AAML0b,oBAAM,EAND;AAOLzc,2BAAae,CAPR;AAQL4f,uBAASC,GAAsB7f,CAAtB6f;AARJ,aAAP;AAUA,WAXF,CAWE,OAAOpU,CAAP,EAAOA;AAEP,kBADAC,QAAQD,KAARC,CAAc,kBAAdA,EAAkCD,CAAlCC,GACMD,CAAN;AAAMA;AAU0CuW,SAAJH,CAAqBA,CAArBA,EAAyB7hB,CAAzB6hB,CAAXA,CAArB9gB,EAAyDf,IAAzDe,CAAyDf;AAA/C6hB;AAAAA,SAAV9gB;AAAU8gB,OADJA,EAAlB;;AACsBA;AAAAA,KA2InB,CA9IL;;AAGwBA;AAAAA,GANiC,CAMjCA;AAAAA;AAAAA;AAAAA,CAgDJd;AAAAA,IAzEhB9E,KAAO;AAAAnX,SAAkB,qBAANA,CAAZA;AAAYA,CAyEHic;AAAAA,IC3EAkB,eAAkBjiB,CAAlBiiB,EAAkBjiB;AAAAA;AACtC,QAAMkiB,IAAand,GAAI/E,CAAJ+E,EAAQ,eAARA,EAAyB,EAAzBA,CAAnB;;AACA,2BAAOL,GAAK1E,CAAL0E,EAASwd,EAAW9a,GAAX8a,CAAe;AAAAC,uBAAMniB,CAANmiB,EAAMniB;AAAAA,eAAMmiB,EAAGniB,CAAHmiB,EAAO;AAAEpiB,eAAF;AAAMG;AAAN,SAAPiiB,CAANniB;AAAmBE,OAAzBiiB;AAAyBjiB,KAAxCgiB,CAATxd,CAAP;AAFF,GAAwC1E,CAAxC;AAAA;AAAA;AAAA,CD2EsB+gB;AAAAA,IE3EAqB,eAA0BpiB,CAA1BoiB,EAA0BpiB;AAAAA;AAC9C,wBAAgBnB,OAAOC,IAAPD,CAAYmB,EAAGc,QAAfjC,CAAhB,EAA+BiC,YAA/B,EAA+BA,GAA/B,EAA0C;AAArC,UAAIgD,QAAJ;AACH9D,QAAGc,QAAHd,CAAY8D,CAAZ9D,EAAiB2I,IAAjB3I,GAAwBiK,EAAWjK,EAAGc,QAAHd,CAAY8D,CAAZ9D,EAAiB2I,IAA5BsB,CAAxBjK;AAEF;;AAAA,2BAAOA,CAAP;AAJF,GAAgDA,CAAhD;AAAA;AAAA;AAAA,CF2EsB+gB;AAAAA,IG3DThgB,KAAU2D,GAAK,CAC1BoX,EAD0B,EAE1BI,EAF0B,EAG1B6E,EAH0B,EAG1BA,UAQ0B/gB,CAR1B+gB,EAQ0B/gB;AAAAA;AAAAA;AAAAA,UACtB0C,GAAc1C,CAAd0C,KAA4C,QAAvB1C,EAAGqB,OAAHrB,CAAW+J,QADV/J,EACU+J,uBACLtD,GAAKnB,GAAM,CAACyP,IAAD,CAANzP,CAALmB,EAA0BhC,IAA1BgC,CAA+B8U,EAA/B9U,CADKsD,EAC0BwR,IAD1BxR,CAC0BwR;AAA5Dvb,UAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAsBqiB,EAA+ClV,EAArEnN;AAAqEmN,OADnCpD;AACmCoD,KAF7CnN;;AAE6CmN;AAEvE,aAAOnN,CAAP;AAAOA,KAFgEmN,IAEhEnN,CAFgEmN;AAEhEnN,GAJmBA,CAInBA;AAAAA;AAAAA;AAAAA,CAfmB,EAenBA,UAG8BA,CAH9BA,EAG8BA;AAAAA;AAAAA;AAAAA,UACjC0C,GAAc1C,CAAd0C,CADiC1C,EACnBA;AAChB,YAAIQ,IAAO3B,OAAOsI,MAAPtI,CAAcmB,EAAGc,QAAjBjC,EAA2B2L,IAA3B3L,CAAgC;AAAA0e,iBAAKA,EAAE5c,IAAF4c,CAAOzS,QAAZyS;AAAYzS,SAA5CjM,CAAX;AACA6B,UAAUF,CAAVE,EAAUF,iCAAVE;;AAHuC;AAAA,cAIf,QAApBF,EAAK0K,WAJ8B,EAI9BA,uBAEC5F,GAAM,CAACgM,GAAW9Q,EAAKmI,IAAhB2I,CAAD,CAANhM,CAFD4F,EAEwBvC,IAFxBuC,CAEwBvC;AAAAA,mCADclC,MAG1ChC,IAH0CgC,CAGrC8U,EAHqC9U,EAI1ChC,IAJ0CgC,CAIrC;AAAAjG,qBAAQA,EAAK1B,IAAb0B;AAAa1B,aAJwB2H,EAK1ChC,IAL0CgC,CAKrC;AAAA3H,qBAAQA,EAAK0L,IAAL1L,CAAU;AAAAgF,uBAAOA,EAAIsO,KAAJtO,KAActD,EAAKwK,KAA1BlH;AAA0BkH,eAApClM,CAARA;AAA4CkM,aALPvE,EAM1ChC,IAN0CgC,CAMrC;AAAA3C,qBAAOA,EAAIyL,cAAXzL;AAAWyL,aAN0B9I,CACdkC,EAKZ4G,IALY5G,CAKZ4G;AANnBvP,gBAAGc,QAAHd,CAAYQ,EAAKK,MAAjBb,EAAyBkL,WAAzBlL,GAAyBkL,CAAzBlL;AAAyBkL,aACMvC;AADNuC,WADlBA;AACkBA,SALY;;AAKZA;AAAAA;AAAAA,KALQlL;;AAKRkL;AAS7B,aAAOlL,CAAP;AAAOA,KATsBkL,IAStBlL,CATsBkL;AAStBlL,GAd8BA,CAc9BA;AAAAA;AAAAA;AAAAA,CAhCmB,EAM1B0e,EAN0B,EAO1B0D,EAP0B,EAQ1BH,EAR0B,CAALvd,CH2DDqc;AAAAA,IIxETta,eAAcuI,CAAdvI,EAAyBhG,CAAzBgG,EAAyBhG;AAAAA,aAAXuO,CAAWvO,KAAXuO,IAAO,EAAIvO,GAAJ,WAAIA,CAAJ,KAAIA,IAAO,EAAX,CAAIA;;AAAO;AAAA,2BAChBmG,KAAS7B,GAAT6B,CAAa,UAAbA,EAAyBnG,EAAKgG,IAALhG,IAAa6hB,EAAtC1b,CADgB,EACsB0b,IADtB,CACsBA,UAA3DC,CAA2DD,EAA3DC;AAAAA,6BACwB3b,KAAS7B,GAAT6B,CAC5B,aAD4BA,EAE5BnG,EAAKM,OAALN,IAAgB+hB,EAFY5b,CADxB2b,EAGYC,IAHZD,CAGYC,UAFZC,CAEYD,EAFZC;AAF4C,eAM9ChjB,MAAMG,OAANH,CAAcuP,CAAdvP,MAAqBuP,IAAOtK,GAAKzF,GAALyF,EAAoBsK,CAApBtK,CAA5BjF,GAAgDuP,gBAC1ByT,EAAgBzT,CAAhByT,CAD0BzT,EACVA,IADUA,CACVA;AAA1C,iBAAOuT,KAA0C9hB,CAA1C8hB,CAAP;AAAiD9hB,SADGuO,CANF;AAODvO,OAN3C8hB;AAM2C9hB,KAPN;AAA5B,GAA4B,CAA5B;AAAA;AAAA;AAAA,CJwEKsgB;AAAAA,IK1EAxF,eAAOjU,CAAPiU,EAAOjU;AAAAA;AAAAA,2BACMV,KAASN,KAATM,CAAe,YAAfA,CADNU,EACqB7C,IADrB6C,CACqB,UAA1Cob,CAA0C,EAA1CA;AACN,UAAMnK,IAAW1Z,OAAOmd,OAAPnd,CAAe6jB,CAAf7jB,EAAmCuI,GAAnCvI,CACf;AAAA,YAAEwH,QAAF;AAAA,YAAW5E,QAAX;AAEE,eAAO,CADP4E,UAAcA,EAAQuO,OAARvO,CAAgB,YAAhBA,EAA8B,EAA9BA,CAAdA,GAA4C,IACrC,EAAU5E,CAAV,CAAP;AAAiBA,OAHJ5C,CAAjB;AAOA,aAAO4c,GAAenU,CAAfmU,EAAyB5c,OAAO8jB,WAAP9jB,CAAmB0Z,CAAnB1Z,CAAzB4c,CAAP;AAAmDlD,KATxBjR;AAA7B,GAA6BA,CAA7B;AAAA;AAAA;AAAA,CL0EsByZ;AAAAA,IMzDT6B;AAAAA;;AACT,aAAYC,CAAZ,EAAYA;AAAAA;AAAAA,QACJC,kHAC4FD,CAD5FC,GAC4FD,yCAD5FC,GAEyBD,CAFzBC,GAEyBD,8FAFzBC,EAGJjO,IAHIiO,EADID;AAAe,YAKzBhC,iBAAMiC,CAANjC,KAAMiC,IALmB,EAMpBpK,IANoB,GAMb,0DANa,EAMb7G,CANa;AAD/B;;AAAA;AAAA,CAAa+Q,CAAbG,EAA0E/e,KAA1E,CAAa4e,CNyDS7B;AAAAA,IM9CTiC,KAA4B,UAACC,CAAD,EAAWJ,CAAX,EAAWA;AAChD,MA1BwBjD,CA0BxB;AAAA,MAxBIvR,CAwBJ;AAAA,MAAI6U,KA1BoBtD,IA0BgBqD,EAASrD,OA1BzBA,EA0ByBA,CAxB7CvR,IAAU,IAAIzP,GAAJ,CAAQghB,EAAQlQ,WAAhB,CAwBmCkQ,EAvBzCL,GAuByCK,CAvBrCA,EAAQjV,WAARiV,CAAoBlR,OAuBiBkR,CA1BzBA,EAIxBvR,SAAeuR,EAAQ1V,KAAvBmE,CAJwBuR,EAKjBngB,MAAMC,IAAND,CAAW4O,CAAX5O,EAAoB2H,GAApB3H,CAAwBqS,CAAxBrS,CAqBHyjB,CAAJ;AAAA,MACIC,IAnBoB,UAACvD,CAAD,EAACA;AAEzB,QAAIwD,IAAW,IAAIxkB,GAAJ,CAAQ,CAACghB,EAAQ1V,KAAT,CAAR,CAAf;AACA,WAAOzK,MAAMC,IAAND,CAAW2jB,CAAX3jB,EAAqB2H,GAArB3H,CAAyBqS,CAAzBrS,CAAP;AAgBsB4jB,GAnBE,CAmBkBJ,EAASrD,OAnB3B,CAkBxB;AAAA,MAGM0D,IAAkBJ,EAAeK,QAAfL,CAAwBpR,EAAW+Q,CAAX/Q,CAAxBoR,CAHxB;AAAA,MAIMM,IAAmBL,EAAgBI,QAAhBJ,CAAyBrR,EAAW+Q,CAAX/Q,CAAzBqR,CAJzB;;AAMA,OAAKG,CAAL,IAAKA,CAAoBE,CAAzB,EACI,UAAUZ,EAAV,CAA+DC,CAA/D;AAGJ,MAAMxhB,IAAU;AACZsI,aAASsZ,EAASrD,OAATqD,CAAiBtZ,OADd;AAEZI,cAAUkZ,EAASrD,OAATqD,CAAiBlZ,QAFf;AAGZF,kBAAcoZ,EAASrD,OAATqD,CAAiBpZ,YAHnB;AAIZvI,eAAW2hB,EAASrD,OAATqD,CAAiB3hB,SAJhB;AAKZqJ,uBACOsY,EAASrD,OAATqD,CAAiBtY,WADxBA,EACwBA;AACpB+D,eAASzE,EAAWgZ,EAASrD,OAATqD,CAAiBtY,WAAjBsY,CAA6BvU,OAAxCzE;AADWU,KADxBA,CALY;AASZT,WAAOD,EAAWgZ,EAASrD,OAATqD,CAAiB/Y,KAA5BD,CATK;AAUZyF,iBAAauT,EAASrD,OAATqD,CAAiBvT,WAAjBuT,CAA6B7b,GAA7B6b,CAAiChZ,CAAjCgZ,CAVD;AAWZ7F,iBAAa6F,EAASrD,OAATqD,CAAiB7F,WAAjB6F,CAA6B7b,GAA7B6b,CAAiC;AAAAQ,mBACvCA,CADuCA,EACvCA;AACH/U,iBAASzE,EAAWwZ,EAAG/U,OAAdzE;AADNwZ,OADuCA;AAEnB/U,KAFduU;AAXD,GAAhB;AAiBA,SAAOK,IAAkBlH,GAAyB/a,CAAzB+a,CAAlBkH,GAAsD9G,GAA0Bnb,CAA1Bmb,CAA7D;AAAuFnb,CNkBrE0f;;AMlBqE1f,SCvD3EoT,EDuD2EpT,GCvD3EoT;AAAAA,MAAezF,4BAAfyF;AAAAA,MACVhU,IAAOuO,EAAK,CAALA,MAA+B,mBAAZA,EAAK,CAALA,CAAY,GAAWA,EAAK,CAALA,CAAX,GAAgB,KAAK0U,CAApD1U,CADGyF;AAAAA,MAEVC,IAA8B,oBAAZ1F,EAAK,CAALA,CAAY,GAAYA,EAAK,CAALA,CAAZ,GAAiB,KAAK0U,CAF1CjP;AAmBd,SAfuB,mBAAZzF,EAAK,CAALA,CAAY,IACrBtD,QAAQiY,IAARjY,CAAQiY,ieAARjY,EAUE,yCAVFA,CADqB,EAehBjF,GAAK,CAACsO,GAASL,CAATK,CAAD,CAALtO,EAA2BhG,CAA3BgG,EAAiChC,IAAjCgC,CAAsC8U,EAAtC9U,CAAP;AAA6C8U;;AAAAA,SCnB/BrK,EDmB+BqK,CCnBvB7M,CDmBuB6M,ECnBd9a,CDmBc8a,ECnBd9a;AAC/B,SAAOgG,GAAK,CAAC6K,GAAW5C,CAAX4C,CAAD,CAAL7K,EAA4BhG,CAA5BgG,EAAkChC,IAAlCgC,CAAuC8U,EAAvC9U,CAAP;AAA8C8U;;AAAAA,SCHhCta,EDGgCsa,CCHjBsG,CDGiBtG,ECHjBsG;AAC7B,oBAD6BA,CAC7B,KAD6BA,IAAK,EAClC,GAAOnd,GACLmd,EAAGza,GAAHya,CAAO;AACL,WAAOthB,EAAYqjB,CAAZrjB,EAAmB;AAACI,YpCmBD;AoCnBA,KAAnBJ,CAAP;ApCmB0B,GoCpB5BshB,CADKnd,CAAP;AAOF;;AAAA,SAAgBmf,EAAhB,CAA8Blb,CAA9B,EAAoC6W,CAApC,EAAqDxU,CAArD,EAA4DE,CAA5D,EAA4DA;AAC1D,SAAO;AAACvC,WAAD;AAAO6W,sBAAP;AAAwBxU,YAAxB;AAA+BE;AAA/B,GAAP;AAAsCA;;AAAAA,SCTxB4Y,EDSwB5Y,CCTdiX,CDScjX,ECTdiX;AACtB,SAAOhd,GAAO,eAAPA,EAAwB;AAAA+c,WAC3BziB,MAAMG,OAANH,CAAcyiB,CAAdziB,IAA4ByiB,EAAWhhB,IAAXghB,CAAgBC,CAAhBD,CAA5BziB,GAAkD,CAAC0iB,CAAD,CADvBD;AACwBC,GADhDhd,CAAP;AACuDgd;;AAAAA,SCD3C4B,EDC2C5B,CCD7B3R,CDC6B2R,ECD7B3R;AAC5B,SAAO9L,GAAK,CACV;AAEE,WADA1E,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,GAAkBwQ,CAAlBxQ,EACOA,CAAP;AAAOA,GAHC,EAKV8jB,GAAU;AACR,QAAiC,oBAAtB9jB,EAAGmQ,KAAHnQ,CAAS0U,QAApB,EACE,UAAU1Q,KAAV,CAAgB,mDAAhB;AACF,QAAIhE,EAAGmQ,KAAHnQ,CAASmN,EAAb,EACE,UAAUnJ,KAAV,CAAgB,mDAAhB;AACF,WAAOhE,CAAP;AAAOA,GALT8jB,CALU,CAALpf,CAAP;AAUW1E;;AAAAA,SCXGgkB,EDWHhkB,CCXamN,CDWbnN,ECXamN;AACxB,SAAOzI,GAAK,CACV;AAEE,WADA1E,EAAGmQ,KAAHnQ,CAASmN,EAATnN,GAAcmN,CAAdnN,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAHF,EAKV8jB,GAAU,UAAC9jB,CAAD,EAACA,CAAD,EAACA;AAAAA,QAAKD,QAALC;AAAAA,QAASE,SAATF;AACT,WAAI6C,GAAa7C,CAAb6C,IAAyB3C,EAAIF,CAAJE,EAAQ,8DAARA,CAAzB2C,GAC6B,oBAAtB7C,EAAGmQ,KAAHnQ,CAAS0U,QAAa,GAAkBxU,EAAIF,CAAJE,EAAQ,+CAARA,CAAlB,GAC7BF,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,GAAwBE,EAAIF,CAAJE,EAAQ,mDAARA,CAAxBF,GACGD,EAAGC,CAAHD,CAHP;AAGUC,GAJZ8jB,CALU,CAALpf,CAAP;AASc1E;;AAAAA,SCXAikB,EDWAjkB,CCXU+T,CDWV/T,ECXqB2T,CDWrB3T,ECX4BkU,CDW5BlU,ECX4BkU;AAiB1C,cAfqB,CAerB,KAfWP,CAeX,IAfWA,KAAwC,CAAxCA,KAAgCO,CAe3C,IAdExI,QAAQiY,IAARjY,CAAQiY,6cAARjY,EAUE,yCAVFA,CAcF,EAAOhH,GAAK,CACV3C,EADU,EAEV;AAIE,WAHA/B,EAAGqN,MAAHrN,CAAU+T,SAAV/T,GAAsB+T,CAAtB/T,EACAA,EAAGqN,MAAHrN,CAAU2T,KAAV3T,GAAkB2T,CADlB3T,EAEAA,EAAGqN,MAAHrN,CAAUkU,GAAVlU,GAAgBkU,CAFhBlU,EAGOD,EAAGC,CAAHD,CAAP;AAAUC,GANF,CAAL0E,CAAP;AAMc1E;;AAAAA,SCvBAkkB,EDuBAlkB,CCvB4B+T,CDuB5B/T,ECvBuC2T,CDuBvC3T,ECvB8CkU,CDuB9ClU,ECvB8CkU;AAC5D,SAAOxP,GAAK,CACV3C,EADU,EAEV;AAIE,WAHA/B,EAAGqN,MAAHrN,CAAU+T,SAAV/T,GAAsB+T,CAAtB/T,EACAA,EAAGqN,MAAHrN,CAAU2T,KAAV3T,GAAkB2T,CADlB3T,EAEAA,EAAGqN,MAAHrN,CAAUkU,GAAVlU,GAAgBkU,CAFhBlU,EAGOD,EAAGC,CAAHD,CAAP;AAAUC,GANF,CAAL0E,CAAP;AAMc1E;;AAAAA,SCPAmkB,EDOAnkB,CCPoB+T,CDOpB/T,ECP+BoU,CDO/BpU,ECP+BoU;AAC7C,oBAD6CA,CAC7C,KAD6CA,IAAW,EACxD,GAAO1P,GAAK,CACV3C,EADU,EAEV;AAGE,WAFA/B,EAAGqN,MAAHrN,CAAU+T,SAAV/T,GAAsB+T,CAAtB/T,EACAA,EAAGqN,MAAHrN,CAAUoU,QAAVpU,GAAqBoU,CADrBpU,EAEOD,EAAGC,CAAHD,CAAP;AAAUC,GALF,CAAL0E,CAAP;AAKc1E;;AAAAA,SCNAokB,EDMApkB,CCNe0U,CDMf1U,ECNe0U;AAC7B,oBAD6BA,CAC7B,KAD6BA,IAAW,IACxC,GAAOhQ,GAAK,CACVrC,EADU,EAEV;AAEE,WADArC,EAAGmQ,KAAHnQ,CAAS0U,QAAT1U,GAAoB0U,CAApB1U,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCLAqkB,EDKArkB,CCLe0U,CDKf1U,ECLe0U;AAe7B,oBAf6BA,CAe7B,KAf6BA,KAAW,CAexC,GAbAhJ,QAAQiY,IAARjY,CAAQiY,saAARjY,EAUE,yCAVFA,CAaA,EAAOhH,GAAK,CACV1C,EADU,EAEV;AAEE,WADAhC,EAAGmQ,KAAHnQ,CAAS0U,QAAT1U,GAAoB0U,CAApB1U,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCnBAskB,EDmBAtkB,CCnBamN,CDmBbnN,ECnBamN;AAe3B,SAbAzB,QAAQiY,IAARjY,CAAQiY,maAARjY,EAUE,yCAVFA,GAaOhH,GAAK,CACVzC,EADU,EAEV;AAEE,WADAjC,EAAGmQ,KAAHnQ,CAASukB,GAATvkB,GAAe,CAACmN,CAAD,CAAfnN,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCnBAwkB,EDmBAxkB,CCnBiBwQ,CDmBjBxQ,ECnBiBwQ;AAe/B,SAbA9E,QAAQiY,IAARjY,CAAQiY,2aAARjY,EAUE,yCAVFA,GAaOhH,GAAK,CACVxC,EADU,EAEV;AAEE,WADAlC,EAAGmQ,KAAHnQ,CAASwQ,MAATxQ,GAAkBwQ,CAAlBxQ,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCnBAyX,EDmBAzX,CCnBcmN,CDmBdnN,ECnBcmN;AAC5B,oBAD4BA,CAC5B,KAD4BA,IAAK,IACjC,GAAOzI,GAAK,CACVpC,EADU,EAEV;AAEE,WADAtC,EAAGuX,UAAHvX,CAAcmN,EAAdnN,GAAmBmN,CAAnBnN,EACOA,CAAP;AAAOA,GAJC,CAAL0E,CAAP;AAIW1E;;AAAAA,SCLGykB,EDKHzkB,CCLwBuM,CDKxBvM,ECLwBuM;AACnC,SAAO7H,GAAK,CACV9C,EADU,EAEV;AAEE,WADA5B,EAAGkN,WAAHlN,CAAemN,EAAfnN,GAAoBuM,CAApBvM,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCLA8O,EDKA9O,CCLeuM,CDKfvM,ECLeuM;AAC7B,SAAO7H,GAAK,CACV7C,EADU,EAEV;AAEE,WADA7B,EAAGkN,WAAHlN,CAAemN,EAAfnN,GAAoBuM,CAApBvM,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAJF,CAAL0E,CAAP;AAIc1E;;AAAAA,SCPA0kB,EDOA1kB,CCPM6J,CDON7J,ECPM6J;AACpB,mBAAO7J,CAAP,EAAOA;AAEL,WADAA,EAAGqB,OAAHrB,CAAW6J,YAAX7J,GAA0B6J,CAA1B7J,EACOA,CAAP;AAAOA,GAFT;AAESA;;AAAAA,SCDKgP,EDCLhP,CCDU6hB,CDCV7hB,ECDU6hB;AACnB,oBADmBA,CACnB,KADmBA,IAAK,EACxB,GAAOnd,GAAKmd,EAAGza,GAAHya,CAAO1gB,CAAP0gB,CAALnd,CAAP;AAAmBvD;;AAAAA,SAGLC,EAHKD,CAGDI,CAHCJ,EAGMM,CAHNN,EAGMM;AACzB,SAAO;AAACF,YAAD;AAAQE;AAAR,GAAP;ACLoBqJ;;AAAAA,mBAAS8Y,CAAT9Y,EAAS8Y;AAAAA;AAC7B,2BAAOrjB,EAAYqjB,CAAZrjB,EAAmB;AAACI,YpDuBG;AoDvBJ,KAAnBJ,CAAP;AADF,GAA+BqjB,CAA/B;AAAA;AAAA;AAAA,CAAsB9Y;AAAAA,ICAAZ,eAAM0Z,CAAN1Z,EAAM0Z;AAAAA;AAC1B,2BAAOrjB,EAAYqjB,CAAZrjB,EAAmB;AAACI,YrDsBG;AqDtBJ,KAAnBJ,CAAP;AADF,GAA4BqjB,CAA5B;AAAA;AAAA;AAAA,CDAsB9Y;;ACAtB,SCAgB6Z,EDAhB,GCAgBA;AACd,SAAOxiB,EAAP;AAAOA;;AAAAA,SCDOyiB,EDCPziB,CCDW4H,CDCX5H,ECDW4H;AAClB,SAAOrF,GAAK,CACV;AAEE,WADA1E,EAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAsB+J,CAAtB/J,EACOD,EAAGC,CAAHD,CAAP;AAAUC,GAHF,CAAL0E,CAAP;AAGc1E;;AAAAA,SCHAyJ,EDGAzJ,GCHAyJ;AACd,SAAO/E,GAAK,CACVhD,CADU,EAEVwD,GAAI,YAAJA,EAAkB2f,yCAAlB3f,CAFU,CAALR,CAAP;AAEoBmgB;;AAAAA,ICFhBC,KAA0B,EDEVD;;ACFU,SAGhB3X,EAHgB,GAGhBA;AACd,SAAOxI,GAAK,CACV/C,CADU,EAEVuD,GAAI,YAAJA,EAAkB2f,yCAAlB3f,CAFU,EAGV;AAIE,WAHAlF,EAAGqB,OAAHrB,CAAW6J,YAAX7J,GAA0BA,EAAGqB,OAAHrB,CAAW6J,YAAX7J,IATF,EASxBA,EACAA,EAAGqB,OAAHrB,CAAW+J,QAAX/J,GAAsBA,EAAGqB,OAAHrB,CAAW+J,QAAX/J,IARR,IAOdA,EAEAA,EAAGiB,cAAHjB,GAAoBA,EAAGiB,cAAHjB,IAAqB8kB,EAFzC9kB,EAGOD,EAAGC,CAAHD,CAAP;AAAUC,GAPF,CAAL0E,CAAP;AAOc1E;;AAAAA,SCbAU,EDaAV,GCbAU;AAAAA,MAAasO,4BAAbtO;;AACd,MAAIsO,EAAKzP,MAALyP,GAAc,CAAlB,EAAqB;AAAA,YACUA,CADV;AAAA,QACZ+V,QADY;AAAA,QACD1jB,QADC;AAEnB,WAAOX,GAAU,UAACV,CAAD,EAACA,CAAD,EAACA;AAAAA,UAAUE,SAAVF;AAChB,aAAO+kB,KAAYhlB,KADGA,EACfglB,EAAe/kB,CAAf+kB,IAAqB7kB,EAAIF,CAAJE,EAAQmB,CAARnB,CAA5B;AAAoCmB,KAD/BX,CAAP;AAH+B;;AAAA,MAO1B0E,IAAM4J,IAPoB;AAQjC,mBAAOhP,CAAP,EAAOA;AAAAA,WAAMoF,EAAGpF,CAAHoF,EAAO;AAACrF,WAAD;AAAKG;AAAL,KAAPkF,CAANpF;AAAkBE,GAAzB;AAAyBA;;AAAAA,ICJd8kB,KAAgC;AAAA,MAAG7b,UAAH;AAAGA,mBAAkBnJ,CAAlBmJ,EAAkBnJ;AAAAA;AAChE,aAAM0C,GAAc1C,CAAd0C,IACF1C,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBkL,WAAzBlL,GAAyBkL,gBAAoBnL,EAAGC,CAAHD,CAApBmL,CAAzBlL,GAAgDA,gBAElBsF,GAAM,CACtCgM,GAAWtR,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyB2I,IAApC2I,CADsC,CAANhM,CAFkBtF,EAGd2I,IAHc3I,CAGd2I;AAAAA,+BADflC,MAEnB;AAAE0C;AAAF,SAFmB1C,CACekC,EAChCQ,IADgCR,CAChCQ,UAFA7B,CAEA6B,EAFA7B;AAAAA,iCAGgBmU,GAAenU,CAAfmU,CAHhBnU,EAG+BA,IAH/BA,CAG+BA,UAA/BqR,CAA+BrR,EAA/BqR;AAIN,mBAFA3Y,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBkL,WAAzBlL,GAAuC2Y,EAAQ7Z,IAAR6Z,CAAa3Y,EAAGc,QAAHd,CAAYA,EAAG8K,QAAf9K,EAAyBgL,KAAtC2N,EAA6CpJ,cAApFvP,EAEOD,EAAGC,CAAHD,CAAP;AAAUC,WAPJsH;AAOItH,SAN4B2I;AAM5B3I,OAT0CA,CAD9C0C,GAUI1C,gBAVuBD,EAAGC,CAAHD,CAUvBC,CAVV;AAD2C,KAAqBA,CAArB;AAAA;AAAA;AAAA,GAAGmJ;AAAH,CDIlBjJ;AAAAA,IEVd+kB,KAAU,QFUI/kB;AAAAA,IGyEdglB,KAAS;AAAAA,aACJ;AACdxM,UAAM,QADQ;AAEdyM,qBACE;AAHY,GADID,EAIhB,KCzEJxZ,QAAQD,KAARC,CAAQD,qFADkBiN,IAClBjN,GADkBiN,mIAClBjN,GADkBiN,EAAMyM,eACxB1Z,GADwB0Z,wCAChCzZ,EAQE,yCARFA,CDqEoBwZ;ACvDR;AAAA,CJlBahlB;AAAAA,IG+EdklB,KAAQ;AAAAF,aACJ;AACbxM,UAAM,OADO;AAEbyM,qBACE;AAHW,GADID,EAIf,KC5FJxZ,QAAQiY,IAARjY,CAAQiY,qFADoBjL,IACpBiL,GADoBjL,2KACpBiL,GADoBjL,EAAMyM,eAC1BxB,GAD0BwB,wCAClCzZ,EAQE,yCARFA,CDwFmBwZ;AC/DR;AAAA,CJhBchlB;;AIgBd","names":["IX","KEYS","Set","Object","keys","JSON","parse","interaction","CHARS","split","randChar","Math","random","length","uuid","Array","from","join","isArray","d","isNull","Ok","ix","status","Bad","reason","makeIx","wat","tag","prepAccount","acct","opts","invariant","role","ACCOUNT","tempId","accounts","resolve","o","authorizations","push","makeArgument","arg","message","arguments","value","asArgument","xform","makeScript","makeTransaction","makeGetTransactionStatus","makeGetTransaction","makeGetAccount","makeGetEvents","makeGetLatestBlock","makeGetBlockById","makeGetBlockByHeight","makePing","makeGetBlock","makeGetBlockHeader","makeGetCollection","is","isUnknown","isScript","isTransaction","isGetTransactionStatus","isGetTransaction","isGetAccount","isGetEvents","isGetLatestBlock","isGetBlockById","isGetBlockByHeight","isPing","isGetBlock","isGetBlockHeader","isGetCollection","isOk","isBad","why","recPipe","fns","body","recover","result","key","has","Error","hardMode","hd","rest","cur","isNumber","hasOwnProperty","isInteraction","e","then","pipe","arg1","arg2","identity","v","get","fallback","assigns","put","update","fn","destroy","build","NAME","PUT","GET","UPDATED","HANDLERS","ctx","_letter","broadcast","all","letter","reply","UPDATE_CONFIG","DELETE_CONFIG","WHERE_CONFIG","pattern","where","SUBSCRIBE","subscribe","send","UNSUBSCRIBE","unsubscribe","config","expectReply","timeout","_delete","callback","subscriber","spawn","values","map","delete","response","unary","host","method","request","metadataFromConfig","Promise","reject","grpc","metadata","Metadata","onEnd","statusMessage","Code","OK","setDefaultTransport","NodeHttpTransport","hexBuffer","hex","Buffer","addressBuffer","addr","padStart","pad","u8ToHex","u8","toString","argumentBuffer","stringify","node","sendTransaction","defaultUnary","tx","Transaction","setScript","script","scriptBuffer","cadence","setGasLimit","computeLimit","setReferenceBlockId","refBlock","setPayer","sansPrefix","payer","forEach","addArguments","reduce","prev","current","find","item","addAuthorizers","proposalKey","ProposalKey","setAddress","proposer","setKeyId","keyId","setSequenceNumber","sequenceNum","setProposalKey","signature","sig","Signature","setSignature","addPayloadSignatures","error","console","addEnvelopeSignatures","req","SendTransactionRequest","setTransaction","t1","Date","now","AccessAPI","SendTransaction","res","t2","ret","transactionId","getId_asU8","window","dispatchEvent","CustomEvent","detail","txId","delta","sendGetTransactionStatus","GetTransactionRequest","setId","transaction","id","GetTransactionResult","events","getEventsList","transactionStatus","getStatus","statusCode","getStatusCode","errorMessage","getErrorMessage","event","type","getType","getTransactionId_asU8","transactionIndex","getTransactionIndex","eventIndex","getEventIndex","payload","getPayload_asU8","sendGetTransaction","GetTransaction","unwrapSignature","address","getAddress_asU8","getKeyId","getSignature_asU8","getTransaction","getScript_asU8","args","getArgumentsList","referenceBlockId","getReferenceBlockId_asU8","gasLimit","getGasLimit","getProposalKey","sequenceNumber","getSequenceNumber","getPayer_asU8","authorizers","getAuthorizersList","payloadSignatures","getPayloadSignaturesList","envelopeSignatures","getEnvelopeSignaturesList","sendExecuteScript","encodedData","getValue_asU8","block","ExecuteScriptAtBlockIDRequest","setBlockId","code","ExecuteScriptAtBlockID","height","ExecuteScriptAtBlockHeightRequest","setBlockHeight","Number","ExecuteScriptAtBlockHeight","ExecuteScriptAtLatestBlockRequest","ExecuteScriptAtLatestBlock","sendGetAccount","GetAccountAtBlockHeightRequest","GetAccountAtLatestBlockRequest","account","GetAccountAtBlockHeight","GetAccountAtLatestBlock","contractsMap","getAccount","contracts","getContractsMap","getEntryList","acc","contract","UInt8Array","n","withPrefix","balance","getBalance","getCode_asU8","getKeysList","publicKey","index","getIndex","getPublicKey_asU8","signAlgo","getSignAlgo","hashAlgo","getHashAlgo","weight","getWeight","revoked","getRevoked","sendGetEvents","results","getResultsList","blocks","blockId","getBlockId_asU8","blockHeight","getBlockHeight","blockTimestamp","getBlockTimestamp","toDate","toISOString","start","GetEventsForHeightRangeRequest","GetEventsForBlockIDsRequest","setType","eventType","setStartHeight","setEndHeight","end","GetEventsForHeightRange","blockIds","addBlockIds","GetEventsForBlockIDs","sendGetLatestBlock","GetLatestBlockRequest","latestBlock","isSealed","setIsSealed","replace","trim","GetLatestBlock","getBlock","collectionGuarantees","getCollectionGuaranteesList","blockSeals","getBlockSealsList","signatures","getSignaturesList","parentId","getParentId_asU8","getHeight","timestamp","getTimestamp","collectionGuarantee","collectionId","getCollectionId_asU8","blockSeal","executionReceiptId","getExecutionReceiptId_asU8","executionReceiptSignatures","getExecutionReceiptSignaturesList","resultApprovalSignatures","getResultApprovalSignaturesList","sendGetBlock","GetBlockByIDRequest","GetBlockByID","GetBlockByHeightRequest","setHeight","GetBlockByHeight","sendGetBlockHeader","blockHeader","GetBlockHeaderByIDRequest","GetBlockHeaderByID","GetBlockHeaderByHeightRequest","GetBlockHeaderByHeight","GetLatestBlockHeaderRequest","GetLatestBlockHeader","sendGetBlockById","sendGetBlockByHeight","sendGetCollection","GetCollectionByIDRequest","collection","GetCollectionByID","getCollection","transactionIds","getTransactionIdsList","sendPing","PingRequest","Ping","decodeNumber","num","_","stack","decodeImplicit","i","decodeComposite","composite","decoders","fields","recurseDecode","name","decoded","decoder","decoderLookup","defaultDecoders","UInt","Int","UInt8","Int8","UInt16","Int16","UInt32","Int32","UInt64","Int64","UInt128","Int128","UInt256","Int256","Word8","Word16","Word32","Word64","UFix64","Fix64","String","Character","Bool","Address","Void","Optional","optional","Reference","array","Dictionary","dictionary","Event","Resource","Struct","lookup","found","test","RegExp","substring","decodeInstructions","decode","customDecoders","decodeResponse","data","_exit2","resolveRefBlockId","getRefId","resolveCadence","isString","entries","isFn","resolveArguments","cast","encodeTransactionPayload","prependTransactionDomainTag","rlpEncode","preparePayload","encodeTransactionEnvelope","prepareEnvelope","leftPaddedHexBuffer","TRANSACTION_DOMAIN_TAG","padEnd","argumentToString","encode","validatePayload","validateEnvelope","preparePayloadSignatures","signers","collectSigners","payloadSigs","signerIndex","sort","a","b","Map","addSigner","set","payloadFields","field","checkField","proposalKeyFields","envelopeFields","payloadSigFields","isObject","check","defaultVal","obj","base","missingFieldError","invalidFieldError","printFieldName","resolveSignatures","insideSigners","findInsideSigners","insidePayload","encodeInsideMessage","prepForEncoding","fetchSignature","outsideSigners","outside","findOutsideSigners","outsidePayload","encodeOutsideMessage","inside","add","signingFunction","f_type","f_vsn","roles","voucher","createSignableVoucher","buildSignable","cid","Symbol","iterator","pact","state","s","_settle","bind","observer","_Pact","prototype","onFulfilled","onRejected","this","_this","thenable","resolveAccounts","collectAccounts","last","depth","curr","c","target","step","_cycle","next","done","_isSettledPact","_fixup","TypeError","ax","old","authorizer","buildPreSignable","resolveValidators","validators","cb","resolveFinalNormalization","_send$then","defaultSend","sendFunction","defaultResolve","resolveFunction","decodersFromConfig","fromEntries","UnableToDetermineMessageEncodingTypeForSignerAddress","signerAddress","msg","C","encodeMessageFromSignable","signable","payloadSigners","envelopeSigners","envelope","findEnvelopeSigners","isPayloadSigner","includes","isEnvelopeSigner","ps","undefined","warn","authz","authorization","validator","atBlockHeight","atBlockId","getEvents","getEventsAtBlockHeightRange","getEventsAtBlockIds","getBlockHeader","getLatestBlock","getBlockById","ids","getBlockByHeight","getTransactionStatus","limit","ping","ref","template","DEFAULT_SCRIPT_ACCOUNTS","predicate","resolveProposerSequenceNumber","VERSION","params","transitionsPath","param"],"sources":["../src/interaction/interaction.js","../src/build/build.js","../src/config/index.js","../src/response/response.js","../src/send/unary.js","../src/send/send-transaction.js","../src/send/send-get-transaction.js","../src/send/send-execute-script.js","../src/send/send-get-account.js","../src/send/send-get-events.js","../src/send/send-get-block.js","../src/send/send-get-block-header.js","../src/send/send-get-latest-block.js","../src/send/send-get-block-by-id.js","../src/send/send-get-block-by-height.js","../src/send/send-get-collection.js","../src/send/sdk-send.js","../src/send/send-get-transaction-status.js","../src/send/send-ping.js","../src/build/build-get-block.js","../src/build/build-get-account.js","../src/decode/decode.js","../src/resolve/resolve-ref-block-id.js","../src/resolve/resolve-cadence.js","../src/resolve/resolve-arguments.js","../src/encode/encode.js","../src/resolve/resolve-signatures.js","../src/resolve/resolve-accounts.js","../src/resolve/resolve-validators.js","../src/resolve/resolve-final-normalization.js","../src/resolve/resolve.js","../src/send/send.js","../src/decode/sdk-decode.js","../src/wallet-utils/encode-signable.js","../src/latest-block/latest-block.js","../src/account/account.js","../src/build/build-authorizations.js","../src/build/build-validator.js","../src/build/build-at-block-height.js","../src/build/build-at-block-id.js","../src/build/build-get-events.js","../src/build/build-get-events-at-block-height-range.js","../src/build/build-get-events-at-block-ids.js","../src/build/build-get-block-header.js","../src/build/build-get-latest-block.js","../src/build/build-get-block-by-id.js","../src/build/build-get-block-by-height.js","../src/build/build-get-collection.js","../src/build/build-get-transaction-status.js","../src/build/build-get-transaction.js","../src/build/build-limit.js","../src/build/build-arguments.js","../src/build/build-proposer.js","../src/build/build-payer.js","../src/build/build-ping.js","../src/build/build-ref.js","../src/build/build-script.js","../src/build/build-transaction.js","../src/build/build-invariant.js","../src/resolve/resolve-proposer-sequence-number.js","../src/VERSION.js","../src/sdk.js","../src/utils/deprecate.js"],"sourcesContent":["import {invariant} from \"@onflow/util-invariant\"\n\nexport const UNKNOWN /*                       */ = \"UNKNOWN\"\nexport const SCRIPT /*                        */ = \"SCRIPT\"\nexport const TRANSACTION /*                   */ = \"TRANSACTION\"\nexport const GET_TRANSACTION_STATUS /*        */ = \"GET_TRANSACTION_STATUS\"\nexport const GET_ACCOUNT /*                   */ = \"GET_ACCOUNT\"\nexport const GET_EVENTS /*                    */ = \"GET_EVENTS\"\nexport const GET_LATEST_BLOCK /*              */ = \"GET_LATEST_BLOCK\"\nexport const PING /*                          */ = \"PING\"\nexport const GET_TRANSACTION /*               */ = \"GET_TRANSACTION\"\nexport const GET_BLOCK_BY_ID /*               */ = \"GET_BLOCK_BY_ID\"\nexport const GET_BLOCK_BY_HEIGHT /*           */ = \"GET_BLOCK_BY_HEIGHT\"\nexport const GET_BLOCK /*                     */ = \"GET_BLOCK\"\nexport const GET_BLOCK_HEADER /*              */ = \"GET_BLOCK_HEADER\"\nexport const GET_COLLECTION /*                */ = \"GET_COLLECTION\"\n\nexport const BAD /* */ = \"BAD\"\nexport const OK /*  */ = \"OK\"\n\nexport const ACCOUNT /*  */ = \"ACCOUNT\"\nexport const PARAM /*    */ = \"PARAM\"\nexport const ARGUMENT /* */ = \"ARGUMENT\"\n\nexport const AUTHORIZER /* */ = \"authorizer\"\nexport const PAYER /*      */ = \"payer\"\nexport const PROPOSER /*   */ = \"proposer\"\n\nconst ACCT = `{\n  \"kind\":\"${ACCOUNT}\",\n  \"tempId\":null,\n  \"addr\":null,\n  \"keyId\":null,\n  \"sequenceNum\":null,\n  \"signature\":null,\n  \"signingFunction\":null,\n  \"resolve\":null,\n  \"role\": {\n    \"proposer\":false,\n    \"authorizer\":false,\n    \"payer\":false,\n    \"param\":false\n  }\n}`\n\nconst PRM = `{\n  \"kind\":\"${PARAM}\",\n  \"tempId\":null,\n  \"key\":null,\n  \"value\":null,\n  \"asParam\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst ARG = `{\n  \"kind\":\"${ARGUMENT}\",\n  \"tempId\":null,\n  \"value\":null,\n  \"asArgument\":null,\n  \"xform\":null,\n  \"resolve\": null\n}`\n\nconst IX = `{\n  \"tag\":\"${UNKNOWN}\",\n  \"assigns\":{},\n  \"status\":\"${OK}\",\n  \"reason\":null,\n  \"accounts\":{},\n  \"params\":{},\n  \"arguments\":{},\n  \"message\": {\n    \"cadence\":null,\n    \"refBlock\":null,\n    \"computeLimit\":null,\n    \"proposer\":null,\n    \"payer\":null,\n    \"authorizations\":[],\n    \"params\":[],\n    \"arguments\":[]\n  },\n  \"proposer\":null,\n  \"authorizations\":[],\n  \"payer\":null,\n  \"events\": {\n    \"eventType\":null,\n    \"start\":null,\n    \"end\":null,\n    \"blockIds\":[]\n  },\n  \"transaction\": {\n    \"id\":null\n  },\n  \"block\": {\n    \"id\":null,\n    \"height\":null,\n    \"isSealed\":null\n  },\n  \"account\": {\n    \"addr\":null\n  },\n  \"collection\": {\n    \"id\":null\n  }\n}`\n\nconst KEYS = new Set(Object.keys(JSON.parse(IX)))\n\nexport const interaction = () => JSON.parse(IX)\n\nconst CHARS = \"abcdefghijklmnopqrstuvwxyz0123456789\".split(\"\")\nconst randChar = () => CHARS[~~(Math.random() * CHARS.length)]\nexport const uuid = () => Array.from({length: 10}, randChar).join(\"\")\nexport const isNumber = d => typeof d === \"number\"\nexport const isArray = d => Array.isArray(d)\nexport const isObj = d => d !== null && typeof d === \"object\"\nexport const isNull = d => d == null\nexport const isFn = d => typeof d === \"function\"\n\nexport const isInteraction = ix => {\n  if (!isObj(ix) || isNull(ix) || isNumber(ix)) return false\n  for (let key of KEYS) if (!ix.hasOwnProperty(key)) return false\n  return true\n}\n\nexport const Ok = ix => {\n  ix.status = OK\n  return ix\n}\n\nexport const Bad = (ix, reason) => {\n  ix.status = BAD\n  ix.reason = reason\n  return ix\n}\n\nconst makeIx = wat => ix => {\n  ix.tag = wat\n  return Ok(ix)\n}\n\nexport const prepAccount = (acct, opts = {}) => ix => {\n  invariant(\n    typeof acct === \"function\" || typeof acct === \"object\",\n    \"prepAccount must be passed an authorization function or an account object\"\n  )\n  invariant(opts.role != null, \"Account must have a role\")\n\n  const ACCOUNT = JSON.parse(ACCT)\n  const role = opts.role\n  const tempId = uuid()\n\n  acct = typeof acct === \"function\" ? {resolve: acct} : acct\n\n  ix.accounts[tempId] = {\n    ...ACCOUNT,\n    tempId,\n    ...acct,\n    role: {\n      ...ACCOUNT.role,\n      ...(typeof acct.role === \"object\" ? acct.role : {}),\n      [role]: true,\n    },\n  }\n\n  if (role === AUTHORIZER) {\n    ix.authorizations.push(tempId)\n  } else {\n    ix[role] = tempId\n  }\n\n  return ix\n}\n\nexport const makeArgument = arg => ix => {\n  let tempId = uuid()\n  ix.message.arguments.push(tempId)\n\n  ix.arguments[tempId] = JSON.parse(ARG)\n  ix.arguments[tempId].tempId = tempId\n  ix.arguments[tempId].value = arg.value\n  ix.arguments[tempId].asArgument = arg.asArgument\n  ix.arguments[tempId].xform = arg.xform\n  ix.arguments[tempId].resolve = arg.resolve\n  return Ok(ix)\n}\n\nexport const makeUnknown /*                 */ = makeIx(UNKNOWN)\nexport const makeScript /*                  */ = makeIx(SCRIPT)\nexport const makeTransaction /*             */ = makeIx(TRANSACTION)\nexport const makeGetTransactionStatus /*    */ = makeIx(GET_TRANSACTION_STATUS)\nexport const makeGetTransaction /*          */ = makeIx(GET_TRANSACTION)\nexport const makeGetAccount /*              */ = makeIx(GET_ACCOUNT)\nexport const makeGetEvents /*               */ = makeIx(GET_EVENTS)\nexport const makeGetLatestBlock /*          */ = makeIx(GET_LATEST_BLOCK)\nexport const makeGetBlockById /*            */ = makeIx(GET_BLOCK_BY_ID)\nexport const makeGetBlockByHeight /*        */ = makeIx(GET_BLOCK_BY_HEIGHT)\nexport const makePing /*                    */ = makeIx(PING)\nexport const makeGetBlock /*                */ = makeIx(GET_BLOCK)\nexport const makeGetBlockHeader /*          */ = makeIx(GET_BLOCK_HEADER)\nexport const makeGetCollection /*           */ = makeIx(GET_COLLECTION)\n\nconst is = wat => ix => ix.tag === wat\n\nexport const isUnknown /*                 */ = is(UNKNOWN)\nexport const isScript /*                  */ = is(SCRIPT)\nexport const isTransaction /*             */ = is(TRANSACTION)\nexport const isGetTransactionStatus /*    */ = is(GET_TRANSACTION_STATUS)\nexport const isGetTransaction /*          */ = is(GET_TRANSACTION)\nexport const isGetAccount /*              */ = is(GET_ACCOUNT)\nexport const isGetEvents /*               */ = is(GET_EVENTS)\nexport const isGetLatestBlock /*          */ = is(GET_LATEST_BLOCK)\nexport const isGetBlockById /*            */ = is(GET_BLOCK_BY_ID)\nexport const isGetBlockByHeight /*        */ = is(GET_BLOCK_BY_HEIGHT)\nexport const isPing /*                    */ = is(PING)\nexport const isGetBlock /*                */ = is(GET_BLOCK)\nexport const isGetBlockHeader /*          */ = is(GET_BLOCK_HEADER)\nexport const isGetCollection /*           */ = is(GET_COLLECTION)\n\nexport const isOk /*  */ = ix => ix.status === OK\nexport const isBad /* */ = ix => ix.status === BAD\nexport const why /*   */ = ix => ix.reason\n\nexport const isAccount /*  */ = account => account.kind === ACCOUNT\nexport const isParam /*    */ = param => param.kind === PARAM\nexport const isArgument /* */ = argument => argument.kind === ARGUMENT\n\nconst hardMode = ix => {\n  for (let key of Object.keys(ix)) {\n    if (!KEYS.has(key))\n      throw new Error(`\"${key}\" is an invalid root level Interaction property.`)\n  }\n  return ix\n}\n\nconst recPipe = async (ix, fns = []) => {\n  try {\n    ix = hardMode(await ix)\n    if (isBad(ix)) throw new Error(`Interaction Error: ${ix.reason}`)\n    if (!fns.length) return ix\n    const [hd, ...rest] = fns\n    const cur = await hd\n    if (isFn(cur)) return recPipe(cur(ix), rest)\n    if (isNull(cur) || !cur) return recPipe(ix, rest)\n    if (isInteraction(cur)) return recPipe(cur, rest)\n    throw new Error(\"Invalid Interaction Composition\")\n  } catch (e) {\n    throw e\n  }\n}\n\nexport const pipe = (...args) => {\n  const [arg1, arg2] = args\n  if (isArray(arg1) && arg2 == null) return d => pipe(d, arg1)\n  return recPipe(arg1, arg2)\n}\n\nconst identity = v => v\n\nexport const get = (ix, key, fallback) => {\n  return ix.assigns[key] == null ? fallback : ix.assigns[key]\n}\n\nexport const put = (key, value) => ix => {\n  ix.assigns[key] = value\n  return Ok(ix)\n}\n\nexport const update = (key, fn = identity) => ix => {\n  ix.assigns[key] = fn(ix.assigns[key], ix)\n  return Ok(ix)\n}\n\nexport const destroy = key => ix => {\n  delete ix.assigns[key]\n  return Ok(ix)\n}\n","import {pipe, interaction} from \"../interaction/interaction.js\"\n\nexport function build(fns = []) {\n  return pipe(interaction(), fns)\n}\n","import {\n  spawn,\n  send,\n  subscriber,\n  SUBSCRIBE,\n  UNSUBSCRIBE,\n} from \"@onflow/util-actor\"\n\nconst NAME = \"config\"\nconst PUT = \"PUT_CONFIG\"\nconst GET = \"GET_CONFIG\"\nconst UPDATE = \"UPDATE_CONFIG\"\nconst DELETE = \"DELETE_CONFIG\"\nconst WHERE = \"WHERE_CONFIG\"\nconst UPDATED = \"CONFIG/UPDATED\"\n\nconst identity = v => v\n\nconst HANDLERS = {\n  [PUT]: (ctx, _letter, {key, value}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/put.\")\n    ctx.put(key, value)\n    ctx.broadcast(UPDATED, ctx.all())\n  },\n  [GET]: (ctx, letter, {key, fallback}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/get\")\n    letter.reply(ctx.get(key, fallback))\n  },\n  [UPDATE]: (ctx, letter, {key, fn}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/update\")\n    ctx.update(key, fn || identity)\n    ctx.broadcast(UPDATED, ctx.all())\n  },\n  [DELETE]: (ctx, letter, {key}) => {\n    if (key == null) throw new Error(\"Missing 'key' for config/delete\")\n    ctx.delete(key)\n    ctx.broadcast(UPDATED, ctx.all())\n  },\n  [WHERE]: (ctx, letter, {pattern}) => {\n    if (pattern == null) throw new Error(\"Missing 'pattern' for config/where\")\n    letter.reply(ctx.where(pattern))\n  },\n  [SUBSCRIBE]: (ctx, letter) => {\n    ctx.subscribe(letter.from)\n    ctx.send(letter.from, UPDATED, ctx.all())\n  },\n  [UNSUBSCRIBE]: (ctx, letter) => {\n    ctx.unsubscribe(letter.from)\n  },\n}\n\nspawn(HANDLERS, NAME)\n\nfunction put(key, value) {\n  send(NAME, PUT, {key, value})\n  return config()\n}\n\nfunction get(key, fallback) {\n  return send(NAME, GET, {key, fallback}, {expectReply: true, timeout: 10})\n}\n\nfunction update(key, fn = identity) {\n  send(NAME, UPDATE, {key, fn})\n  return config()\n}\n\nfunction _delete(key) {\n  send(NAME, DELETE, {key})\n  return config()\n}\n\nfunction where(pattern) {\n  return send(NAME, WHERE, {pattern}, {expectReply: true, timeout: 10})\n}\n\nfunction subscribe(callback) {\n  return subscriber(NAME, () => spawn(HANDLERS, NAME), callback)\n}\n\nexport function config(values) {\n  if (values != null && typeof values === \"object\") {\n    Object.keys(values).map(d => put(d, values[d]))\n  }\n\n  return {put, get, update, delete: _delete, where, subscribe}\n}\n","const DEFAULT_RESPONSE = `{\n    \"tag\":null,\n    \"transaction\":null,\n    \"transactionStatus\":null,\n    \"transactionId\":null,\n    \"encodedData\":null,\n    \"events\":null,\n    \"account\":null,\n    \"block\":null,\n    \"blockHeader\":null,\n    \"latestBlock\":null,\n    \"collection\":null\n}`\n\nexport const response = () => JSON.parse(DEFAULT_RESPONSE)\n","import {grpc} from \"@improbable-eng/grpc-web\"\nimport {NodeHttpTransport} from \"@improbable-eng/grpc-web-node-http-transport\"\nimport {config} from \"../config\"\n\ngrpc.setDefaultTransport(NodeHttpTransport())\n\nexport async function unary(host, method, request) {\n  const metadataFromConfig = await config().get(\"grpc.metadata\", {})\n  return new Promise((resolve, reject) => {\n    grpc.unary(method, {\n      request: request,\n      host: host,\n      metadata: new grpc.Metadata(metadataFromConfig),\n      onEnd: ({status, statusMessage, message}) => {\n        if (status === grpc.Code.OK) {\n          resolve(message)\n        } else {\n          reject(new Error(statusMessage))\n        }\n      },\n    })\n  })\n}\n","import {AccessAPI, Transaction, SendTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nexport async function sendTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const tx = new Transaction()\n  tx.setScript(scriptBuffer(ix.message.cadence))\n  tx.setGasLimit(ix.message.computeLimit)\n  tx.setReferenceBlockId(\n    ix.message.refBlock ? hexBuffer(ix.message.refBlock) : null\n  )\n  tx.setPayer(addressBuffer(sansPrefix(ix.accounts[ix.payer].addr)))\n  ix.message.arguments.forEach(arg =>\n    tx.addArguments(argumentBuffer(ix.arguments[arg].asArgument))\n  )\n  ix.authorizations\n    .map(tempId => ix.accounts[tempId].addr)\n    .reduce((prev, current) => {\n      return prev.find(item => item === current) ? prev : [...prev, current]\n    }, [])\n    .forEach(addr => tx.addAuthorizers(addressBuffer(sansPrefix(addr))))\n\n  const proposalKey = new Transaction.ProposalKey()\n  proposalKey.setAddress(\n    addressBuffer(sansPrefix(ix.accounts[ix.proposer].addr))\n  )\n  proposalKey.setKeyId(ix.accounts[ix.proposer].keyId)\n  proposalKey.setSequenceNumber(ix.accounts[ix.proposer].sequenceNum)\n\n  tx.setProposalKey(proposalKey)\n\n  // Apply Non Payer Signatures to Payload Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (!acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addPayloadSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying payload signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  // Apply Payer Signatures to Envelope Signatures\n  for (let acct of Object.values(ix.accounts)) {\n    try {\n      if (acct.role.payer && acct.signature != null) {\n        const sig = new Transaction.Signature()\n        sig.setAddress(addressBuffer(sansPrefix(acct.addr)))\n        sig.setKeyId(acct.keyId)\n        sig.setSignature(hexBuffer(acct.signature))\n        tx.addEnvelopeSignatures(sig)\n      }\n    } catch (error) {\n      console.error(\"Trouble applying envelope signature\", {acct, ix})\n      throw error\n    }\n  }\n\n  const req = new SendTransactionRequest()\n  req.setTransaction(tx)\n\n  var t1 = Date.now()\n  const res = await unary(opts.node, AccessAPI.SendTransaction, req)\n  var t2 = Date.now()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionId = u8ToHex(res.getId_asU8())\n\n  if (typeof window !== \"undefined\") {\n    window.dispatchEvent(\n      new CustomEvent(\"FLOW::TX\", {\n        detail: {txId: ret.transactionId, delta: t2 - t1},\n      })\n    )\n  }\n\n  return ret\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransaction(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransaction, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const unwrapKey = key => ({\n    address: u8ToHex(key.getAddress_asU8()),\n    keyId: key.getKeyId(),\n    sequenceNumber: key.getSequenceNumber()\n  })\n\n  const unwrapSignature = sig => ({\n    address: u8ToHex(sig.getAddress_asU8()),\n    keyId: sig.getKeyId(),\n    signature: u8ToHex(sig.getSignature_asU8())\n  })\n\n  let transaction = res.getTransaction()\n  ret.transaction = {\n      script: Buffer.from(transaction.getScript_asU8()).toString(\"utf8\"),\n      args: (transaction.getArgumentsList()).map(arg => JSON.parse(Buffer.from(arg).toString(\"utf8\"))),\n      referenceBlockId: u8ToHex(transaction.getReferenceBlockId_asU8()),\n      gasLimit: transaction.getGasLimit(),\n      proposalKey: unwrapKey(transaction.getProposalKey()),\n      payer: u8ToHex(transaction.getPayer_asU8()),\n      authorizers: (transaction.getAuthorizersList()).map(u8ToHex),\n      payloadSignatures: (transaction.getPayloadSignaturesList()).map(unwrapSignature),\n      envelopeSignatures: (transaction.getEnvelopeSignaturesList()).map(unwrapSignature)\n  }\n\n  return ret\n}\n","import {ExecuteScriptAtLatestBlockRequest, ExecuteScriptAtBlockIDRequest, ExecuteScriptAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst argumentBuffer = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendExecuteScript(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new ExecuteScriptAtBlockIDRequest()\n    \n    req.setBlockId(hexBuffer(ix.block.id))\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockID, req)\n  } else if (ix.block.height) {\n    req = new ExecuteScriptAtBlockHeightRequest()\n\n    req.setBlockHeight(Number(ix.block.height))\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtBlockHeight, req) \n  } else {\n    req = new ExecuteScriptAtLatestBlockRequest()\n\n    const code = Buffer.from(ix.message.cadence, \"utf8\")\n    ix.message.arguments.forEach(arg => req.addArguments(argumentBuffer(ix.arguments[arg].asArgument)))\n    req.setScript(code)\n\n    res = await unary(opts.node, AccessAPI.ExecuteScriptAtLatestBlock, req)\n  }\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.encodedData = JSON.parse(Buffer.from(res.getValue_asU8()).toString(\"utf8\"))\n\n  return ret\n}\n","import {GetAccountAtLatestBlockRequest, GetAccountAtBlockHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst paddedHexBuffer = (hex, pad) =>\n  Buffer.from(hex.padStart(pad * 2, 0), \"hex\")\n\nconst addressBuffer = addr => paddedHexBuffer(addr, 8)\n\nexport async function sendGetAccount(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = ix.block.height ? new GetAccountAtBlockHeightRequest() : new GetAccountAtLatestBlockRequest()\n  if (ix.block.height) req.setBlockHeight(Number(ix.block.height))\n  req.setAddress(addressBuffer(sansPrefix(ix.account.addr)))\n\n  const res = await unary(opts.node, ix.block.height ? AccessAPI.GetAccountAtBlockHeight : AccessAPI.GetAccountAtLatestBlock, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const account = res.getAccount()\n\n  let contractsMap;\n  const contracts = (contractsMap = account.getContractsMap()) ? contractsMap.getEntryList().reduce((acc, contract) => ({\n    ...acc,\n    [contract[0]]: Buffer.from(contract[1] || new UInt8Array()).toString(\"utf8\")\n  }), {}) : {}\n\n  ret.account = {\n    address: withPrefix(u8ToHex(account.getAddress_asU8())),\n    balance: account.getBalance(),\n    code: Buffer.from(account.getCode_asU8() || new UInt8Array()).toString(\"utf8\"),\n    contracts,\n    keys: account.getKeysList().map(publicKey => ({\n      index: publicKey.getIndex(),\n      publicKey: u8ToHex(publicKey.getPublicKey_asU8()),\n      signAlgo: publicKey.getSignAlgo(),\n      hashAlgo: publicKey.getHashAlgo(),\n      weight: publicKey.getWeight(),\n      sequenceNumber: publicKey.getSequenceNumber(),\n      revoked: publicKey.getRevoked(),\n    })),\n  }\n\n  return ret\n}\n","import {GetEventsForHeightRangeRequest, GetEventsForBlockIDsRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetEvents(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n  \n  ix = await ix\n \n  let res\n  const req = ix.events.start ? new GetEventsForHeightRangeRequest() : new GetEventsForBlockIDsRequest()\n  req.setType(ix.events.eventType)\n  \n  if (ix.events.start) {\n    req.setStartHeight(Number(ix.events.start))\n    req.setEndHeight(Number(ix.events.end))\n\n    res = await unary(opts.node, AccessAPI.GetEventsForHeightRange, req)\n  } else {\n    ix.events.blockIds.forEach(id =>\n      req.addBlockIds(hexBuffer(id))\n    )\n\n    res = await unary(opts.node, AccessAPI.GetEventsForBlockIDs, req)\n  }\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  const results = res.getResultsList()\n  ret.events = results.reduce((blocks, result) => {\n    const blockId = u8ToHex(result.getBlockId_asU8())\n    const blockHeight = result.getBlockHeight()\n    const blockTimestamp = result.getBlockTimestamp().toDate().toISOString()\n    const events = result.getEventsList()\n    events.forEach(event => {\n      blocks.push({\n        blockId,\n        blockHeight,\n        blockTimestamp,\n        type: event.getType(),\n        transactionId: u8ToHex(event.getTransactionId_asU8()),\n        transactionIndex: event.getTransactionIndex(),\n        eventIndex: event.getEventIndex(),\n        payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n      })\n    })\n    return blocks\n  }, [])\n\n  return ret\n}\n","import {GetBlockByIDRequest, GetBlockByHeightRequest, GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlock(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new GetBlockByIDRequest()\n    req.setId(hexBuffer(ix.block.id))\n\n    res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n  } else if (ix.block.height) {\n    req = new GetBlockByHeightRequest()\n    req.setHeight(Number(ix.block.height))\n    \n    res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n  } else {\n    req = new GetLatestBlockRequest()\n\n    if (ix.block && ix.block.isSealed) {\n      req.setIsSealed(ix.block.isSealed)\n    }\n\n    res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n  }\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = (block.getSignaturesList()).map(u8ToHex)\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp().toDate().toISOString(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: (collectionGuarantee.getSignaturesList()).map(u8ToHex),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: (blockSeal.getExecutionReceiptSignaturesList()).map(u8ToHex),\n      resultApprovalSignatures: (blockSeal.getResultApprovalSignaturesList()).map(u8ToHex),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetLatestBlockHeaderRequest, GetBlockHeaderByIDRequest, GetBlockHeaderByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlockHeader(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req\n  let res\n  if (ix.block.id) {\n    req = new GetBlockHeaderByIDRequest()\n    req.setId(hexBuffer(ix.block.id))\n\n    res = await unary(opts.node, AccessAPI.GetBlockHeaderByID, req)\n  } else if (ix.block.height) {\n    req = new GetBlockHeaderByHeightRequest()\n    req.setHeight(Number(ix.block.height))\n\n    res = await unary(opts.node, AccessAPI.GetBlockHeaderByHeight, req)\n  } else {\n    req = new GetLatestBlockHeaderRequest()\n\n    if (ix.block && ix.block.isSealed) {\n      req.setIsSealed(ix.block.isSealed)\n    }\n\n    res = await unary(opts.node, AccessAPI.GetLatestBlockHeader, req)\n  }\n\n  const blockHeader = res.getBlock()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.blockHeader = {\n    id: u8ToHex(blockHeader.getId_asU8()),\n    parentId: u8ToHex(blockHeader.getParentId_asU8()),\n    height: blockHeader.getHeight(),\n    timestamp: blockHeader.getTimestamp().toDate().toISOString(),\n  }\n\n  return ret\n}\n","import {GetLatestBlockRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nconst latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/send Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the interaction object is deprecated and will no longer be recognized in future releases of @onflow/send.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/send/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nexport async function sendGetLatestBlock(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetLatestBlockRequest()\n\n  if (ix.latestBlock && ix.latestBlock.isSealed) {\n    req.setIsSealed(ix.latestBlock.isSealed)\n    latestBlockDeprecationNotice()\n  }\n\n  if (ix.block && ix.block.isSealed) {\n    req.setIsSealed(ix.block.isSealed)\n  }\n\n  const res = await unary(opts.node, AccessAPI.GetLatestBlock, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetBlockById(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByIDRequest()\n  req.setId(hexBuffer(ix.block.id))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByID, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetBlockByHeightRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\n\nexport async function sendGetBlockByHeight(ix, opts = {}) {\n  ix = await ix\n\n  const req = new GetBlockByHeightRequest()\n  req.setHeight(Number(ix.block.height))\n\n  const res = await unary(opts.node, AccessAPI.GetBlockByHeight, req)\n\n  const block = res.getBlock()\n\n  const collectionGuarantees = block.getCollectionGuaranteesList()\n  const blockSeals = block.getBlockSealsList()\n  const signatures = block.getSignaturesList()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.block = {\n    id: u8ToHex(block.getId_asU8()),\n    parentId: u8ToHex(block.getParentId_asU8()),\n    height: block.getHeight(),\n    timestamp: block.getTimestamp(),\n    collectionGuarantees: collectionGuarantees.map(collectionGuarantee => ({\n      collectionId: u8ToHex(collectionGuarantee.getCollectionId_asU8()),\n      signatures: collectionGuarantee.getSignaturesList(),\n    })),\n    blockSeals: blockSeals.map(blockSeal => ({\n      blockId: u8ToHex(blockSeal.getBlockId_asU8()),\n      executionReceiptId: u8ToHex(blockSeal.getExecutionReceiptId_asU8()),\n      executionReceiptSignatures: blockSeal.getExecutionReceiptSignaturesList(),\n      resultApprovalSignatures: blockSeal.getResultApprovalSignaturesList(),\n    })),\n    signatures: signatures,\n  }\n\n  return ret\n}\n","import {GetCollectionByIDRequest, AccessAPI} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetCollection(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  let req = new GetCollectionByIDRequest()\n  req.setId(hexBuffer(ix.collection.id))\n\n  let res = await unary(opts.node, AccessAPI.GetCollectionByID, req)\n\n  const collection = res.getCollection()\n\n  const ret = response()\n  ret.tag = ix.tag\n  ret.collection = {\n    id: u8ToHex(collection.getId_asU8()),\n    transactionIds: (collection.getTransactionIdsList()).map(u8ToHex)\n  }\n\n  return ret\n}\n","import {\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isScript,\n  isGetAccount,\n  isGetEvents,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetLatestBlock,\n  isGetBlockById,\n  isGetBlockByHeight,\n  isPing,\n  isGetCollection,\n} from \"../interaction/interaction.js\"\nimport {sendTransaction} from \"./send-transaction.js\"\nimport {sendGetTransactionStatus} from \"./send-get-transaction-status.js\"\nimport {sendGetTransaction} from \"./send-get-transaction.js\"\nimport {sendExecuteScript} from \"./send-execute-script.js\"\nimport {sendGetAccount} from \"./send-get-account.js\"\nimport {sendGetEvents} from \"./send-get-events.js\"\nimport {sendGetBlock} from \"./send-get-block.js\"\nimport {sendGetBlockHeader} from \"./send-get-block-header.js\"\nimport {sendGetLatestBlock} from \"./send-get-latest-block.js\"\nimport {sendGetBlockById} from \"./send-get-block-by-id.js\"\nimport {sendGetBlockByHeight} from \"./send-get-block-by-height.js\"\nimport {sendGetCollection} from \"./send-get-collection.js\"\nimport {sendPing} from \"./send-ping.js\"\nimport {config} from \"../config\"\n\nexport const send = async (ix, opts = {}) => {\n  opts.node = opts.node || (await config().get(\"accessNode.api\"))\n  ix = await ix\n\n  // prettier-ignore\n  switch (true) {\n    case isTransaction(ix):\n      return opts.sendTransaction ? opts.sendTransaction(ix, opts) : sendTransaction(ix, opts)\n    case isGetTransactionStatus(ix):\n      return opts.sendGetTransactionStatus ? opts.sendGetTransactionStatus(ix, opts) : sendGetTransactionStatus(ix, opts)\n    case isGetTransaction(ix):\n      return opts.sendGetTransaction ? opts.sendGetTransaction(ix, opts) : sendGetTransaction(ix, opts)\n    case isScript(ix):\n      return opts.sendExecuteScript ? opts.sendExecuteScript(ix, opts) : sendExecuteScript(ix, opts)\n    case isGetAccount(ix):\n      return opts.sendGetAccount ? opts.sendGetAccount(ix, opts) : sendGetAccount(ix, opts)\n    case isGetEvents(ix):\n      return opts.sendGetEvents ? opts.sendGetEvents(ix, opts) : sendGetEvents(ix, opts)\n    case isGetLatestBlock(ix):\n      return opts.sendGetLatestBlock ? opts.sendGetLatestBlock(ix, opts) : sendGetLatestBlock(ix,  opts)\n    case isGetBlock(ix):\n      return opts.sendGetBlock ? opts.sendGetBlock(ix, opts) : sendGetBlock(ix, opts)\n    case isGetBlockHeader(ix):\n      return opts.sendGetBlockHeader ? opts.sendGetBlockHeader(ix, opts) : sendGetBlockHeader(ix, opts)\n    case isGetBlockById(ix):\n      return opts.sendGetBlockById ? opts.sendGetBlockById(ix, opts) : sendGetBlockById(ix, opts)\n    case isGetBlockByHeight(ix):\n      return opts.sendGetBlockByHeight ? opts.sendGetBlockByHeight(ix, opts) : sendGetBlockByHeight(ix, opts)\n    case isGetCollection(ix):\n      return opts.sendGetCollection ? opts.sendGetCollection(ix, opts) : sendGetCollection(ix, opts)\n    case isPing(ix):\n      return opts.sendPing ? opts.sendPing(ix, opts) : sendPing(ix, opts)\n    default:\n      return ix\n  }\n}\n","import {AccessAPI, GetTransactionRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nconst u8ToHex = u8 => Buffer.from(u8).toString(\"hex\")\nconst hexBuffer = hex => Buffer.from(hex, \"hex\")\n\nexport async function sendGetTransactionStatus(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new GetTransactionRequest()\n  req.setId(hexBuffer(ix.transaction.id))\n\n  const res = await unary(opts.node, AccessAPI.GetTransactionResult, req)\n\n  let events = res.getEventsList()\n\n  let ret = response()\n  ret.tag = ix.tag\n  ret.transactionStatus = {\n    status: res.getStatus(),\n    statusCode: res.getStatusCode(),\n    errorMessage: res.getErrorMessage(),\n    events: events.map(event => ({\n      type: event.getType(),\n      transactionId: u8ToHex(event.getTransactionId_asU8()),\n      transactionIndex: event.getTransactionIndex(),\n      eventIndex: event.getEventIndex(),\n      payload: JSON.parse(Buffer.from(event.getPayload_asU8()).toString(\"utf8\")),\n    })),\n  }\n\n  return ret\n}\n","import {AccessAPI, PingRequest} from \"@onflow/protobuf\"\nimport {response} from \"../response/response.js\"\nimport {unary as defaultUnary} from \"./unary\"\n\nexport async function sendPing(ix, opts = {}) {\n  const unary = opts.unary || defaultUnary\n\n  ix = await ix\n\n  const req = new PingRequest()\n\n  const res = await unary(opts.node, AccessAPI.Ping, req)\n\n  let ret = response()\n  ret.tag = ix.tag\n\n  return ret\n}\n","import {pipe, Ok, makeGetBlock} from \"../interaction/interaction.js\"\n\nexport function getBlock(isSealed = null) {\n  return pipe([\n    makeGetBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetAccount, Ok} from \"../interaction/interaction.js\"\nimport {sansPrefix} from \"@onflow/util-address\"\n\nexport function getAccount(addr) {\n  return pipe([\n    makeGetAccount,\n    ix => {\n      ix.account.addr = sansPrefix(addr)\n      return Ok(ix)\n    }\n  ])\n}\n","const latestBlockDeprecationNotice = () => {\n  console.error(\n    `\n          %c@onflow/decode Deprecation Notice\n          ========================\n\n          Operating upon data of the latestBlock field of the response object is deprecated and will no longer be recognized in future releases of @onflow/decode.\n          Find out more here: https://github.com/onflow/flow-js-sdk/blob/master/packages/decode/WARNINGS.md#0001-Deprecating-latestBlock-field\n\n          =======================\n        `\n      .replace(/\\n\\s+/g, \"\\n\")\n      .trim(),\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst decodeNumber = async (num, _, stack) => {\n  try {\n    return Number(num)\n  } catch (e) {\n    throw new Error(`Decode Number Error : ${stack.join(\".\")}`)\n  }\n}\n\nconst decodeImplicit = async (i) => i\n\nconst decodeVoid = async () => null\n\nconst decodeOptional = async (optional, decoders, stack) =>\n  optional ? await recurseDecode(optional, decoders, stack) : null\n\nconst decodeReference = async (v) => ({address: v.address, type: v.type})\n\nconst decodeArray = async (array, decoders, stack) =>\n  await Promise.all(\n    array.map(\n      (v) =>\n        new Promise(async (res) =>\n          res(await recurseDecode(v, decoders, [...stack, v.type]))\n        )\n    )\n  )\n\nconst decodeDictionary = async (dictionary, decoders, stack) =>\n  await dictionary.reduce(async (acc, v) => {\n    acc = await acc\n    acc[\n      await recurseDecode(v.key, decoders, [...stack, v.key])\n    ] = await recurseDecode(v.value, decoders, [...stack, v.key])\n    return acc\n  }, Promise.resolve({}))\n\nconst decodeComposite = async (composite, decoders, stack) => {\n  const decoded = await composite.fields.reduce(async (acc, v) => {\n    acc = await acc\n    acc[v.name] = await recurseDecode(v.value, decoders, [...stack, v.name])\n    return acc\n  }, Promise.resolve({}))\n  const decoder = composite.id && decoderLookup(decoders, composite.id)\n  return decoder ? await decoder(decoded) : decoded\n}\n\nconst defaultDecoders = {\n  UInt: decodeNumber,\n  Int: decodeNumber,\n  UInt8: decodeNumber,\n  Int8: decodeNumber,\n  UInt16: decodeNumber,\n  Int16: decodeNumber,\n  UInt32: decodeNumber,\n  Int32: decodeNumber,\n  UInt64: decodeNumber,\n  Int64: decodeNumber,\n  UInt128: decodeNumber,\n  Int128: decodeNumber,\n  UInt256: decodeNumber,\n  Int256: decodeNumber,\n  Word8: decodeNumber,\n  Word16: decodeNumber,\n  Word32: decodeNumber,\n  Word64: decodeNumber,\n  UFix64: decodeImplicit,\n  Fix64: decodeImplicit,\n  String: decodeImplicit,\n  Character: decodeImplicit,\n  Bool: decodeImplicit,\n  Address: decodeImplicit,\n  Void: decodeVoid,\n  Optional: decodeOptional,\n  Reference: decodeReference,\n  Array: decodeArray,\n  Dictionary: decodeDictionary,\n  Event: decodeComposite,\n  Resource: decodeComposite,\n  Struct: decodeComposite,\n}\n\nconst decoderLookup = (decoders, lookup) => {\n  const found = Object.keys(decoders).find((decoder) => {\n    if (/^\\/.*\\/$/.test(decoder)) {\n      const reg = new RegExp(decoder.substring(1, decoder.length - 1))\n      return reg.test(lookup)\n    }\n    return decoder === lookup\n  })\n  return lookup && found && decoders[found]\n}\n\nconst recurseDecode = async (decodeInstructions, decoders, stack) => {\n  let decoder = decoderLookup(decoders, decodeInstructions.type)\n  if (!decoder)\n    throw new Error(\n      `Undefined Decoder Error: ${decodeInstructions.type}@${stack.join(\".\")}`\n    )\n  return await decoder(decodeInstructions.value, decoders, stack)\n}\n\nexport const decode = async (\n  decodeInstructions,\n  customDecoders = {},\n  stack = []\n) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n  return await recurseDecode(decodeInstructions, decoders, stack)\n}\n\nexport const decodeResponse = async (response, customDecoders = {}) => {\n  let decoders = {...defaultDecoders, ...customDecoders}\n\n  if (response.encodedData) {\n    return await decode(response.encodedData, decoders)\n  } else if (response.transactionStatus) {\n    return {\n      ...response.transactionStatus,\n      events: await Promise.all(\n        response.transactionStatus.events.map(async function decodeEvents(e) {\n          return {\n            type: e.type,\n            transactionId: e.transactionId,\n            transactionIndex: e.transactionIndex,\n            eventIndex: e.eventIndex,\n            data: await decode(e.payload, decoders),\n          }\n        })\n      ),\n    }\n  } else if (response.transaction) {\n    return response.transaction\n  } else if (response.events) {\n    return await Promise.all(\n      response.events.map(async function decodeEvents(e) {\n        return {\n          blockId: e.blockId,\n          blockHeight: e.blockHeight,\n          blockTimestamp: e.blockTimestamp,\n          type: e.type,\n          transactionId: e.transactionId,\n          transactionIndex: e.transactionIndex,\n          eventIndex: e.eventIndex,\n          data: await decode(e.payload, decoders),\n        }\n      })\n    )\n  } else if (response.account) {\n    return response.account\n  } else if (response.block) {\n    return response.block\n  } else if (response.blockHeader) {\n    return response.blockHeader\n  } else if (response.latestBlock) {\n    latestBlockDeprecationNotice()\n    return response.latestBlock\n  } else if (response.transactionId) {\n    return response.transactionId\n  } else if (response.collection) {\n    return response.collection\n  }\n\n  return null\n}\n","import {isTransaction, Ok, interaction, pipe} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\n\nasync function getRefId (opts) {\n  var ix\n  ix = await pipe(interaction(), [getBlock()])\n  ix = await send(ix, opts)\n  ix = await decodeResponse(ix)\n  return ix.id\n}\n\nexport function resolveRefBlockId(opts) {\n  return async ix => {\n    if (!isTransaction(ix)) return Ok(ix)\n    if (ix.message.refBlock) return Ok(ix)\n\n    ix.message.refBlock = await getRefId(opts)\n\n    return Ok(ix)\n  }\n}\n","import {isTransaction, isScript, get} from \"../interaction/interaction.js\"\nimport {invariant} from \"@onflow/util-invariant\"\nimport {config} from \"../config\"\n\nconst isFn = v => typeof v === \"function\"\nconst isString = v => typeof v === \"string\"\n\nexport async function resolveCadence(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    var cadence = get(ix, \"ix.cadence\")\n    invariant(\n      isFn(cadence) || isString(cadence),\n      \"Cadence needs to be a function or a string.\"\n    )\n    if (isFn(cadence)) cadence = await cadence({})\n    invariant(isString(cadence), \"Cadence needs to be a string at this point.\")\n    ix.message.cadence = await config()\n      .where(/^0x/)\n      .then(d =>\n        Object.entries(d).reduce(\n          (cadence, [key, value]) => cadence.replace(key, value),\n          cadence\n        )\n      )\n  }\n\n  return ix\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction, isScript} from \"../interaction/interaction.js\"\n\nconst isFn = v => typeof v === \"function\"\n\nfunction cast(arg) {\n  // prettier-ignore\n  invariant(typeof arg.xform != null, `No type specified for argument: ${arg.value}`)\n\n  if (isFn(arg.xform)) return arg.xform(arg.value)\n  if (isFn(arg.xform.asArgument)) return arg.xform.asArgument(arg.value)\n\n  // prettier-ignore\n  invariant(false, `Invalid Argument`, arg)\n}\n\nexport async function resolveArguments(ix) {\n  if (isTransaction(ix) || isScript(ix)) {\n    for (let [id, arg] of Object.entries(ix.arguments)) {\n      ix.arguments[id].asArgument = cast(arg)\n    }\n  }\n\n  return ix\n}\n","import { encode } from '@onflow/rlp';\n\nexport const encodeTransactionPayload = tx => prependTransactionDomainTag(rlpEncode(preparePayload(tx)))\nexport const encodeTransactionEnvelope = tx => prependTransactionDomainTag(rlpEncode(prepareEnvelope(tx)))\n\nconst rightPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padEnd(pad * 2, 0), \"hex\")\n\nconst leftPaddedHexBuffer = (value, pad) =>\n  Buffer.from(value.padStart(pad * 2, 0), \"hex\")\n\nconst TRANSACTION_DOMAIN_TAG = rightPaddedHexBuffer(Buffer.from(\"FLOW-V0.0-transaction\").toString(\"hex\"), 32).toString(\"hex\")\nconst prependTransactionDomainTag = tx => TRANSACTION_DOMAIN_TAG + tx\n\nconst addressBuffer = addr => leftPaddedHexBuffer(addr, 8)\n\nconst blockBuffer = block => leftPaddedHexBuffer(block, 32)\n\nconst argumentToString = arg => Buffer.from(JSON.stringify(arg), \"utf8\")\n\nconst scriptBuffer = script => Buffer.from(script, \"utf8\")\nconst signatureBuffer = signature => Buffer.from(signature, \"hex\")\n\nconst rlpEncode = v => {\n  return encode(v).toString(\"hex\")\n}\n\nconst preparePayload = tx => {\n  validatePayload(tx)\n\n  return [\n    scriptBuffer(tx.cadence),\n    tx.arguments.map(argumentToString),\n    blockBuffer(tx.refBlock),\n    tx.computeLimit,\n    addressBuffer(tx.proposalKey.address),\n    tx.proposalKey.keyId,\n    tx.proposalKey.sequenceNum,\n    addressBuffer(tx.payer),\n    tx.authorizers.map(addressBuffer),\n  ]\n}\n\nconst prepareEnvelope = tx => {\n  validateEnvelope(tx)\n\n  return [preparePayload(tx), preparePayloadSignatures(tx)]\n}\n\nconst preparePayloadSignatures = tx => {\n  const signers = collectSigners(tx)\n\n  return tx.payloadSigs\n    .map(sig => {\n      return {\n        signerIndex: signers.get(sig.address),\n        keyId: sig.keyId,\n        sig: sig.sig,\n      }\n    })\n    .sort((a, b) => {\n      if (a.signerIndex > b.signerIndex) return 1\n      if (a.signerIndex < b.signerIndex) return -1\n\n      if (a.keyId > b.keyId) return 1\n      if (a.keyId < b.keyId) return -1\n    })\n    .map(sig => {\n      return [sig.signerIndex, sig.keyId, signatureBuffer(sig.sig)]\n    })\n}\n\nconst collectSigners = tx => {\n  const signers = new Map()\n  let i = 0\n\n  const addSigner = addr => {\n    if (!signers.has(addr)) {\n      signers.set(addr, i)\n      i++\n    }\n  }\n\n  addSigner(tx.proposalKey.address)\n  addSigner(tx.payer)\n  tx.authorizers.forEach(addSigner)\n\n  return signers\n}\n\nconst validatePayload = tx => {\n  payloadFields.forEach(field => checkField(tx, field))\n  proposalKeyFields.forEach(field =>\n    checkField(tx.proposalKey, field, \"proposalKey\")\n  )\n}\n\nconst validateEnvelope = tx => {\n  envelopeFields.forEach(field => checkField(tx, field))\n  tx.payloadSigs.forEach((sig, index) => {\n    payloadSigFields.forEach(field =>\n      checkField(sig, field, \"payloadSigs\", index)\n    )\n  })\n}\n\nconst isNumber = v => typeof v === \"number\"\nconst isString = v => typeof v === \"string\"\nconst isObject = v => v !== null && typeof v === \"object\"\nconst isArray = v => isObject(v) && v instanceof Array\n\nconst payloadFields = [\n  {name: \"cadence\", check: isString},\n  {name: \"arguments\", check: isArray},\n  {name: \"refBlock\", check: isString, defaultVal: \"0\"},\n  {name: \"computeLimit\", check: isNumber},\n  {name: \"proposalKey\", check: isObject},\n  {name: \"payer\", check: isString},\n  {name: \"authorizers\", check: isArray},\n]\n\nconst proposalKeyFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sequenceNum\", check: isNumber},\n]\n\nconst envelopeFields = [{name: \"payloadSigs\", check: isArray}]\n\nconst payloadSigFields = [\n  {name: \"address\", check: isString},\n  {name: \"keyId\", check: isNumber},\n  {name: \"sig\", check: isString},\n]\n\nconst checkField = (obj, field, base, index) => {\n  const {name, check, defaultVal} = field\n  if (obj[name] == null && defaultVal != null) obj[name] = defaultVal\n  if (obj[name] == null) throw missingFieldError(name, base, index)\n  if (!check(obj[name])) throw invalidFieldError(name, base, index)\n}\n\nconst printFieldName = (field, base, index) => {\n  if (!!base)\n    return index == null ? `${base}.${field}` : `${base}.${index}.${field}`\n  return field\n}\n\nconst missingFieldError = (field, base, index) =>\n  new Error(`Missing field ${printFieldName(field, base, index)}`)\nconst invalidFieldError = (field, base, index) =>\n  new Error(`Invalid field ${printFieldName(field, base, index)}`)\n","import {isTransaction} from \"../interaction/interaction.js\"\nimport {sansPrefix, withPrefix} from \"@onflow/util-address\"\nimport {\n  encodeTransactionPayload as encodeInsideMessage,\n  encodeTransactionEnvelope as encodeOutsideMessage,\n} from \"../encode/encode.js\"\n\nexport async function resolveSignatures(ix) {\n  if (isTransaction(ix)) {\n    try {\n      let insideSigners = findInsideSigners(ix)\n      const insidePayload = encodeInsideMessage(prepForEncoding(ix))\n      await Promise.all(insideSigners.map(fetchSignature(ix, insidePayload)))\n\n      let outsideSigners = findOutsideSigners(ix)\n      const outsidePayload = encodeOutsideMessage({\n        ...prepForEncoding(ix),\n        payloadSigs: insideSigners.map(id => ({\n          address: ix.accounts[id].addr,\n          keyId: ix.accounts[id].keyId,\n          sig: ix.accounts[id].signature,\n        })),\n      })\n      await Promise.all(outsideSigners.map(fetchSignature(ix, outsidePayload)))\n    } catch (error) {\n      console.error(\"Signatures\", error, {ix})\n      throw error\n    }\n  }\n  return ix\n}\n\nexport function findInsideSigners(ix) {\n  // Inside Signers Are: (authorizers + proposer) - payer\n  let inside = new Set(ix.authorizations)\n  inside.add(ix.proposer)\n  inside.delete(ix.payer)\n  return Array.from(inside)\n}\n\nfunction findOutsideSigners(ix) {\n  // Outside Signers Are: (payer)\n  let outside = new Set([ix.payer])\n  return Array.from(outside)\n}\n\nfunction fetchSignature(ix, payload) {\n  return async function innerFetchSignature(id) {\n    const acct = ix.accounts[id]\n    if (acct.signature != null) return\n    const {signature} = await acct.signingFunction(\n      buildSignable(acct, payload, ix)\n    )\n    // if (!acct.role.proposer) {\n    //   ix.accounts[id].keyId = keyId\n    // }\n    ix.accounts[id].signature = signature\n  }\n}\n\nexport const createSignableVoucher = ix => {\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: withPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: withPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => withPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n    payloadSigs: findInsideSigners(ix).map(id => ({\n      address: withPrefix(ix.accounts[id].addr),\n      keyId: ix.accounts[id].keyId,\n      sig: ix.accounts[id].signature,\n    })),\n  }\n}\n\nexport function buildSignable(acct, message, ix) {\n  try {\n    return {\n      f_type: \"Signable\",\n      f_vsn: \"1.0.1\",\n      message,\n      addr: sansPrefix(acct.addr),\n      keyId: acct.keyId,\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildSignable\", error)\n    throw error\n  }\n}\n\nfunction prepForEncoding(ix) {\n  return {\n    cadence: ix.message.cadence,\n    refBlock: ix.message.refBlock || null,\n    computeLimit: ix.message.computeLimit,\n    arguments: ix.message.arguments.map(id => ix.arguments[id].asArgument),\n    proposalKey: {\n      address: sansPrefix(ix.accounts[ix.proposer].addr),\n      keyId: ix.accounts[ix.proposer].keyId,\n      sequenceNum: ix.accounts[ix.proposer].sequenceNum,\n    },\n    payer: sansPrefix(ix.accounts[ix.payer].addr),\n    authorizers: ix.authorizations\n      .map(cid => sansPrefix(ix.accounts[cid].addr))\n      .reduce((prev, current) => {\n        return prev.find(item => item === current) ? prev : [...prev, current]\n      }, []),\n  }\n}\n","import {invariant} from \"@onflow/util-invariant\"\nimport {isTransaction} from \"../interaction/interaction.js\"\nimport {createSignableVoucher} from \"./resolve-signatures\"\n\nconst isFn = v => typeof v === \"function\"\nexport function buildPreSignable(acct, ix) {\n  try {\n    return {\n      f_type: \"PreSignable\",\n      f_vsn: \"1.0.1\",\n      roles: acct.role,\n      cadence: ix.message.cadence,\n      args: ix.message.arguments.map(d => ix.arguments[d].asArgument),\n      data: {},\n      interaction: ix,\n      voucher: createSignableVoucher(ix),\n    }\n  } catch (error) {\n    console.error(\"buildPreSignable\", error)\n    throw error\n  }\n}\n\nasync function collectAccounts(ix, accounts, last, depth = 3) {\n  invariant(depth, \"Account Resolve Recursion Limit Exceeded\", {ix, accounts})\n\n  let authorizations = []\n  for (let ax of accounts) {\n    var old = last || ax\n    if (isFn(ax.resolve)) ax = await ax.resolve(ax, buildPreSignable(ax, ix))\n\n    if (Array.isArray(ax)) {\n      await collectAccounts(ix, ax, old, depth - 1)\n    } else {\n      ix.accounts[ax.tempId] = ix.accounts[ax.tempId] || ax\n      ix.accounts[ax.tempId].role.proposer =\n        ix.accounts[ax.tempId].role.proposer || ax.role.proposer\n      ix.accounts[ax.tempId].role.payer =\n        ix.accounts[ax.tempId].role.payer || ax.role.payer\n      ix.accounts[ax.tempId].role.authorizer =\n        ix.accounts[ax.tempId].role.authorizer || ax.role.authorizer\n\n      if (ix.accounts[ax.tempId].role.proposer && ix.proposer === old.tempId) {\n        ix.proposer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.payer && ix.payer === old.tempId) {\n        ix.payer = ax.tempId\n      }\n\n      if (ix.accounts[ax.tempId].role.authorizer) {\n        if (last) {\n          // do group replacement\n          authorizations = [...authorizations, ax.tempId]\n        } else {\n          // do 1-1 replacement\n          ix.authorizations = ix.authorizations.map(d =>\n            d === old.tempId ? ax.tempId : d\n          )\n        }\n      }\n    }\n    if (old.tempId != ax.tempId) delete ix.accounts[old.tempId]\n  }\n\n  if (last) {\n    // complete (flatmap) group replacement\n    ix.authorizations = ix.authorizations\n      .map(d => (d === last.tempId ? authorizations : d))\n      .reduce(\n        (prev, curr) =>\n          Array.isArray(curr) ? [...prev, ...curr] : [...prev, curr],\n        []\n      )\n  }\n}\n\nexport async function resolveAccounts(ix) {\n  if (isTransaction(ix)) {\n    try {\n      await collectAccounts(ix, Object.values(ix.accounts))\n      await collectAccounts(ix, Object.values(ix.accounts))\n    } catch (error) {\n      console.error(\"=== SAD PANDA ===\\n\\n\", error, \"\\n\\n=== SAD PANDA ===\")\n      throw error\n    }\n  }\n  return ix\n}\n","import { get, pipe, Ok, Bad } from \"../interaction/interaction.js\"\n\nexport async function resolveValidators(ix) {\n  const validators = get(ix, 'ix.validators', [])\n  return pipe(ix, validators.map(cb => ix => cb(ix, { Ok, Bad })))\n}   \n","import {sansPrefix} from \"@onflow/util-address\"\n\nexport async function resolveFinalNormalization(ix) {\n  for (let key of Object.keys(ix.accounts)) {\n    ix.accounts[key].addr = sansPrefix(ix.accounts[key].addr)\n  }\n  return ix\n}\n","import {pipe, isTransaction} from \"../interaction/interaction.js\"\nimport {config} from \"../config\"\nimport {invariant} from \"@onflow/util-invariant\"\n\nimport {send} from \"../send/sdk-send.js\"\nimport {build} from \"../build/build.js\"\nimport {getBlock} from \"../build/build-get-block.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nimport {resolveRefBlockId} from \"./resolve-ref-block-id.js\"\nimport {resolveCadence} from \"./resolve-cadence.js\"\nimport {resolveArguments} from \"./resolve-arguments.js\"\nimport {resolveAccounts} from \"./resolve-accounts.js\"\nimport {resolveSignatures} from \"./resolve-signatures.js\"\nimport {resolveValidators} from \"./resolve-validators.js\"\nimport {resolveFinalNormalization} from \"./resolve-final-normalization.js\"\n\nexport const resolve = pipe([\n  resolveCadence,\n  resolveArguments,\n  resolveAccounts,\n  /* special */ execFetchRef,\n  /* special */ execFetchSequenceNumber,\n  resolveSignatures,\n  resolveFinalNormalization,\n  resolveValidators,\n])\n\nasync function execFetchRef(ix) {\n  if (isTransaction(ix) && ix.message.refBlock == null) {\n    ix.message.refBlock = (await send(build([getBlock()])).then(decode)).id\n  }\n  return ix\n}\n\nasync function execFetchSequenceNumber(ix) {\n  if (isTransaction(ix)) {\n    var acct = Object.values(ix.accounts).find(a => a.role.proposer)\n    invariant(acct, `Transactions require a proposer`)\n    if (acct.sequenceNum == null) {\n      ix.accounts[acct.tempId].sequenceNum = await send(\n        await build([getAccount(acct.addr)])\n      )\n        .then(decode)\n        .then(acct => acct.keys)\n        .then(keys => keys.find(key => key.index === acct.keyId))\n        .then(key => key.sequenceNumber)\n    }\n  }\n  return ix\n}\n","import {interaction, pipe} from \"../interaction/interaction.js\"\nimport {config} from \"../config\"\nimport {resolve as defaultResolve} from \"../resolve/resolve.js\"\nimport {send as defaultSend} from \"./sdk-send.js\"\n\nexport const send = async (args = [], opts = {}) => {\n  const sendFunction = await config().get(\"sdk.send\", opts.send || defaultSend)\n  const resolveFunction = await config().get(\n    \"sdk.resolve\",\n    opts.resolve || defaultResolve\n  )\n  if (Array.isArray(args)) args = pipe(interaction(), args)\n  return sendFunction(await resolveFunction(args), opts)\n}\n","import {decodeResponse} from \"./decode.js\"\nimport {config} from \"../config\"\n\nexport async function decode(response) {\n  const decodersFromConfig = await config().where(/^decoder\\./)\n  const decoders = Object.entries(decodersFromConfig).map(\n    ([pattern, xform]) => {\n      pattern = `/${pattern.replace(/^decoder\\./, \"\")}$/`\n      return [pattern, xform]\n    }\n  )\n\n  return decodeResponse(response, Object.fromEntries(decoders))\n}\n","import {withPrefix, sansPrefix} from \"@onflow/util-address\"\nimport {\n    encodeTransactionPayload,\n    encodeTransactionEnvelope,\n} from \"../encode/encode.js\"\n\nconst findPayloadSigners = (voucher) => {\n    // Payload Signers Are: (authorizers + proposer) - payer\n    let payload = new Set(voucher.authorizers)\n    payload.add(voucher.proposalKey.address)\n    payload.delete(voucher.payer)\n    return Array.from(payload).map(withPrefix)\n}\n\nconst findEnvelopeSigners = (voucher) => {\n    // Envelope Signers Are: (payer)\n    let envelope = new Set([voucher.payer])\n    return Array.from(envelope).map(withPrefix)\n}\n\nexport class UnableToDetermineMessageEncodingTypeForSignerAddress extends Error {\n    constructor(signerAddress) {\n      const msg = `\n        Encode Message From Signable Error: Unable to determine message encoding for signer addresss: ${signerAddress}. \n        Please ensure the address: ${signerAddress} is intended to sign the given transaction as specified by the transaction signable.\n      `.trim()\n      super(msg)\n      this.name = \"Unable To Determine Message Encoding For Signer Addresss\"\n    }\n}\n\nexport const encodeMessageFromSignable = (signable, signerAddress) => {\n    let payloadSigners = findPayloadSigners(signable.voucher)\n    let envelopeSigners = findEnvelopeSigners(signable.voucher)\n\n    const isPayloadSigner = payloadSigners.includes(withPrefix(signerAddress))\n    const isEnvelopeSigner = envelopeSigners.includes(withPrefix(signerAddress))\n\n    if (!isPayloadSigner && !isEnvelopeSigner) {\n        throw new UnableToDetermineMessageEncodingTypeForSignerAddress(signerAddress)\n    }\n\n    const message = {\n        cadence: signable.voucher.cadence,\n        refBlock: signable.voucher.refBlock,\n        computeLimit: signable.voucher.computeLimit,\n        arguments: signable.voucher.arguments,\n        proposalKey: {\n            ...signable.voucher.proposalKey,\n            address: sansPrefix(signable.voucher.proposalKey.address)\n        },\n        payer: sansPrefix(signable.voucher.payer),\n        authorizers: signable.voucher.authorizers.map(sansPrefix),\n        payloadSigs: signable.voucher.payloadSigs.map(ps => ({\n            ...ps,\n            address: sansPrefix(ps.address)\n        }))\n    }\n\n    return isPayloadSigner ? encodeTransactionPayload(message) : encodeTransactionEnvelope(message)\n}\n\n","import {send} from \"../send/send.js\"\nimport {getBlock} from \"../build/build-get-block\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\n\nexport function latestBlock(...args) {\n  let opts = args[1] || (typeof args[0] === \"object\" ? args[0] : undefined)\n  let isSealed = typeof args[0] === \"boolean\" ? args[0] : undefined\n\n  if (typeof args[0] === \"object\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing options as the first arguement to the latestBlock function has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0007-deprecate-opts-first-arg-latest-block\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )\n  }\n\n  return send([getBlock(isSealed)], opts).then(decode)\n}\n","import {getAccount} from \"../build/build-get-account.js\"\nimport {decodeResponse as decode} from \"../decode/decode.js\"\nimport {send} from \"../send/send.js\"\n\nexport function account(address, opts) {\n  return send([getAccount(address)], opts).then(decode)\n}\n","import {pipe, prepAccount, AUTHORIZER} from \"../interaction/interaction.js\"\n\nexport function authorizations(ax = []) {\n  return pipe(\n    ax.map(authz => {\n      return prepAccount(authz, {role: AUTHORIZER})\n    })\n  )\n}\n\nexport function authorization(addr, signingFunction, keyId, sequenceNum) {\n  return {addr, signingFunction, keyId, sequenceNum}\n}\n","import {update} from \"../interaction/interaction.js\"\n\nexport function validator(cb) {\n    return update('ix.validators', validators => \n        Array.isArray(validators) ? validators.push(cb) : [cb]\n    )\n}\n","import {pipe} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockHeight(height) {\n  return pipe([\n    ix => {\n      ix.block.height = height\n      return ix\n    },\n    validator(ix => {\n      if (typeof ix.block.isSealed === \"boolean\")\n        throw new Error(\"Unable to specify both block height and isSealed.\")\n      if (ix.block.id)\n        throw new Error(\"Unable to specify both block height and block id.\")\n      return ix\n    }),\n  ])\n}\n","import {isGetAccount, pipe, Ok} from \"../interaction/interaction.js\"\nimport {validator} from \"./build-validator.js\"\n\nexport function atBlockId(id) {\n  return pipe([\n    ix => {\n      ix.block.id = id\n      return Ok(ix)\n    },\n    validator((ix, {Ok, Bad}) => {\n      if (isGetAccount(ix)) return Bad(ix, \"Unable to specify a block id with a Get Account interaction.\")\n      if (typeof ix.block.isSealed === \"boolean\") return Bad(ix, \"Unable to specify both block id and isSealed.\")\n      if (ix.block.height) return Bad(ix, \"Unable to specify both block id and block height.\")\n      return Ok(ix)\n    }),\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEvents(eventType, start, end) {\n\n  if (typeof start !== \"undefined\" || typeof end !== \"undefined\") {\n    console.warn(\n      `\n      %cFCL/SDK Deprecation Notice\n      ============================\n  \n      Passing a start and end into getEnvents has been deprecated and will not be supported in future versions of the Flow JS-SDK/FCL.\n      You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0005-deprecate-start-end-get-events-builder\n  \n      ============================\n    `,\n      \"font-weight:bold;font-family:monospace;\"\n    )  \n  }\n\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockHeightRange(eventType, start, end) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.start = start\n      ix.events.end = end\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetEvents} from \"../interaction/interaction.js\"\n\nexport function getEventsAtBlockIds(eventType, blockIds = []) {\n  return pipe([\n    makeGetEvents,\n    ix => {\n      ix.events.eventType = eventType\n      ix.events.blockIds = blockIds\n      return Ok(ix)\n    },\n  ])\n}\n","import {pipe, Ok, makeGetBlockHeader} from \"../interaction/interaction.js\"\n\nexport function getBlockHeader(isSealed = null) {\n  return pipe([\n    makeGetBlockHeader,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetLatestBlock} from \"../interaction/interaction.js\"\n\nexport function getLatestBlock(isSealed = false) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getLatestBlock builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0006-deprecate-get-latest-block-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetLatestBlock,\n    ix => {\n      ix.block.isSealed = isSealed\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockById} from \"../interaction/interaction.js\"\n\nexport function getBlockById(id) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockById builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0004-deprecate-get-block-by-id-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockById,\n    ix => {\n      ix.block.ids = [id]\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetBlockByHeight} from \"../interaction/interaction.js\"\n\nexport function getBlockByHeight(height) {\n\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n\n    The getBlockByHeight builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0003-deprecate-get-block-by-height-builder\n\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n\n  return pipe([\n    makeGetBlockByHeight,\n    ix => {\n      ix.block.height = height\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, makeGetCollection} from \"../interaction/interaction.js\"\n\nexport function getCollection(id = null) {\n  return pipe([\n    makeGetCollection,\n    ix => {\n      ix.collection.id = id\n      return ix\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransactionStatus} from \"../interaction/interaction.js\"\n\nexport function getTransactionStatus(transactionId) {\n  return pipe([\n    makeGetTransactionStatus,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, makeGetTransaction} from \"../interaction/interaction.js\"\n\nexport function getTransaction(transactionId) {\n  return pipe([\n    makeGetTransaction,\n    ix => {\n      ix.transaction.id = transactionId\n      return Ok(ix)\n    }\n  ])\n}\n","export function limit(computeLimit) {\n  return ix => {\n    ix.message.computeLimit = computeLimit\n    return ix\n  }\n}\n","import {pipe, makeArgument} from \"../interaction/interaction.js\"\n\nexport function args(ax = []) {\n  return pipe(ax.map(makeArgument))\n}\n\nexport function arg(value, xform) {\n  return {value, xform}\n}\n","import {prepAccount, PROPOSER} from \"../interaction/interaction.js\"\n\nexport async function proposer(authz) {\n  return prepAccount(authz, {role: PROPOSER})\n}\n","import {prepAccount, PAYER} from \"../interaction/interaction.js\"\n\nexport async function payer(authz) {\n  return prepAccount(authz, {role: PAYER})\n}\n","import {makePing} from \"../interaction/interaction.js\"\n\nexport function ping() {\n  return makePing\n}\n","import {pipe, Ok} from \"../interaction/interaction.js\"\n\nexport function ref(refBlock) {\n  return pipe([\n    ix => {\n      ix.message.refBlock = refBlock\n      return Ok(ix)\n    }\n  ])\n}\n","import {pipe, Ok, put, makeScript} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nexport function script(...args) {\n  return pipe([\n    makeScript,\n    put(\"ix.cadence\", template(...args))\n  ])\n}\n","import {pipe, put, Ok, makeTransaction} from \"../interaction/interaction.js\"\nimport {template} from \"@onflow/util-template\"\n\nconst DEFAULT_COMPUTE_LIMIT = 10\nconst DEFAULT_SCRIPT_ACCOUNTS = []\nconst DEFUALT_REF = null\n\nexport function transaction(...args) {\n  return pipe([\n    makeTransaction,\n    put(\"ix.cadence\", template(...args)),\n    ix => {\n      ix.message.computeLimit = ix.message.computeLimit || DEFAULT_COMPUTE_LIMIT\n      ix.message.refBlock = ix.message.refBlock || DEFUALT_REF\n      ix.authorizations = ix.authorizations || DEFAULT_SCRIPT_ACCOUNTS\n      return Ok(ix)\n    },\n  ])\n}\n","import { Ok, Bad } from \"../interaction/interaction.js\"\n\nexport function invariant(...args) {\n  if (args.length > 1) {\n    const [predicate, message] = args\n    return invariant((ix, { Ok, Bad }) => {\n      return predicate ? Ok(ix) : Bad(ix, message)\n    })\n  }\n  const [fn] = args\n  return ix => fn(ix, {Ok, Bad})\n}\n","import {isTransaction, Ok} from \"../interaction/interaction.js\"\nimport {send} from \"../send/sdk-send.js\"\nimport {decodeResponse} from \"../decode/decode.js\"\nimport {getAccount} from \"../build/build-get-account.js\"\nimport {build} from \"../build/build.js\"\n\nexport const resolveProposerSequenceNumber = ({ node }) => async (ix) => {\n  if (!(isTransaction(ix))) return Ok(ix)\n  if (ix.accounts[ix.proposer].sequenceNum) return Ok(ix)\n\n  const response = await send(await build([\n    getAccount(ix.accounts[ix.proposer].addr)\n  ]), { node })\n  const decoded = await decodeResponse(response)\n\n  ix.accounts[ix.proposer].sequenceNum = decoded.keys[ix.accounts[ix.proposer].keyId].sequenceNumber\n\n  return Ok(ix)\n}\n","export const VERSION = \"0.0.50\"\n","import {deprecate} from \"./utils\"\n// Base\nexport {build} from \"./build/build.js\"\nexport {resolve} from \"./resolve/resolve.js\"\nexport {send} from \"./send/send.js\"\nexport {decode} from \"./decode/sdk-decode.js\"\n\n// Utils\nexport {\n  interaction,\n  isOk,\n  isBad,\n  why,\n  pipe,\n  get,\n  put,\n  update,\n  destroy,\n  isUnknown,\n  isScript,\n  isTransaction,\n  isGetTransaction,\n  isGetTransactionStatus,\n  isGetAccount,\n  isGetEvents,\n  isGetLatestBlock,\n  isGetBlockById,\n  isGetBlockByHeight,\n  isPing,\n  isGetBlock,\n  isGetBlockHeader,\n  isGetCollection,\n} from \"./interaction/interaction.js\"\nexport {createSignableVoucher} from \"./resolve/resolve-signatures\"\nexport {encodeMessageFromSignable} from \"./wallet-utils/encode-signable.js\"\nexport {template as cadence} from \"@onflow/util-template\"\nexport {template as cdc} from \"@onflow/util-template\"\n\n// Helpers\nexport {latestBlock} from \"./latest-block/latest-block.js\"\nexport {account} from \"./account/account.js\"\n\n// Builders\nexport {authorizations, authorization} from \"./build/build-authorizations.js\"\nexport {atBlockHeight} from \"./build/build-at-block-height.js\"\nexport {atBlockId} from \"./build/build-at-block-id.js\"\nexport {getAccount} from \"./build/build-get-account.js\"\nexport {getEvents} from \"./build/build-get-events.js\"\nexport {getEventsAtBlockHeightRange} from \"./build/build-get-events-at-block-height-range.js\"\nexport {getEventsAtBlockIds} from \"./build/build-get-events-at-block-ids\"\nexport {getBlock} from \"./build/build-get-block.js\"\nexport {getBlockHeader} from \"./build/build-get-block-header.js\"\nexport {getLatestBlock} from \"./build/build-get-latest-block.js\"\nexport {getBlockById} from \"./build/build-get-block-by-id.js\"\nexport {getBlockByHeight} from \"./build/build-get-block-by-height\"\nexport {getCollection} from \"./build/build-get-collection\"\nexport {getTransactionStatus} from \"./build/build-get-transaction-status.js\"\nexport {getTransaction} from \"./build/build-get-transaction.js\"\nexport {limit} from \"./build/build-limit.js\"\nexport {args, arg} from \"./build/build-arguments.js\"\nexport {proposer} from \"./build/build-proposer.js\"\nexport {payer} from \"./build/build-payer.js\"\nexport {ping} from \"./build/build-ping.js\"\nexport {ref} from \"./build/build-ref.js\"\nexport {script} from \"./build/build-script.js\"\nexport {transaction} from \"./build/build-transaction.js\"\nexport {validator} from \"./build/build-validator.js\"\nexport {invariant} from \"./build/build-invariant.js\"\n\n// Resolvers\nexport {resolveCadence} from \"./resolve/resolve-cadence.js\"\nexport {resolveFinalNormalization} from \"./resolve/resolve-final-normalization\"\nexport {resolveProposerSequenceNumber} from \"./resolve/resolve-proposer-sequence-number\"\nexport {resolveArguments} from \"./resolve/resolve-arguments.js\"\nexport {resolveAccounts} from \"./resolve/resolve-accounts.js\"\nexport {resolveSignatures} from \"./resolve/resolve-signatures.js\"\nexport {resolveValidators} from \"./resolve/resolve-validators.js\"\nexport {resolveRefBlockId} from \"./resolve/resolve-ref-block-id.js\"\n\n// Config\nexport {config} from \"./config\"\n\n// Deprecated\nexport const params = params =>\n  deprecate.error({\n    name: \"params\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\nexport const param = params =>\n  deprecate.warn({\n    name: \"param\",\n    transitionsPath:\n      \"https://github.com/onflow/flow-js-sdk/blob/master/packages/sdk/TRANSITIONS.md#0001-deprecate-params\",\n  })\n\nexport {VERSION} from \"./VERSION\"\n","const buildWarningMessage = ({name, transitionsPath}) => {\n  console.warn(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been deprecated and will be removed in future versions of the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst buildErrorMessage = ({name, transitionsPath}) => {\n  console.error(\n    `\n    %cFCL/SDK Deprecation Notice\n    ============================\n    The ${name} builder has been removed from the Flow JS-SDK/FCL.\n    You can learn more (including a guide on common transition paths) here: ${transitionsPath}\n    ============================\n  `,\n    \"font-weight:bold;font-family:monospace;\"\n  )\n}\n\nconst warn = deprecated => buildWarningMessage(deprecated)\n\nconst error = deprecated => {\n  buildErrorMessage(deprecated)\n}\n\nexport const deprecate = {\n  warn,\n  error,\n}\n"]},"metadata":{},"sourceType":"module"}