{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EnumBinaryCodec = void 0;\n\nconst typesystem_1 = require(\"../typesystem\");\n\nclass EnumBinaryCodec {\n  constructor(binaryCodec) {\n    this.binaryCodec = binaryCodec;\n  }\n\n  decodeTopLevel(buffer, type) {\n    let value = this.binaryCodec.decodeTopLevel(buffer, new typesystem_1.U8Type());\n    let enumValue = typesystem_1.EnumValue.fromDiscriminant(type, Number(value.valueOf()));\n    return enumValue;\n  }\n\n  decodeNested(buffer, type) {\n    // Read as plain byte\n    let [value, length] = this.binaryCodec.decodeNested(buffer, new typesystem_1.U8Type());\n    let enumValue = typesystem_1.EnumValue.fromDiscriminant(type, Number(value.valueOf()));\n    return [enumValue, length];\n  }\n\n  encodeNested(enumValue) {\n    let value = new typesystem_1.U8Value(enumValue.discriminant);\n    let buffer = this.binaryCodec.encodeNested(value);\n    return buffer;\n  }\n\n  encodeTopLevel(enumValue) {\n    let value = new typesystem_1.U8Value(enumValue.discriminant);\n    let buffer = this.binaryCodec.encodeTopLevel(value);\n    return buffer;\n  }\n\n}\n\nexports.EnumBinaryCodec = EnumBinaryCodec;","map":{"version":3,"mappings":";;;;;;;AAAA;;AAGA,MAAaA,eAAb,CAA4B;AAGxBC,cAAYC,WAAZ,EAAoC;AAChC,SAAKA,WAAL,GAAmBA,WAAnB;AACH;;AAEDC,gBAAc,CAACC,MAAD,EAAiBC,IAAjB,EAA+B;AACzC,QAAIC,KAAK,GAAG,KAAKJ,WAAL,CAAiBC,cAAjB,CAAgCC,MAAhC,EAAwC,IAAIG,mBAAJ,EAAxC,CAAZ;AACA,QAAIC,SAAS,GAAGD,uBAAUE,gBAAV,CAA2BJ,IAA3B,EAAiCK,MAAM,CAACJ,KAAK,CAACK,OAAN,EAAD,CAAvC,CAAhB;AACA,WAAOH,SAAP;AACH;;AAEDI,cAAY,CAACR,MAAD,EAAiBC,IAAjB,EAA+B;AACvC;AACA,QAAI,CAACC,KAAD,EAAQO,MAAR,IAAkB,KAAKX,WAAL,CAAiBU,YAAjB,CAA8BR,MAA9B,EAAsC,IAAIG,mBAAJ,EAAtC,CAAtB;AACA,QAAIC,SAAS,GAAGD,uBAAUE,gBAAV,CAA2BJ,IAA3B,EAAiCK,MAAM,CAACJ,KAAK,CAACK,OAAN,EAAD,CAAvC,CAAhB;AACA,WAAO,CAACH,SAAD,EAAYK,MAAZ,CAAP;AACH;;AAEDC,cAAY,CAACN,SAAD,EAAqB;AAC7B,QAAIF,KAAK,GAAG,IAAIC,oBAAJ,CAAYC,SAAS,CAACO,YAAtB,CAAZ;AACA,QAAIX,MAAM,GAAG,KAAKF,WAAL,CAAiBY,YAAjB,CAA8BR,KAA9B,CAAb;AACA,WAAOF,MAAP;AACH;;AAEDY,gBAAc,CAACR,SAAD,EAAqB;AAC/B,QAAIF,KAAK,GAAG,IAAIC,oBAAJ,CAAYC,SAAS,CAACO,YAAtB,CAAZ;AACA,QAAIX,MAAM,GAAG,KAAKF,WAAL,CAAiBc,cAAjB,CAAgCV,KAAhC,CAAb;AACA,WAAOF,MAAP;AACH;;AA9BuB;;AAA5Ba","names":["EnumBinaryCodec","constructor","binaryCodec","decodeTopLevel","buffer","type","value","typesystem_1","enumValue","fromDiscriminant","Number","valueOf","decodeNested","length","encodeNested","discriminant","encodeTopLevel","exports"],"sourceRoot":"","sources":["../../../src/smartcontracts/codec/enum.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}