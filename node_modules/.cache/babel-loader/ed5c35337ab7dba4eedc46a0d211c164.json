{"ast":null,"code":"\"use strict\";\n/**\n * @packageDocumentation\n * @module harmony-utils\n */\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.assertObject = exports.generateValidateObjects = exports.validateArgs = exports.validatorArray = exports.AssertType = void 0;\n\nvar validators_1 = require(\"./validators\");\n/** @hidden */\n\n\nvar AssertType;\n\n(function (AssertType) {\n  AssertType[\"required\"] = \"required\";\n  AssertType[\"optional\"] = \"optional\";\n})(AssertType = exports.AssertType || (exports.AssertType = {}));\n/** @hidden */\n\n\nexports.validatorArray = {\n  isNumber: [validators_1.isNumber],\n  isString: [validators_1.isString],\n  isBoolean: [validators_1.isBoolean],\n  isArray: [validators_1.isArray],\n  isJsonString: [validators_1.isJsonString],\n  isObject: [validators_1.isObject],\n  isFunction: [validators_1.isFunction],\n  isHex: [validators_1.isHex],\n  isPublicKey: [validators_1.isPublicKey],\n  isPrivateKey: [validators_1.isPrivateKey],\n  isAddress: [validators_1.isAddress],\n  isHash: [validators_1.isHash],\n  isBlockNumber: [validators_1.isBlockNumber],\n  isBech32Address: [validators_1.isBech32Address],\n  isBech32TestNetAddress: [validators_1.isBech32TestNetAddress],\n  isValidAddress: [validators_1.isValidAddress]\n};\n\nfunction validateArgs(args, requiredArgs, optionalArgs) {\n  for (var key in requiredArgs) {\n    if (args[key] !== undefined) {\n      // tslint:disable-next-line: prefer-for-of\n      for (var i = 0; i < requiredArgs[key].length; i += 1) {\n        if (typeof requiredArgs[key][i] !== 'function') {\n          throw new Error('Validator is not a function');\n        }\n\n        if (!requiredArgs[key][i](args[key])) {\n          throw new Error(\"Validation failed for \" + key + \",should be validated by \" + requiredArgs[key][i].validator);\n        }\n      }\n    } else {\n      throw new Error(\"Key not found: \" + key);\n    }\n  }\n\n  for (var key in optionalArgs) {\n    if (args[key]) {\n      // tslint:disable-next-line: prefer-for-of\n      for (var i = 0; i < optionalArgs[key].length; i += 1) {\n        if (typeof optionalArgs[key][i] !== 'function') {\n          throw new Error('Validator is not a function');\n        }\n\n        if (!optionalArgs[key][i](args[key])) {\n          throw new Error(\"Validation failed for \" + key + \",should be validated by \" + optionalArgs[key][i].validator);\n        }\n      }\n    }\n  }\n\n  return true;\n}\n\nexports.validateArgs = validateArgs;\n\nfunction generateValidateObjects(validatorObject) {\n  var requiredArgs = {};\n  var optionalArgs = {};\n\n  for (var index in validatorObject) {\n    if (index !== undefined) {\n      var newObjectKey = index;\n      var newObjectValid = validatorObject[index][0];\n      var isRequired = validatorObject[index][1];\n\n      if (isRequired === AssertType.required) {\n        requiredArgs[newObjectKey] = exports.validatorArray[newObjectValid];\n      } else {\n        optionalArgs[newObjectKey] = exports.validatorArray[newObjectValid];\n      }\n    }\n  }\n\n  return {\n    requiredArgs: requiredArgs,\n    optionalArgs: optionalArgs\n  };\n}\n\nexports.generateValidateObjects = generateValidateObjects;\n\nvar assertObject = function (input) {\n  return function (target, key, descriptor) {\n    var _a = generateValidateObjects(input),\n        requiredArgs = _a.requiredArgs,\n        optionalArgs = _a.optionalArgs;\n\n    var original = descriptor.value;\n\n    function interceptor() {\n      var args = [];\n\n      for (var _i = 0; _i < arguments.length; _i++) {\n        args[_i] = arguments[_i];\n      }\n\n      validateArgs(args[0], requiredArgs, optionalArgs);\n      return original.apply(this, args);\n    }\n\n    descriptor.value = interceptor;\n    return descriptor;\n  };\n};\n\nexports.assertObject = assertObject;","map":{"version":3,"mappings":"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","names":["AssertType","exports","isNumber","validators_1","isString","isBoolean","isArray","isJsonString","isObject","isFunction","isHex","isPublicKey","isPrivateKey","isAddress","isHash","isBlockNumber","isBech32Address","isBech32TestNetAddress","isValidAddress","validateArgs","args","requiredArgs","optionalArgs","key","undefined","i","length","Error","validator","generateValidateObjects","validatorObject","index","newObjectKey","newObjectValid","isRequired","required","assertObject","input","target","descriptor","original","value","interceptor","apply"],"sourceRoot":"","sources":["../src/utils.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}