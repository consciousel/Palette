{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RippleAPI = void 0;\n\nconst events_1 = require(\"events\");\n\nconst common_1 = require(\"./common\");\n\nconst server_1 = require(\"./server/server\");\n\nconst transaction_1 = __importDefault(require(\"./ledger/transaction\"));\n\nconst transactions_1 = __importDefault(require(\"./ledger/transactions\"));\n\nconst trustlines_1 = __importDefault(require(\"./ledger/trustlines\"));\n\nconst balances_1 = __importDefault(require(\"./ledger/balances\"));\n\nconst balance_sheet_1 = __importDefault(require(\"./ledger/balance-sheet\"));\n\nconst pathfind_1 = __importDefault(require(\"./ledger/pathfind\"));\n\nconst orders_1 = __importDefault(require(\"./ledger/orders\"));\n\nconst orderbook_1 = require(\"./ledger/orderbook\");\n\nconst settings_1 = require(\"./ledger/settings\");\n\nconst accountinfo_1 = __importDefault(require(\"./ledger/accountinfo\"));\n\nconst accountobjects_1 = __importDefault(require(\"./ledger/accountobjects\"));\n\nconst payment_channel_1 = __importDefault(require(\"./ledger/payment-channel\"));\n\nconst payment_1 = __importDefault(require(\"./transaction/payment\"));\n\nconst trustline_1 = __importDefault(require(\"./transaction/trustline\"));\n\nconst order_1 = __importDefault(require(\"./transaction/order\"));\n\nconst ordercancellation_1 = __importDefault(require(\"./transaction/ordercancellation\"));\n\nconst escrow_creation_1 = __importDefault(require(\"./transaction/escrow-creation\"));\n\nconst escrow_execution_1 = __importDefault(require(\"./transaction/escrow-execution\"));\n\nconst escrow_cancellation_1 = __importDefault(require(\"./transaction/escrow-cancellation\"));\n\nconst payment_channel_create_1 = __importDefault(require(\"./transaction/payment-channel-create\"));\n\nconst payment_channel_fund_1 = __importDefault(require(\"./transaction/payment-channel-fund\"));\n\nconst payment_channel_claim_1 = __importDefault(require(\"./transaction/payment-channel-claim\"));\n\nconst check_create_1 = __importDefault(require(\"./transaction/check-create\"));\n\nconst check_cancel_1 = __importDefault(require(\"./transaction/check-cancel\"));\n\nconst check_cash_1 = __importDefault(require(\"./transaction/check-cash\"));\n\nconst settings_2 = __importDefault(require(\"./transaction/settings\"));\n\nconst ticket_1 = __importDefault(require(\"./transaction/ticket\"));\n\nconst sign_1 = __importDefault(require(\"./transaction/sign\"));\n\nconst combine_1 = __importDefault(require(\"./transaction/combine\"));\n\nconst submit_1 = __importDefault(require(\"./transaction/submit\"));\n\nconst utils_1 = require(\"./offline/utils\");\n\nconst derive_1 = require(\"./offline/derive\");\n\nconst ledgerhash_1 = __importDefault(require(\"./offline/ledgerhash\"));\n\nconst sign_payment_channel_claim_1 = __importDefault(require(\"./offline/sign-payment-channel-claim\"));\n\nconst verify_payment_channel_claim_1 = __importDefault(require(\"./offline/verify-payment-channel-claim\"));\n\nconst ledger_1 = __importDefault(require(\"./ledger/ledger\"));\n\nconst rangeset_1 = __importDefault(require(\"./common/rangeset\"));\n\nconst ledgerUtils = __importStar(require(\"./ledger/utils\"));\n\nconst transactionUtils = __importStar(require(\"./transaction/utils\"));\n\nconst schemaValidator = __importStar(require(\"./common/schema-validator\"));\n\nconst serverinfo_1 = require(\"./common/serverinfo\");\n\nconst utils_2 = require(\"./ledger/utils\");\n\nconst ripple_address_codec_1 = require(\"ripple-address-codec\");\n\nconst hashes_1 = require(\"./common/hashes\");\n\nconst wallet_generation_1 = __importDefault(require(\"./wallet/wallet-generation\"));\n\nfunction getCollectKeyFromCommand(command) {\n  switch (command) {\n    case 'account_offers':\n    case 'book_offers':\n      return 'offers';\n\n    case 'account_lines':\n      return 'lines';\n\n    default:\n      return undefined;\n  }\n}\n\nclass RippleAPI extends events_1.EventEmitter {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    super();\n    this.generateAddress = utils_1.generateAddress;\n    this.generateXAddress = utils_1.generateXAddress;\n    this.connect = server_1.connect;\n    this.disconnect = server_1.disconnect;\n    this.isConnected = server_1.isConnected;\n    this.getServerInfo = serverinfo_1.getServerInfo;\n    this.getFee = serverinfo_1.getFee;\n    this.getLedgerVersion = server_1.getLedgerVersion;\n    this.getTransaction = transaction_1.default;\n    this.getTransactions = transactions_1.default;\n    this.getTrustlines = trustlines_1.default;\n    this.getBalances = balances_1.default;\n    this.getBalanceSheet = balance_sheet_1.default;\n    this.getPaths = pathfind_1.default;\n    this.getOrderbook = orderbook_1.getOrderbook;\n    this.getOrders = orders_1.default;\n    this.getSettings = settings_1.getSettings;\n    this.getAccountInfo = accountinfo_1.default;\n    this.getAccountObjects = accountobjects_1.default;\n    this.getPaymentChannel = payment_channel_1.default;\n    this.getLedger = ledger_1.default;\n    this.parseAccountFlags = settings_1.parseAccountFlags;\n    this.preparePayment = payment_1.default;\n    this.prepareTrustline = trustline_1.default;\n    this.prepareOrder = order_1.default;\n    this.prepareOrderCancellation = ordercancellation_1.default;\n    this.prepareEscrowCreation = escrow_creation_1.default;\n    this.prepareEscrowExecution = escrow_execution_1.default;\n    this.prepareEscrowCancellation = escrow_cancellation_1.default;\n    this.preparePaymentChannelCreate = payment_channel_create_1.default;\n    this.preparePaymentChannelFund = payment_channel_fund_1.default;\n    this.preparePaymentChannelClaim = payment_channel_claim_1.default;\n    this.prepareCheckCreate = check_create_1.default;\n    this.prepareCheckCash = check_cash_1.default;\n    this.prepareCheckCancel = check_cancel_1.default;\n    this.prepareTicketCreate = ticket_1.default;\n    this.prepareSettings = settings_2.default;\n    this.sign = sign_1.default;\n    this.combine = combine_1.default;\n    this.submit = submit_1.default;\n    this.deriveKeypair = derive_1.deriveKeypair;\n    this.deriveAddress = derive_1.deriveAddress;\n    this.computeLedgerHash = ledgerhash_1.default;\n    this.signPaymentChannelClaim = sign_payment_channel_claim_1.default;\n    this.verifyPaymentChannelClaim = verify_payment_channel_claim_1.default;\n    this.generateFaucetWallet = wallet_generation_1.default;\n    this.errors = common_1.errors;\n    this.xrpToDrops = common_1.xrpToDrops;\n    this.dropsToXrp = common_1.dropsToXrp;\n    this.rippleTimeToISO8601 = common_1.rippleTimeToISO8601;\n    this.iso8601ToRippleTime = common_1.iso8601ToRippleTime;\n    this.txFlags = common_1.txFlags;\n    this.isValidAddress = schemaValidator.isValidAddress;\n    this.isValidSecret = schemaValidator.isValidSecret;\n    common_1.validate.apiOptions(options);\n    this._feeCushion = options.feeCushion || 1.2;\n    this._maxFeeXRP = options.maxFeeXRP || '2';\n    const serverURL = options.server;\n\n    if (serverURL != null) {\n      this.connection = new common_1.Connection(serverURL, options);\n      this.connection.on('ledgerClosed', message => {\n        this.emit('ledger', server_1.formatLedgerClose(message));\n      });\n      this.connection.on('error', (errorCode, errorMessage, data) => {\n        this.emit('error', errorCode, errorMessage, data);\n      });\n      this.connection.on('connected', () => {\n        this.emit('connected');\n      });\n      this.connection.on('disconnected', code => {\n        let finalCode = code;\n\n        if (finalCode === 1005 || finalCode === 4000) {\n          finalCode = 1000;\n        }\n\n        this.emit('disconnected', finalCode);\n      });\n    } else {\n      this.connection = new common_1.Connection(null, options);\n    }\n  }\n\n  request(command) {\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      return this.connection.request(Object.assign(Object.assign({}, params), {\n        command,\n        account: params.account ? common_1.ensureClassicAddress(params.account) : undefined\n      }));\n    });\n  }\n\n  hasNextPage(currentResponse) {\n    return !!currentResponse.marker;\n  }\n\n  requestNextPage(command) {\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let currentResponse = arguments.length > 2 ? arguments[2] : undefined;\n    return __awaiter(this, void 0, void 0, function* () {\n      if (!currentResponse.marker) {\n        return Promise.reject(new common_1.errors.NotFoundError('response does not have a next page'));\n      }\n\n      const nextPageParams = Object.assign({}, params, {\n        marker: currentResponse.marker\n      });\n      return this.request(command, nextPageParams);\n    });\n  }\n\n  prepareTransaction(txJSON) {\n    let instructions = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      return transactionUtils.prepareTransaction(txJSON, this, instructions);\n    });\n  }\n\n  convertStringToHex(string) {\n    return transactionUtils.convertStringToHex(string);\n  }\n\n  _requestAll(command) {\n    let params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return __awaiter(this, void 0, void 0, function* () {\n      const collectKey = options.collect || getCollectKeyFromCommand(command);\n\n      if (!collectKey) {\n        throw new common_1.errors.ValidationError(`no collect key for command ${command}`);\n      }\n\n      const countTo = params.limit != null ? params.limit : Infinity;\n      let count = 0;\n      let marker = params.marker;\n      let lastBatchLength;\n      const results = [];\n\n      do {\n        const countRemaining = utils_2.clamp(countTo - count, 10, 400);\n        const repeatProps = Object.assign(Object.assign({}, params), {\n          limit: countRemaining,\n          marker\n        });\n        const singleResult = yield this.request(command, repeatProps);\n        const collectedData = singleResult[collectKey];\n        marker = singleResult['marker'];\n        results.push(singleResult);\n        const isExpectedFormat = Array.isArray(collectedData);\n\n        if (isExpectedFormat) {\n          count += collectedData.length;\n          lastBatchLength = collectedData.length;\n        } else {\n          lastBatchLength = 0;\n        }\n      } while (!!marker && count < countTo && lastBatchLength !== 0);\n\n      return results;\n    });\n  }\n\n}\n\nexports.RippleAPI = RippleAPI;\nRippleAPI._PRIVATE = {\n  validate: common_1.validate,\n  RangeSet: rangeset_1.default,\n  ledgerUtils,\n  schemaValidator\n};\nRippleAPI.renameCounterpartyToIssuer = utils_2.renameCounterpartyToIssuer;\nRippleAPI.formatBidsAndAsks = orderbook_1.formatBidsAndAsks;\nRippleAPI.deriveXAddress = derive_1.deriveXAddress;\nRippleAPI.deriveClassicAddress = derive_1.deriveAddress;\nRippleAPI.classicAddressToXAddress = ripple_address_codec_1.classicAddressToXAddress;\nRippleAPI.xAddressToClassicAddress = ripple_address_codec_1.xAddressToClassicAddress;\nRippleAPI.isValidXAddress = ripple_address_codec_1.isValidXAddress;\nRippleAPI.isValidClassicAddress = ripple_address_codec_1.isValidClassicAddress;\nRippleAPI.encodeSeed = ripple_address_codec_1.encodeSeed;\nRippleAPI.decodeSeed = ripple_address_codec_1.decodeSeed;\nRippleAPI.encodeAccountID = ripple_address_codec_1.encodeAccountID;\nRippleAPI.decodeAccountID = ripple_address_codec_1.decodeAccountID;\nRippleAPI.encodeNodePublic = ripple_address_codec_1.encodeNodePublic;\nRippleAPI.decodeNodePublic = ripple_address_codec_1.decodeNodePublic;\nRippleAPI.encodeAccountPublic = ripple_address_codec_1.encodeAccountPublic;\nRippleAPI.decodeAccountPublic = ripple_address_codec_1.decodeAccountPublic;\nRippleAPI.encodeXAddress = ripple_address_codec_1.encodeXAddress;\nRippleAPI.decodeXAddress = ripple_address_codec_1.decodeXAddress;\nRippleAPI.computeBinaryTransactionHash = hashes_1.computeBinaryTransactionHash;\nRippleAPI.computeTransactionHash = hashes_1.computeTransactionHash;\nRippleAPI.computeBinaryTransactionSigningHash = hashes_1.computeBinaryTransactionSigningHash;\nRippleAPI.computeAccountLedgerObjectID = hashes_1.computeAccountLedgerObjectID;\nRippleAPI.computeSignerListLedgerObjectID = hashes_1.computeSignerListLedgerObjectID;\nRippleAPI.computeOrderID = hashes_1.computeOrderID;\nRippleAPI.computeTrustlineHash = hashes_1.computeTrustlineHash;\nRippleAPI.computeTransactionTreeHash = hashes_1.computeTransactionTreeHash;\nRippleAPI.computeStateTreeHash = hashes_1.computeStateTreeHash;\nRippleAPI.computeLedgerHash = ledgerhash_1.default;\nRippleAPI.computeEscrowHash = hashes_1.computeEscrowHash;\nRippleAPI.computePaymentChannelHash = hashes_1.computePaymentChannelHash;\nRippleAPI.accountSetFlags = common_1.constants.AccountSetFlags;","map":{"version":3,"mappings":"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","names":["getCollectKeyFromCommand","command","undefined","RippleAPI","events_1","constructor","options","utils_1","server_1","serverinfo_1","transaction_1","transactions_1","trustlines_1","balances_1","balance_sheet_1","pathfind_1","orderbook_1","orders_1","settings_1","accountinfo_1","accountobjects_1","payment_channel_1","ledger_1","payment_1","trustline_1","order_1","ordercancellation_1","escrow_creation_1","escrow_execution_1","escrow_cancellation_1","payment_channel_create_1","payment_channel_fund_1","payment_channel_claim_1","check_create_1","check_cash_1","check_cancel_1","ticket_1","settings_2","sign_1","combine_1","submit_1","derive_1","ledgerhash_1","sign_payment_channel_claim_1","verify_payment_channel_claim_1","wallet_generation_1","common_1","schemaValidator","isValidAddress","isValidSecret","apiOptions","_feeCushion","feeCushion","_maxFeeXRP","maxFeeXRP","serverURL","server","connection","on","message","emit","errorCode","errorMessage","data","code","finalCode","request","params","Object","account","hasNextPage","currentResponse","marker","requestNextPage","Promise","reject","NotFoundError","nextPageParams","assign","prepareTransaction","txJSON","instructions","transactionUtils","convertStringToHex","string","_requestAll","collectKey","collect","ValidationError","countTo","limit","Infinity","count","lastBatchLength","results","countRemaining","utils_2","repeatProps","singleResult","collectedData","push","isExpectedFormat","Array","isArray","length","exports","validate","RangeSet","rangeset_1","ledgerUtils","ripple_address_codec_1","hashes_1","AccountSetFlags"],"sourceRoot":"","sources":["../../src/api.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}