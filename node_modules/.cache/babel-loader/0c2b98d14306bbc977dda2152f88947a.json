{"ast":null,"code":"import { ValidationTypes } from '../../validation/ValidationTypes';\nimport { ValidationMetadata } from '../../metadata/ValidationMetadata';\nimport { getMetadataStorage } from '../../metadata/MetadataStorage';\n/**\n * Checks if value is missing and if so, ignores all validators.\n */\n\nexport function IsOptional(validationOptions) {\n  return function (object, propertyName) {\n    var args = {\n      type: ValidationTypes.CONDITIONAL_VALIDATION,\n      target: object.constructor,\n      propertyName: propertyName,\n      constraints: [function (object, value) {\n        return object[propertyName] !== null && object[propertyName] !== undefined;\n      }],\n      validationOptions: validationOptions\n    };\n    getMetadataStorage().addValidationMetadata(new ValidationMetadata(args));\n  };\n}","map":{"version":3,"mappings":"AAEA,SAASA,eAAT,QAAgC,kCAAhC;AACA,SAASC,kBAAT,QAAmC,mCAAnC;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AAEA;;;;AAGA,OAAM,SAAUC,UAAV,CAAqBC,iBAArB,EAA0D;AAC9D,SAAO,UAAUC,MAAV,EAA0BC,YAA1B,EAA8C;AACnD,QAAMC,IAAI,GAA2B;AACnCC,UAAI,EAAER,eAAe,CAACS,sBADa;AAEnCC,YAAM,EAAEL,MAAM,CAACM,WAFoB;AAGnCL,kBAAY,EAAEA,YAHqB;AAInCM,iBAAW,EAAE,CACX,UAACP,MAAD,EAAcQ,KAAd,EAAwB;AACtB,eAAOR,MAAM,CAACC,YAAD,CAAN,KAAyB,IAAzB,IAAiCD,MAAM,CAACC,YAAD,CAAN,KAAyBQ,SAAjE;AACD,OAHU,CAJsB;AASnCV,uBAAiB,EAAEA;AATgB,KAArC;AAWAF,sBAAkB,GAAGa,qBAArB,CAA2C,IAAId,kBAAJ,CAAuBM,IAAvB,CAA3C;AACD,GAbD;AAcD","names":["ValidationTypes","ValidationMetadata","getMetadataStorage","IsOptional","validationOptions","object","propertyName","args","type","CONDITIONAL_VALIDATION","target","constructor","constraints","value","undefined","addValidationMetadata"],"sourceRoot":"","sources":["../../../../src/decorator/common/IsOptional.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}