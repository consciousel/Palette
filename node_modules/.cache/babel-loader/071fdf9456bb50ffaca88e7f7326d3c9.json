{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Query = exports.MaxUint64 = void 0;\n\nconst function_1 = require(\"./function\");\n\nconst balance_1 = require(\"../balance\");\n\nconst address_1 = require(\"../address\");\n\nconst utils_1 = require(\"../utils\");\n\nconst argSerializer_1 = require(\"./argSerializer\");\n\nconst bignumber_js_1 = __importDefault(require(\"bignumber.js\"));\n\nexports.MaxUint64 = new bignumber_js_1.default(\"18446744073709551615\");\n\nclass Query {\n  constructor(init) {\n    this.caller = new address_1.Address();\n    this.address = new address_1.Address();\n    this.func = function_1.ContractFunction.none();\n    this.args = [];\n    this.value = balance_1.Balance.Zero();\n    Object.assign(this, init);\n    utils_1.guardValueIsSet(\"address\", this.address);\n    utils_1.guardValueIsSet(\"func\", this.func);\n    this.address.assertNotEmpty();\n    this.args = this.args || [];\n    this.caller = this.caller || new address_1.Address();\n    this.value = this.value || balance_1.Balance.Zero();\n  }\n\n  toHttpRequest() {\n    let request = {\n      \"scAddress\": this.address.bech32(),\n      \"funcName\": this.func.toString(),\n      \"args\": new argSerializer_1.ArgSerializer().valuesToStrings(this.args),\n      \"value\": this.value.toString()\n    };\n\n    if (!this.caller.isEmpty()) {\n      request[\"caller\"] = this.caller.bech32();\n    }\n\n    return request;\n  }\n\n}\n\nexports.Query = Query;","map":{"version":3,"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEaA,oBAAY,IAAIC,sBAAJ,CAAc,sBAAd,CAAZ;;AAEb,MAAaC,KAAb,CAAkB;AAOdC,cAAYC,IAAZ,EAAiC;AAC7B,SAAKC,MAAL,GAAc,IAAIC,iBAAJ,EAAd;AACA,SAAKC,OAAL,GAAe,IAAID,iBAAJ,EAAf;AACA,SAAKE,IAAL,GAAYC,4BAAiBC,IAAjB,EAAZ;AACA,SAAKC,IAAL,GAAY,EAAZ;AACA,SAAKC,KAAL,GAAaC,kBAAQC,IAAR,EAAb;AAEAC,UAAM,CAACC,MAAP,CAAc,IAAd,EAAoBZ,IAApB;AAEAa,4BAAgB,SAAhB,EAA2B,KAAKV,OAAhC;AACAU,4BAAgB,MAAhB,EAAwB,KAAKT,IAA7B;AAEA,SAAKD,OAAL,CAAaW,cAAb;AACA,SAAKP,IAAL,GAAY,KAAKA,IAAL,IAAa,EAAzB;AACA,SAAKN,MAAL,GAAc,KAAKA,MAAL,IAAe,IAAIC,iBAAJ,EAA7B;AACA,SAAKM,KAAL,GAAa,KAAKA,KAAL,IAAcC,kBAAQC,IAAR,EAA3B;AACH;;AAEDK,eAAa;AACT,QAAIC,OAAO,GAAQ;AACf,mBAAa,KAAKb,OAAL,CAAac,MAAb,EADE;AAEf,kBAAY,KAAKb,IAAL,CAAUc,QAAV,EAFG;AAGf,cAAQ,IAAIC,6BAAJ,GAAoBC,eAApB,CAAoC,KAAKb,IAAzC,CAHO;AAIf,eAAS,KAAKC,KAAL,CAAWU,QAAX;AAJM,KAAnB;;AAOA,QAAI,CAAC,KAAKjB,MAAL,CAAYoB,OAAZ,EAAL,EAA4B;AACxBL,aAAO,CAAC,QAAD,CAAP,GAAoB,KAAKf,MAAL,CAAYgB,MAAZ,EAApB;AACH;;AAED,WAAOD,OAAP;AACH;;AAtCa;;AAAlBpB","names":["exports","bignumber_js_1","Query","constructor","init","caller","address_1","address","func","function_1","none","args","value","balance_1","Zero","Object","assign","utils_1","assertNotEmpty","toHttpRequest","request","bech32","toString","argSerializer_1","valuesToStrings","isEmpty"],"sourceRoot":"","sources":["../../src/smartcontracts/query.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}