{"ast":null,"code":"import { buildMessage, ValidateBy } from '../common/ValidateBy';\nimport isIPValidator from 'validator/lib/isIP';\nexport var IS_IP = 'isIp';\n/**\n * Checks if the string is an IP (version 4 or 6).\n * If given value is not a string, then it returns false.\n */\n\nexport function isIP(value, version) {\n  var versionStr = version ? \"\" + version : undefined;\n  return typeof value === 'string' && isIPValidator(value, versionStr);\n}\n/**\n * Checks if the string is an IP (version 4 or 6).\n * If given value is not a string, then it returns false.\n */\n\nexport function IsIP(version, validationOptions) {\n  return ValidateBy({\n    name: IS_IP,\n    constraints: [version],\n    validator: {\n      validate: function (value, args) {\n        return isIP(value, args.constraints[0]);\n      },\n      defaultMessage: buildMessage(function (eachPrefix) {\n        return eachPrefix + '$property must be an ip address';\n      }, validationOptions)\n    }\n  }, validationOptions);\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAT,EAAuBC,UAAvB,QAAyC,sBAAzC;AACA,OAAOC,aAAP,MAA0B,oBAA1B;AAIA,OAAO,IAAMC,KAAK,GAAG,MAAd;AAEP;;;;;AAIA,OAAM,SAAUC,IAAV,CAAeC,KAAf,EAA+BC,OAA/B,EAAoD;AACxD,MAAMC,UAAU,GAAGD,OAAO,GAAI,KAAGA,OAAP,GAAiCE,SAA3D;AACA,SAAO,OAAOH,KAAP,KAAiB,QAAjB,IAA6BH,aAAa,CAACG,KAAD,EAAQE,UAAR,CAAjD;AACD;AAED;;;;;AAIA,OAAM,SAAUE,IAAV,CAAeH,OAAf,EAAsCI,iBAAtC,EAA2E;AAC/E,SAAOT,UAAU,CACf;AACEU,QAAI,EAAER,KADR;AAEES,eAAW,EAAE,CAACN,OAAD,CAFf;AAGEO,aAAS,EAAE;AACTC,cAAQ,EAAE,UAACT,KAAD,EAAQU,IAAR,EAAY;AAAc,mBAAI,CAACV,KAAD,EAAQU,IAAI,CAACH,WAAL,CAAiB,CAAjB,CAAR,CAAJ;AAAgC,OAD3D;AAETI,oBAAc,EAAEhB,YAAY,CAAC,sBAAU;AAAI,yBAAU,GAAG,iCAAb;AAA8C,OAA7D,EAA+DU,iBAA/D;AAFnB;AAHb,GADe,EASfA,iBATe,CAAjB;AAWD","names":["buildMessage","ValidateBy","isIPValidator","IS_IP","isIP","value","version","versionStr","undefined","IsIP","validationOptions","name","constraints","validator","validate","args","defaultMessage"],"sourceRoot":"","sources":["../../../../src/decorator/string/IsIP.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}