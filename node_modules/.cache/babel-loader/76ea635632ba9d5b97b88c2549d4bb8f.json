{"ast":null,"code":"import { buildMessage, ValidateBy } from '../common/ValidateBy';\nexport var IS_NUMBER = 'isNumber';\n/**\n * Checks if a given value is a number.\n */\n\nexport function isNumber(value, options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  if (typeof value !== 'number') {\n    return false;\n  }\n\n  if (value === Infinity || value === -Infinity) {\n    return options.allowInfinity;\n  }\n\n  if (Number.isNaN(value)) {\n    return options.allowNaN;\n  }\n\n  if (options.maxDecimalPlaces !== undefined) {\n    var decimalPlaces = 0;\n\n    if (value % 1 !== 0) {\n      decimalPlaces = value.toString().split('.')[1].length;\n    }\n\n    if (decimalPlaces > options.maxDecimalPlaces) {\n      return false;\n    }\n  }\n\n  return Number.isFinite(value);\n}\n/**\n * Checks if a value is a number.\n */\n\nexport function IsNumber(options, validationOptions) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  return ValidateBy({\n    name: IS_NUMBER,\n    constraints: [options],\n    validator: {\n      validate: function (value, args) {\n        return isNumber(value, args.constraints[0]);\n      },\n      defaultMessage: buildMessage(function (eachPrefix) {\n        return eachPrefix + '$property must be a number conforming to the specified constraints';\n      }, validationOptions)\n    }\n  }, validationOptions);\n}","map":{"version":3,"mappings":"AACA,SAASA,YAAT,EAAuBC,UAAvB,QAAyC,sBAAzC;AAEA,OAAO,IAAMC,SAAS,GAAG,UAAlB;AAWP;;;;AAGA,OAAM,SAAUC,QAAV,CAAmBC,KAAnB,EAAmCC,OAAnC,EAAgE;AAA7B;AAAAA;AAA6B;;AACpE,MAAI,OAAOD,KAAP,KAAiB,QAArB,EAA+B;AAC7B,WAAO,KAAP;AACD;;AAED,MAAIA,KAAK,KAAKE,QAAV,IAAsBF,KAAK,KAAK,CAACE,QAArC,EAA+C;AAC7C,WAAOD,OAAO,CAACE,aAAf;AACD;;AAED,MAAIC,MAAM,CAACC,KAAP,CAAaL,KAAb,CAAJ,EAAyB;AACvB,WAAOC,OAAO,CAACK,QAAf;AACD;;AAED,MAAIL,OAAO,CAACM,gBAAR,KAA6BC,SAAjC,EAA4C;AAC1C,QAAIC,aAAa,GAAG,CAApB;;AACA,QAAIT,KAAK,GAAG,CAAR,KAAc,CAAlB,EAAqB;AACnBS,mBAAa,GAAGT,KAAK,CAACU,QAAN,GAAiBC,KAAjB,CAAuB,GAAvB,EAA4B,CAA5B,EAA+BC,MAA/C;AACD;;AACD,QAAIH,aAAa,GAAGR,OAAO,CAACM,gBAA5B,EAA8C;AAC5C,aAAO,KAAP;AACD;AACF;;AAED,SAAOH,MAAM,CAACS,QAAP,CAAgBb,KAAhB,CAAP;AACD;AAED;;;;AAGA,OAAM,SAAUc,QAAV,CAAmBb,OAAnB,EAAkDc,iBAAlD,EAAuF;AAApE;AAAAd;AAA6B;;AACpD,SAAOJ,UAAU,CACf;AACEmB,QAAI,EAAElB,SADR;AAEEmB,eAAW,EAAE,CAAChB,OAAD,CAFf;AAGEiB,aAAS,EAAE;AACTC,cAAQ,EAAE,UAACnB,KAAD,EAAQoB,IAAR,EAAY;AAAc,uBAAQ,CAACpB,KAAD,EAAQoB,IAAI,CAACH,WAAL,CAAiB,CAAjB,CAAR,CAAR;AAAoC,OAD/D;AAETI,oBAAc,EAAEzB,YAAY,CAC1B,sBAAU;AAAI,yBAAU,GAAG,oEAAb;AAAiF,OADrE,EAE1BmB,iBAF0B;AAFnB;AAHb,GADe,EAYfA,iBAZe,CAAjB;AAcD","names":["buildMessage","ValidateBy","IS_NUMBER","isNumber","value","options","Infinity","allowInfinity","Number","isNaN","allowNaN","maxDecimalPlaces","undefined","decimalPlaces","toString","split","length","isFinite","IsNumber","validationOptions","name","constraints","validator","validate","args","defaultMessage"],"sourceRoot":"","sources":["../../../../src/decorator/typechecker/IsNumber.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}