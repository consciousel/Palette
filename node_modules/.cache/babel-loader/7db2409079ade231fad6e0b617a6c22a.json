{"ast":null,"code":"\"use strict\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst payment_channel_1 = require(\"./parse/payment-channel\");\n\nconst common_1 = require(\"../common\");\n\nconst NotFoundError = common_1.errors.NotFoundError;\n\nfunction formatResponse(response) {\n  if (response.node == null || response.node.LedgerEntryType !== 'PayChannel') {\n    throw new NotFoundError('Payment channel ledger entry not found');\n  }\n\n  return payment_channel_1.parsePaymentChannel(response.node);\n}\n\nfunction getPaymentChannel(id) {\n  return __awaiter(this, void 0, void 0, function* () {\n    common_1.validate.getPaymentChannel({\n      id\n    });\n    const response = yield this.request('ledger_entry', {\n      index: id,\n      binary: false,\n      ledger_index: 'validated'\n    });\n    return formatResponse(response);\n  });\n}\n\nexports.default = getPaymentChannel;","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AAIA;;AAGA,MAAMA,aAAa,GAAGC,gBAAOD,aAA7B;;AAEA,SAASE,cAAT,CACEC,QADF,EAC+B;AAE7B,MACEA,QAAQ,CAACC,IAAT,IAAiB,IAAjB,IACAD,QAAQ,CAACC,IAAT,CAAcC,eAAd,KAAkC,YAFpC,EAGE;AACA,UAAM,IAAIL,aAAJ,CAAkB,wCAAlB,CAAN;AACD;;AACD,SAAOM,sCAAoBH,QAAQ,CAACC,IAA7B,CAAP;AACD;;AAED,SAAeG,iBAAf,CAEEC,EAFF,EAEY;;AAGVP,sBAASM,iBAAT,CAA2B;AAACC;AAAD,KAA3B;AAEA,UAAML,QAAQ,GAAG,MAAM,KAAKM,OAAL,CAAa,cAAb,EAA6B;AAClDC,WAAK,EAAEF,EAD2C;AAElDG,YAAM,EAAE,KAF0C;AAGlDC,kBAAY,EAAE;AAHoC,KAA7B,CAAvB;AAMA,WAAOV,cAAc,CAACC,QAAD,CAArB;AACD;AAAA;;AAEDU,kBAAeN,iBAAf","names":["NotFoundError","common_1","formatResponse","response","node","LedgerEntryType","payment_channel_1","getPaymentChannel","id","request","index","binary","ledger_index","exports"],"sourceRoot":"","sources":["../../../src/ledger/payment-channel.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}