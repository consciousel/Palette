{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nconst utils_1 = require(\"./utils\");\n\nconst common_1 = require(\"../../common\");\n\nconst settings_1 = __importDefault(require(\"./settings\"));\n\nconst account_delete_1 = __importDefault(require(\"./account-delete\"));\n\nconst check_cancel_1 = __importDefault(require(\"./check-cancel\"));\n\nconst check_cash_1 = __importDefault(require(\"./check-cash\"));\n\nconst check_create_1 = __importDefault(require(\"./check-create\"));\n\nconst deposit_preauth_1 = __importDefault(require(\"./deposit-preauth\"));\n\nconst escrow_cancellation_1 = __importDefault(require(\"./escrow-cancellation\"));\n\nconst escrow_creation_1 = __importDefault(require(\"./escrow-creation\"));\n\nconst escrow_execution_1 = __importDefault(require(\"./escrow-execution\"));\n\nconst cancellation_1 = __importDefault(require(\"./cancellation\"));\n\nconst order_1 = __importDefault(require(\"./order\"));\n\nconst payment_1 = __importDefault(require(\"./payment\"));\n\nconst payment_channel_claim_1 = __importDefault(require(\"./payment-channel-claim\"));\n\nconst payment_channel_create_1 = __importDefault(require(\"./payment-channel-create\"));\n\nconst payment_channel_fund_1 = __importDefault(require(\"./payment-channel-fund\"));\n\nconst ticket_create_1 = __importDefault(require(\"./ticket-create\"));\n\nconst trustline_1 = __importDefault(require(\"./trustline\"));\n\nconst amendment_1 = __importDefault(require(\"./amendment\"));\n\nconst fee_update_1 = __importDefault(require(\"./fee-update\"));\n\nfunction parseTransactionType(type) {\n  const mapping = {\n    AccountSet: 'settings',\n    AccountDelete: 'accountDelete',\n    CheckCancel: 'checkCancel',\n    CheckCash: 'checkCash',\n    CheckCreate: 'checkCreate',\n    DepositPreauth: 'depositPreauth',\n    EscrowCancel: 'escrowCancellation',\n    EscrowCreate: 'escrowCreation',\n    EscrowFinish: 'escrowExecution',\n    OfferCancel: 'orderCancellation',\n    OfferCreate: 'order',\n    Payment: 'payment',\n    PaymentChannelClaim: 'paymentChannelClaim',\n    PaymentChannelCreate: 'paymentChannelCreate',\n    PaymentChannelFund: 'paymentChannelFund',\n    SetRegularKey: 'settings',\n    SignerListSet: 'settings',\n    TicketCreate: 'ticketCreate',\n    TrustSet: 'trustline',\n    EnableAmendment: 'amendment',\n    SetFee: 'feeUpdate'\n  };\n  return mapping[type] || null;\n}\n\nfunction parseTransaction(tx, includeRawTransaction) {\n  const type = parseTransactionType(tx.TransactionType);\n  const mapping = {\n    settings: settings_1.default,\n    accountDelete: account_delete_1.default,\n    checkCancel: check_cancel_1.default,\n    checkCash: check_cash_1.default,\n    checkCreate: check_create_1.default,\n    depositPreauth: deposit_preauth_1.default,\n    escrowCancellation: escrow_cancellation_1.default,\n    escrowCreation: escrow_creation_1.default,\n    escrowExecution: escrow_execution_1.default,\n    orderCancellation: cancellation_1.default,\n    order: order_1.default,\n    payment: payment_1.default,\n    paymentChannelClaim: payment_channel_claim_1.default,\n    paymentChannelCreate: payment_channel_create_1.default,\n    paymentChannelFund: payment_channel_fund_1.default,\n    ticketCreate: ticket_create_1.default,\n    trustline: trustline_1.default,\n    amendment: amendment_1.default,\n    feeUpdate: fee_update_1.default\n  };\n  const parser = mapping[type];\n  const specification = parser ? parser(tx) : {\n    UNAVAILABLE: 'Unrecognized transaction type.',\n    SEE_RAW_TRANSACTION: 'Since this type is unrecognized, `rawTransaction` is included in this response.'\n  };\n\n  if (!parser) {\n    includeRawTransaction = true;\n  }\n\n  const outcome = utils_1.parseOutcome(tx);\n  return common_1.removeUndefined({\n    type: type,\n    address: tx.Account,\n    sequence: tx.Sequence,\n    id: tx.hash,\n    specification: common_1.removeUndefined(specification),\n    outcome: outcome ? common_1.removeUndefined(outcome) : undefined,\n    rawTransaction: includeRawTransaction ? JSON.stringify(tx) : undefined\n  });\n}\n\nexports.default = parseTransaction;","map":{"version":3,"mappings":";;;;;;;;;;;;AAAA;;AACA;;AAEA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;AAEA;;AACA;;AAEA,SAASA,oBAAT,CAA8BC,IAA9B,EAAkC;AAEhC,QAAMC,OAAO,GAAG;AACdC,cAAU,EAAE,UADE;AAEdC,iBAAa,EAAE,eAFD;AAGdC,eAAW,EAAE,aAHC;AAIdC,aAAS,EAAE,WAJG;AAKdC,eAAW,EAAE,aALC;AAMdC,kBAAc,EAAE,gBANF;AAOdC,gBAAY,EAAE,oBAPA;AAQdC,gBAAY,EAAE,gBARA;AASdC,gBAAY,EAAE,iBATA;AAUdC,eAAW,EAAE,mBAVC;AAWdC,eAAW,EAAE,OAXC;AAYdC,WAAO,EAAE,SAZK;AAadC,uBAAmB,EAAE,qBAbP;AAcdC,wBAAoB,EAAE,sBAdR;AAedC,sBAAkB,EAAE,oBAfN;AAgBdC,iBAAa,EAAE,UAhBD;AAiBdC,iBAAa,EAAE,UAjBD;AAkBdC,gBAAY,EAAE,cAlBA;AAmBdC,YAAQ,EAAE,WAnBI;AAqBdC,mBAAe,EAAE,WArBH;AAsBdC,UAAM,EAAE;AAtBM,GAAhB;AAwBA,SAAOrB,OAAO,CAACD,IAAD,CAAP,IAAiB,IAAxB;AACD;;AAGD,SAASuB,gBAAT,CAA0BC,EAA1B,EAAmCC,qBAAnC,EAAiE;AAC/D,QAAMzB,IAAI,GAAGD,oBAAoB,CAACyB,EAAE,CAACE,eAAJ,CAAjC;AACA,QAAMzB,OAAO,GAAG;AACd0B,YAAQ,EAAEC,kBADI;AAEdC,iBAAa,EAAEC,wBAFD;AAGdC,eAAW,EAAEC,sBAHC;AAIdC,aAAS,EAAEC,oBAJG;AAKdC,eAAW,EAAEC,sBALC;AAMdC,kBAAc,EAAEC,yBANF;AAOdC,sBAAkB,EAAEC,6BAPN;AAQdC,kBAAc,EAAEC,yBARF;AASdC,mBAAe,EAAEC,0BATH;AAUdC,qBAAiB,EAAEC,sBAVL;AAWdC,SAAK,EAAEC,eAXO;AAYdC,WAAO,EAAEC,iBAZK;AAadC,uBAAmB,EAAEC,+BAbP;AAcdC,wBAAoB,EAAEC,gCAdR;AAedC,sBAAkB,EAAEC,8BAfN;AAgBdC,gBAAY,EAAEC,uBAhBA;AAiBdC,aAAS,EAAEC,mBAjBG;AAmBdC,aAAS,EAAEC,mBAnBG;AAoBdC,aAAS,EAAEC;AApBG,GAAhB;AAsBA,QAAMC,MAAM,GAAahE,OAAO,CAACD,IAAD,CAAhC;AAEA,QAAMkE,aAAa,GAAGD,MAAM,GACxBA,MAAM,CAACzC,EAAD,CADkB,GAExB;AACE2C,eAAW,EAAE,gCADf;AAEEC,uBAAmB,EACjB;AAHJ,GAFJ;;AAOA,MAAI,CAACH,MAAL,EAAa;AACXxC,yBAAqB,GAAG,IAAxB;AACD;;AAED,QAAM4C,OAAO,GAAGC,qBAAa9C,EAAb,CAAhB;AACA,SAAO+C,yBAAgB;AACrBvE,QAAI,EAAEA,IADe;AAErBwE,WAAO,EAAEhD,EAAE,CAACiD,OAFS;AAGrBC,YAAQ,EAAElD,EAAE,CAACmD,QAHQ;AAIrBC,MAAE,EAAEpD,EAAE,CAACqD,IAJc;AAKrBX,iBAAa,EAAEK,yBAAgBL,aAAhB,CALM;AAMrBG,WAAO,EAAEA,OAAO,GAAGE,yBAAgBF,OAAhB,CAAH,GAA8BS,SANzB;AAOrBC,kBAAc,EAAEtD,qBAAqB,GAAGuD,IAAI,CAACC,SAAL,CAAezD,EAAf,CAAH,GAAwBsD;AAPxC,GAAhB,CAAP;AASD;;AAEDI,kBAAe3D,gBAAf","names":["parseTransactionType","type","mapping","AccountSet","AccountDelete","CheckCancel","CheckCash","CheckCreate","DepositPreauth","EscrowCancel","EscrowCreate","EscrowFinish","OfferCancel","OfferCreate","Payment","PaymentChannelClaim","PaymentChannelCreate","PaymentChannelFund","SetRegularKey","SignerListSet","TicketCreate","TrustSet","EnableAmendment","SetFee","parseTransaction","tx","includeRawTransaction","TransactionType","settings","settings_1","accountDelete","account_delete_1","checkCancel","check_cancel_1","checkCash","check_cash_1","checkCreate","check_create_1","depositPreauth","deposit_preauth_1","escrowCancellation","escrow_cancellation_1","escrowCreation","escrow_creation_1","escrowExecution","escrow_execution_1","orderCancellation","cancellation_1","order","order_1","payment","payment_1","paymentChannelClaim","payment_channel_claim_1","paymentChannelCreate","payment_channel_create_1","paymentChannelFund","payment_channel_fund_1","ticketCreate","ticket_create_1","trustline","trustline_1","amendment","amendment_1","feeUpdate","fee_update_1","parser","specification","UNAVAILABLE","SEE_RAW_TRANSACTION","outcome","utils_1","common_1","address","Account","sequence","Sequence","id","hash","undefined","rawTransaction","JSON","stringify","exports"],"sourceRoot":"","sources":["../../../../src/ledger/parse/transaction.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script"}