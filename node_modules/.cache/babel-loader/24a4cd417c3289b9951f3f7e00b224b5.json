{"ast":null,"code":"/**\n * Validation error description.\n */\nvar ValidationError =\n/** @class */\nfunction () {\n  function ValidationError() {}\n  /**\n   *\n   * @param shouldDecorate decorate the message with ANSI formatter escape codes for better readability\n   * @param hasParent true when the error is a child of an another one\n   * @param parentPath path as string to the parent of this property\n   */\n\n\n  ValidationError.prototype.toString = function (shouldDecorate, hasParent, parentPath) {\n    var _this = this;\n\n    if (shouldDecorate === void 0) {\n      shouldDecorate = false;\n    }\n\n    if (hasParent === void 0) {\n      hasParent = false;\n    }\n\n    if (parentPath === void 0) {\n      parentPath = \"\";\n    }\n\n    var boldStart = shouldDecorate ? \"\\u001B[1m\" : \"\";\n    var boldEnd = shouldDecorate ? \"\\u001B[22m\" : \"\";\n\n    var propConstraintFailed = function (propertyName) {\n      return \" - property \" + boldStart + parentPath + propertyName + boldEnd + \" has failed the following constraints: \" + boldStart + Object.keys(_this.constraints).join(\", \") + boldEnd + \" \\n\";\n    };\n\n    if (!hasParent) {\n      return \"An instance of \" + boldStart + (this.target ? this.target.constructor.name : 'an object') + boldEnd + \" has failed the validation:\\n\" + (this.constraints ? propConstraintFailed(this.property) : \"\") + this.children.map(function (childError) {\n        return childError.toString(shouldDecorate, true, _this.property);\n      }).join(\"\");\n    } else {\n      // we format numbers as array indexes for better readability.\n      var formattedProperty_1 = Number.isInteger(+this.property) ? \"[\" + this.property + \"]\" : \"\" + (parentPath ? \".\" : \"\") + this.property;\n\n      if (this.constraints) {\n        return propConstraintFailed(formattedProperty_1);\n      } else {\n        return this.children.map(function (childError) {\n          return childError.toString(shouldDecorate, true, \"\" + parentPath + formattedProperty_1);\n        }).join(\"\");\n      }\n    }\n  };\n\n  return ValidationError;\n}();\n\nexport { ValidationError };","map":{"version":3,"mappings":"AAAA;;;AAGA;AAAA;AAAA;AAAA,8BA4EC;AArCC;;;;;;;;AAMAA,iDAASC,cAAT,EAA0CC,SAA1C,EAAsEC,UAAtE,EAA6F;AAA7F;;AAAS;AAAAF;AAA+B;;AAAE;AAAAC;AAA0B;;AAAE;AAAAC;AAAuB;;AAC3F,QAAMC,SAAS,GAAGH,cAAc,GAAG,WAAH,GAAe,EAA/C;AACA,QAAMI,OAAO,GAAGJ,cAAc,GAAG,YAAH,GAAgB,EAA9C;;AACA,QAAMK,oBAAoB,GAAG,UAACC,YAAD,EAAqB;AAChD,8BAAeH,SAAf,GAA2BD,UAA3B,GAAwCI,YAAxC,GAAuDF,OAAvD,GAA8D,yCAA9D,GAAwGD,SAAxG,GAAoHI,MAAM,CAACC,IAAP,CAClHC,KAAI,CAACC,WAD6G,EAElHC,IAFkH,CAE7G,IAF6G,CAApH,GAEeP,OAFf,GAEsB,KAFtB;AAE2B,KAH7B;;AAKA,QAAI,CAACH,SAAL,EAAgB;AACd,aACE,oBAAkBE,SAAlB,IACE,KAAKS,MAAL,GAAc,KAAKA,MAAL,CAAYC,WAAZ,CAAwBC,IAAtC,GAA6C,WAD/C,IAEGV,OAFH,GAEU,+BAFV,IAGC,KAAKM,WAAL,GAAmBL,oBAAoB,CAAC,KAAKU,QAAN,CAAvC,GAAyD,EAH1D,IAIA,KAAKC,QAAL,CAAcC,GAAd,CAAkB,sBAAU;AAAI,yBAAU,CAACC,QAAX,CAAoBlB,cAApB,EAAoC,IAApC,EAA0CS,KAAI,CAACM,QAA/C;AAAwD,OAAxF,EAA0FJ,IAA1F,CAA+F,EAA/F,CALF;AAOD,KARD,MAQO;AACL;AACA,UAAMQ,mBAAiB,GAAGC,MAAM,CAACC,SAAP,CAAiB,CAAC,KAAKN,QAAvB,IACtB,MAAI,KAAKA,QAAT,GAAiB,GADK,GAEtB,MAAGb,UAAU,GAAG,GAAH,GAAS,EAAtB,IAA2B,KAAKa,QAFpC;;AAIA,UAAI,KAAKL,WAAT,EAAsB;AACpB,eAAOL,oBAAoB,CAACc,mBAAD,CAA3B;AACD,OAFD,MAEO;AACL,eAAO,KAAKH,QAAL,CACJC,GADI,CACA,sBAAU;AAAI,2BAAU,CAACC,QAAX,CAAoBlB,cAApB,EAAoC,IAApC,EAA0C,KAAGE,UAAH,GAAgBiB,mBAA1D;AAA8E,SAD5F,EAEJR,IAFI,CAEC,EAFD,CAAP;AAGD;AACF;AACF,GA9BD;;AA+BF;AAAC,CA5ED","names":["ValidationError","shouldDecorate","hasParent","parentPath","boldStart","boldEnd","propConstraintFailed","propertyName","Object","keys","_this","constraints","join","target","constructor","name","property","children","map","toString","formattedProperty_1","Number","isInteger"],"sourceRoot":"","sources":["../../../src/validation/ValidationError.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}